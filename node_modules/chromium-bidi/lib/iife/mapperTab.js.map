{"version":3,"file":"mapperTab.js","sources":["../../node_modules/mitt/dist/mitt.mjs","../cjs/utils/EventEmitter.js","../cjs/utils/log.js","../cjs/utils/ProcessingQueue.js","../cjs/protocol/cdp.js","../cjs/protocol/chromium-bidi.js","../cjs/protocol/webdriver-bidi.js","../cjs/protocol/ErrorResponse.js","../cjs/protocol/protocol.js","../cjs/bidiMapper/BidiNoOpParser.js","../cjs/bidiMapper/domains/browser/BrowserProcessor.js","../cjs/bidiMapper/domains/cdp/CdpProcessor.js","../cjs/utils/assert.js","../cjs/utils/Deferred.js","../cjs/utils/unitConversions.js","../cjs/utils/uuid.js","../cjs/bidiMapper/domains/script/ChannelProxy.js","../cjs/bidiMapper/domains/script/Realm.js","../cjs/bidiMapper/domains/context/BrowsingContextImpl.js","../cjs/bidiMapper/domains/log/logHelper.js","../cjs/bidiMapper/domains/log/LogManager.js","../cjs/bidiMapper/domains/network/NetworkUtils.js","../cjs/bidiMapper/domains/network/NetworkRequest.js","../cjs/bidiMapper/domains/network/NetworkManager.js","../cjs/bidiMapper/domains/context/CdpTarget.js","../cjs/bidiMapper/domains/context/BrowsingContextProcessor.js","../cjs/bidiMapper/domains/input/InputSource.js","../cjs/bidiMapper/domains/input/keyUtils.js","../cjs/bidiMapper/domains/input/USKeyboardLayout.js","../cjs/bidiMapper/domains/input/ActionDispatcher.js","../cjs/utils/Mutex.js","../cjs/bidiMapper/domains/input/InputState.js","../cjs/bidiMapper/domains/input/InputStateManager.js","../cjs/bidiMapper/domains/input/InputProcessor.js","../../node_modules/urlpattern-polyfill/dist/urlpattern.cjs","../../node_modules/urlpattern-polyfill/index.cjs","../cjs/utils/UrlPattern.js","../cjs/bidiMapper/domains/network/NetworkStorage.js","../cjs/bidiMapper/domains/network/NetworkProcessor.js","../cjs/bidiMapper/domains/script/PreloadScriptStorage.js","../cjs/bidiMapper/domains/script/PreloadScript.js","../cjs/bidiMapper/domains/script/ScriptProcessor.js","../cjs/bidiMapper/domains/session/SessionProcessor.js","../cjs/bidiMapper/OutgoingMessage.js","../cjs/bidiMapper/CommandProcessor.js","../cjs/bidiMapper/domains/context/BrowsingContextStorage.js","../cjs/utils/Buffer.js","../cjs/utils/DefaultMap.js","../cjs/utils/IdWrapper.js","../cjs/bidiMapper/domains/events/events.js","../cjs/bidiMapper/domains/events/SubscriptionManager.js","../cjs/bidiMapper/domains/events/EventManager.js","../cjs/bidiMapper/domains/script/RealmStorage.js","../cjs/bidiMapper/BidiServer.js","../cjs/bidiMapper/BidiMapper.js","../cjs/cdp/CdpClient.js","../cjs/cdp/CdpConnection.js","../../node_modules/zod/lib/helpers/util.js","../../node_modules/zod/lib/ZodError.js","../../node_modules/zod/lib/locales/en.js","../../node_modules/zod/lib/errors.js","../../node_modules/zod/lib/helpers/parseUtil.js","../../node_modules/zod/lib/helpers/typeAliases.js","../../node_modules/zod/lib/helpers/errorUtil.js","../../node_modules/zod/lib/types.js","../../node_modules/zod/lib/external.js","../../node_modules/zod/lib/index.js","../cjs/protocol-parser/webdriver-bidi.js","../cjs/protocol-parser/protocol-parser.js","../cjs/bidiTab/BidiParser.js","../cjs/bidiTab/mapperTabPage.js","../cjs/bidiTab/Transport.js","../cjs/bidiTab/bidiTab.js"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventEmitter = void 0;\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst mitt_1 = __importDefault(require(\"mitt\"));\nclass EventEmitter {\n    #emitter = (0, mitt_1.default)();\n    on(type, handler) {\n        this.#emitter.on(type, handler);\n        return this;\n    }\n    /**\n     * Like `on` but the listener will only be fired once and then it will be removed.\n     * @param event The event you'd like to listen to\n     * @param handler The handler function to run when the event occurs\n     * @return `this` to enable chaining method calls.\n     */\n    once(event, handler) {\n        const onceHandler = (eventData) => {\n            handler(eventData);\n            this.off(event, onceHandler);\n        };\n        return this.on(event, onceHandler);\n    }\n    off(type, handler) {\n        this.#emitter.off(type, handler);\n        return this;\n    }\n    /**\n     * Emits an event and call any associated listeners.\n     *\n     * @param event The event to emit.\n     * @param eventData Any data to emit with the event.\n     * @return `true` if there are any listeners, `false` otherwise.\n     */\n    emit(event, eventData) {\n        this.#emitter.emit(event, eventData);\n    }\n    /**\n     * Removes all listeners. If given an event argument, it will remove only\n     * listeners for that event.\n     * @param event - the event to remove listeners for.\n     * @returns `this` to enable you to chain method calls.\n     */\n    removeAllListeners(event) {\n        if (event) {\n            this.#emitter.all.delete(event);\n        }\n        else {\n            this.#emitter.all.clear();\n        }\n        return this;\n    }\n}\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogType = void 0;\nvar LogType;\n(function (LogType) {\n    // keep-sorted start\n    LogType[\"bidi\"] = \"bidi\";\n    LogType[\"cdp\"] = \"cdp\";\n    LogType[\"debug\"] = \"debug\";\n    LogType[\"debugError\"] = \"debug:error\";\n    LogType[\"debugInfo\"] = \"debug:info\";\n    // keep-sorted end\n})(LogType || (exports.LogType = LogType = {}));\n//# sourceMappingURL=log.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProcessingQueue = void 0;\nconst log_js_1 = require(\"./log.js\");\nclass ProcessingQueue {\n    static LOGGER_PREFIX = `${log_js_1.LogType.debug}:queue`;\n    #logger;\n    #processor;\n    #queue = [];\n    // Flag to keep only 1 active processor.\n    #isProcessing = false;\n    constructor(processor, logger) {\n        this.#processor = processor;\n        this.#logger = logger;\n    }\n    add(entry, name) {\n        this.#queue.push([entry, name]);\n        // No need in waiting. Just initialize processor if needed.\n        void this.#processIfNeeded();\n    }\n    async #processIfNeeded() {\n        if (this.#isProcessing) {\n            return;\n        }\n        this.#isProcessing = true;\n        while (this.#queue.length > 0) {\n            const arrayEntry = this.#queue.shift();\n            if (!arrayEntry) {\n                continue;\n            }\n            const [entryPromise, name] = arrayEntry;\n            this.#logger?.(ProcessingQueue.LOGGER_PREFIX, 'Processing event:', name);\n            await entryPromise\n                .then((entry) => {\n                if (entry.kind === 'error') {\n                    this.#logger?.(log_js_1.LogType.debugError, 'Event threw before sending:', entry.error.message, entry.error.stack);\n                    return;\n                }\n                return this.#processor(entry.value);\n            })\n                .catch((error) => {\n                this.#logger?.(log_js_1.LogType.debugError, 'Event was not processed:', error?.message);\n            });\n        }\n        this.#isProcessing = false;\n    }\n}\nexports.ProcessingQueue = ProcessingQueue;\n//# sourceMappingURL=ProcessingQueue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=cdp.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENT_NAMES = exports.Network = exports.BrowsingContext = exports.Log = exports.Script = exports.BiDiModule = void 0;\n// keep-sorted end\nvar BiDiModule;\n(function (BiDiModule) {\n    // keep-sorted start\n    BiDiModule[\"Browser\"] = \"browser\";\n    BiDiModule[\"BrowsingContext\"] = \"browsingContext\";\n    BiDiModule[\"Cdp\"] = \"cdp\";\n    BiDiModule[\"Input\"] = \"input\";\n    BiDiModule[\"Log\"] = \"log\";\n    BiDiModule[\"Network\"] = \"network\";\n    BiDiModule[\"Script\"] = \"script\";\n    BiDiModule[\"Session\"] = \"session\";\n    // keep-sorted end\n})(BiDiModule || (exports.BiDiModule = BiDiModule = {}));\nvar Script;\n(function (Script) {\n    let EventNames;\n    (function (EventNames) {\n        // keep-sorted start\n        EventNames[\"Message\"] = \"script.message\";\n        EventNames[\"RealmCreated\"] = \"script.realmCreated\";\n        EventNames[\"RealmDestroyed\"] = \"script.realmDestroyed\";\n        // keep-sorted end\n    })(EventNames = Script.EventNames || (Script.EventNames = {}));\n})(Script || (exports.Script = Script = {}));\nvar Log;\n(function (Log) {\n    let EventNames;\n    (function (EventNames) {\n        EventNames[\"LogEntryAdded\"] = \"log.entryAdded\";\n    })(EventNames = Log.EventNames || (Log.EventNames = {}));\n})(Log || (exports.Log = Log = {}));\nvar BrowsingContext;\n(function (BrowsingContext) {\n    let EventNames;\n    (function (EventNames) {\n        // keep-sorted start\n        EventNames[\"ContextCreated\"] = \"browsingContext.contextCreated\";\n        EventNames[\"ContextDestroyed\"] = \"browsingContext.contextDestroyed\";\n        EventNames[\"DomContentLoaded\"] = \"browsingContext.domContentLoaded\";\n        EventNames[\"DownloadWillBegin\"] = \"browsingContext.downloadWillBegin\";\n        EventNames[\"FragmentNavigated\"] = \"browsingContext.fragmentNavigated\";\n        EventNames[\"Load\"] = \"browsingContext.load\";\n        EventNames[\"NavigationAborted\"] = \"browsingContext.navigationAborted\";\n        EventNames[\"NavigationFailed\"] = \"browsingContext.navigationFailed\";\n        EventNames[\"NavigationStarted\"] = \"browsingContext.navigationStarted\";\n        EventNames[\"UserPromptClosed\"] = \"browsingContext.userPromptClosed\";\n        EventNames[\"UserPromptOpened\"] = \"browsingContext.userPromptOpened\";\n        // keep-sorted end\n    })(EventNames = BrowsingContext.EventNames || (BrowsingContext.EventNames = {}));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\nvar Network;\n(function (Network) {\n    let EventNames;\n    (function (EventNames) {\n        // keep-sorted start\n        EventNames[\"AuthRequired\"] = \"network.authRequired\";\n        EventNames[\"BeforeRequestSent\"] = \"network.beforeRequestSent\";\n        EventNames[\"FetchError\"] = \"network.fetchError\";\n        EventNames[\"ResponseCompleted\"] = \"network.responseCompleted\";\n        EventNames[\"ResponseStarted\"] = \"network.responseStarted\";\n        // keep-sorted end\n    })(EventNames = Network.EventNames || (Network.EventNames = {}));\n})(Network || (exports.Network = Network = {}));\nexports.EVENT_NAMES = new Set([\n    // keep-sorted start\n    ...Object.values(BiDiModule),\n    ...Object.values(BrowsingContext.EventNames),\n    ...Object.values(Log.EventNames),\n    ...Object.values(Network.EventNames),\n    ...Object.values(Script.EventNames),\n    // keep-sorted end\n]);\n//# sourceMappingURL=chromium-bidi.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=webdriver-bidi.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsupportedOperationException = exports.UnableToCloseBrowserException = exports.UnableToCaptureScreenException = exports.UnknownErrorException = exports.UnknownCommandException = exports.SessionNotCreatedException = exports.NoSuchScriptException = exports.NoSuchRequestException = exports.NoSuchNodeException = exports.NoSuchInterceptException = exports.NoSuchHistoryEntryException = exports.NoSuchHandleException = exports.NoSuchFrameException = exports.NoSuchElementException = exports.NoSuchAlertException = exports.MoveTargetOutOfBoundsException = exports.InvalidSessionIdException = exports.InvalidArgumentException = exports.Exception = void 0;\nclass Exception {\n    error;\n    message;\n    stacktrace;\n    constructor(error, message, stacktrace) {\n        this.error = error;\n        this.message = message;\n        this.stacktrace = stacktrace;\n    }\n    toErrorResponse(commandId) {\n        return {\n            type: 'error',\n            id: commandId,\n            error: this.error,\n            message: this.message,\n            stacktrace: this.stacktrace,\n        };\n    }\n}\nexports.Exception = Exception;\nclass InvalidArgumentException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"invalid argument\" /* ErrorCode.InvalidArgument */, message, stacktrace);\n    }\n}\nexports.InvalidArgumentException = InvalidArgumentException;\nclass InvalidSessionIdException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"invalid session id\" /* ErrorCode.InvalidSessionId */, message, stacktrace);\n    }\n}\nexports.InvalidSessionIdException = InvalidSessionIdException;\nclass MoveTargetOutOfBoundsException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"move target out of bounds\" /* ErrorCode.MoveTargetOutOfBounds */, message, stacktrace);\n    }\n}\nexports.MoveTargetOutOfBoundsException = MoveTargetOutOfBoundsException;\nclass NoSuchAlertException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such alert\" /* ErrorCode.NoSuchAlert */, message, stacktrace);\n    }\n}\nexports.NoSuchAlertException = NoSuchAlertException;\nclass NoSuchElementException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such element\" /* ErrorCode.NoSuchElement */, message, stacktrace);\n    }\n}\nexports.NoSuchElementException = NoSuchElementException;\nclass NoSuchFrameException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such frame\" /* ErrorCode.NoSuchFrame */, message, stacktrace);\n    }\n}\nexports.NoSuchFrameException = NoSuchFrameException;\nclass NoSuchHandleException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such handle\" /* ErrorCode.NoSuchHandle */, message, stacktrace);\n    }\n}\nexports.NoSuchHandleException = NoSuchHandleException;\nclass NoSuchHistoryEntryException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such history entry\" /* ErrorCode.NoSuchHistoryEntry */, message, stacktrace);\n    }\n}\nexports.NoSuchHistoryEntryException = NoSuchHistoryEntryException;\nclass NoSuchInterceptException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such intercept\" /* ErrorCode.NoSuchIntercept */, message, stacktrace);\n    }\n}\nexports.NoSuchInterceptException = NoSuchInterceptException;\nclass NoSuchNodeException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such node\" /* ErrorCode.NoSuchNode */, message, stacktrace);\n    }\n}\nexports.NoSuchNodeException = NoSuchNodeException;\nclass NoSuchRequestException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such request\" /* ErrorCode.NoSuchRequest */, message, stacktrace);\n    }\n}\nexports.NoSuchRequestException = NoSuchRequestException;\nclass NoSuchScriptException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"no such script\" /* ErrorCode.NoSuchScript */, message, stacktrace);\n    }\n}\nexports.NoSuchScriptException = NoSuchScriptException;\nclass SessionNotCreatedException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"session not created\" /* ErrorCode.SessionNotCreated */, message, stacktrace);\n    }\n}\nexports.SessionNotCreatedException = SessionNotCreatedException;\nclass UnknownCommandException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"unknown command\" /* ErrorCode.UnknownCommand */, message, stacktrace);\n    }\n}\nexports.UnknownCommandException = UnknownCommandException;\nclass UnknownErrorException extends Exception {\n    constructor(message, stacktrace = new Error().stack) {\n        super(\"unknown error\" /* ErrorCode.UnknownError */, message, stacktrace);\n    }\n}\nexports.UnknownErrorException = UnknownErrorException;\nclass UnableToCaptureScreenException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"unable to capture screen\" /* ErrorCode.UnableToCaptureScreen */, message, stacktrace);\n    }\n}\nexports.UnableToCaptureScreenException = UnableToCaptureScreenException;\nclass UnableToCloseBrowserException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"unable to close browser\" /* ErrorCode.UnableToCloseBrowser */, message, stacktrace);\n    }\n}\nexports.UnableToCloseBrowserException = UnableToCloseBrowserException;\nclass UnsupportedOperationException extends Exception {\n    constructor(message, stacktrace) {\n        super(\"unsupported operation\" /* ErrorCode.UnsupportedOperation */, message, stacktrace);\n    }\n}\nexports.UnsupportedOperationException = UnsupportedOperationException;\n//# sourceMappingURL=ErrorResponse.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChromiumBidi = exports.Cdp = void 0;\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexports.Cdp = __importStar(require(\"./cdp.js\"));\nexports.ChromiumBidi = __importStar(require(\"./chromium-bidi.js\"));\n__exportStar(require(\"./webdriver-bidi.js\"), exports);\n__exportStar(require(\"./ErrorResponse.js\"), exports);\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BidiNoOpParser = void 0;\nclass BidiNoOpParser {\n    // Browsing Context domain\n    // keep-sorted start block=yes\n    parseActivateParams(params) {\n        return params;\n    }\n    parseCaptureScreenshotParams(params) {\n        return params;\n    }\n    parseCloseParams(params) {\n        return params;\n    }\n    parseCreateParams(params) {\n        return params;\n    }\n    parseGetTreeParams(params) {\n        return params;\n    }\n    parseHandleUserPromptParams(params) {\n        return params;\n    }\n    parseNavigateParams(params) {\n        return params;\n    }\n    parsePrintParams(params) {\n        return params;\n    }\n    parseReloadParams(params) {\n        return params;\n    }\n    parseSetViewportParams(params) {\n        return params;\n    }\n    parseTraverseHistoryParams(params) {\n        return params;\n    }\n    // keep-sorted end\n    // CDP domain\n    // keep-sorted start block=yes\n    parseGetSessionParams(params) {\n        return params;\n    }\n    parseSendCommandParams(params) {\n        return params;\n    }\n    // keep-sorted end\n    // Script domain\n    // keep-sorted start block=yes\n    parseAddPreloadScriptParams(params) {\n        return params;\n    }\n    parseCallFunctionParams(params) {\n        return params;\n    }\n    parseDisownParams(params) {\n        return params;\n    }\n    parseEvaluateParams(params) {\n        return params;\n    }\n    parseGetRealmsParams(params) {\n        return params;\n    }\n    parseRemovePreloadScriptParams(params) {\n        return params;\n    }\n    // keep-sorted end\n    // Input domain\n    // keep-sorted start block=yes\n    parsePerformActionsParams(params) {\n        return params;\n    }\n    parseReleaseActionsParams(params) {\n        return params;\n    }\n    // keep-sorted end\n    // Network domain\n    // keep-sorted start block=yes\n    parseAddInterceptParams(params) {\n        return params;\n    }\n    parseContinueRequestParams(params) {\n        return params;\n    }\n    parseContinueResponseParams(params) {\n        return params;\n    }\n    parseContinueWithAuthParams(params) {\n        return params;\n    }\n    parseFailRequestParams(params) {\n        return params;\n    }\n    parseProvideResponseParams(params) {\n        return params;\n    }\n    parseRemoveInterceptParams(params) {\n        return params;\n    }\n    // keep-sorted end\n    // Session domain\n    // keep-sorted start block=yes\n    parseSubscribeParams(params) {\n        return params;\n    }\n}\nexports.BidiNoOpParser = BidiNoOpParser;\n//# sourceMappingURL=BidiNoOpParser.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserProcessor = void 0;\nclass BrowserProcessor {\n    #browserCdpClient;\n    constructor(browserCdpClient) {\n        this.#browserCdpClient = browserCdpClient;\n    }\n    close() {\n        // Ensure that it is put at the end of the event loop.\n        // This way we send back the response before closing the tab.\n        setTimeout(() => this.#browserCdpClient.sendCommand('Browser.close'), 0);\n        return {};\n    }\n}\nexports.BrowserProcessor = BrowserProcessor;\n//# sourceMappingURL=BrowserProcessor.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CdpProcessor = void 0;\nclass CdpProcessor {\n    #browsingContextStorage;\n    #cdpConnection;\n    #browserCdpClient;\n    constructor(browsingContextStorage, cdpConnection, browserCdpClient) {\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#cdpConnection = cdpConnection;\n        this.#browserCdpClient = browserCdpClient;\n    }\n    getSession(params) {\n        const context = params.context;\n        const sessionId = this.#browsingContextStorage.getContext(context).cdpTarget.cdpSessionId;\n        if (sessionId === undefined) {\n            return {};\n        }\n        return { session: sessionId };\n    }\n    async sendCommand(params) {\n        const client = params.session\n            ? this.#cdpConnection.getCdpClient(params.session)\n            : this.#browserCdpClient;\n        const result = await client.sendCommand(params.method, params.params);\n        return {\n            result,\n            session: params.session,\n        };\n    }\n}\nexports.CdpProcessor = CdpProcessor;\n//# sourceMappingURL=CdpProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assert = void 0;\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction assert(predicate, message) {\n    if (!predicate) {\n        throw new Error(message ?? 'Internal assertion failed.');\n    }\n}\nexports.assert = assert;\n//# sourceMappingURL=assert.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Deferred = void 0;\nclass Deferred {\n    #isFinished = false;\n    #promise;\n    #resolve;\n    #reject;\n    get isFinished() {\n        return this.#isFinished;\n    }\n    constructor() {\n        this.#promise = new Promise((resolve, reject) => {\n            this.#resolve = resolve;\n            this.#reject = reject;\n        });\n        // Needed to avoid `Uncaught (in promise)`. The promises returned by `then`\n        // and `catch` will be rejected anyway.\n        this.#promise.catch((_error) => {\n            // Intentionally empty.\n        });\n    }\n    then(onFulfilled, onRejected) {\n        return this.#promise.then(onFulfilled, onRejected);\n    }\n    catch(onRejected) {\n        return this.#promise.catch(onRejected);\n    }\n    resolve(value) {\n        if (!this.#isFinished) {\n            this.#isFinished = true;\n            this.#resolve(value);\n        }\n    }\n    reject(reason) {\n        if (!this.#isFinished) {\n            this.#isFinished = true;\n            this.#reject(reason);\n        }\n    }\n    finally(onFinally) {\n        return this.#promise.finally(onFinally);\n    }\n    [Symbol.toStringTag] = 'Promise';\n}\nexports.Deferred = Deferred;\n//# sourceMappingURL=Deferred.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inchesFromCm = void 0;\n/** @return Given an input in cm, convert it to inches. */\nfunction inchesFromCm(cm) {\n    return cm / 2.54;\n}\nexports.inchesFromCm = inchesFromCm;\n//# sourceMappingURL=unitConversions.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uuidv4 = void 0;\n/**\n * Generates a random v4 UUID, as specified in RFC4122.\n *\n * Uses the native Web Crypto API if available, otherwise falls back to a\n * polyfill.\n *\n * Example: '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'\n */\nfunction uuidv4() {\n    // Available only in secure contexts\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API\n    if ('crypto' in globalThis && 'randomUUID' in globalThis.crypto) {\n        // Node with\n        // https://nodejs.org/dist/latest-v20.x/docs/api/globals.html#crypto_1 or\n        // secure browser context.\n        return globalThis.crypto.randomUUID();\n    }\n    const randomValues = new Uint8Array(16);\n    if ('crypto' in globalThis && 'getRandomValues' in globalThis.crypto) {\n        // Node with\n        // https://nodejs.org/dist/latest-v20.x/docs/api/globals.html#crypto_1 or\n        // browser.\n        globalThis.crypto.getRandomValues(randomValues);\n    }\n    else {\n        // Node without\n        // https://nodejs.org/dist/latest-v20.x/docs/api/globals.html#crypto_1.\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        require('crypto').webcrypto.getRandomValues(randomValues);\n    }\n    // Set version (4) and variant (RFC4122) bits.\n    randomValues[6] = (randomValues[6] & 0x0f) | 0x40;\n    randomValues[8] = (randomValues[8] & 0x3f) | 0x80;\n    const bytesToHex = (bytes) => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n    return [\n        bytesToHex(randomValues.subarray(0, 4)),\n        bytesToHex(randomValues.subarray(4, 6)),\n        bytesToHex(randomValues.subarray(6, 8)),\n        bytesToHex(randomValues.subarray(8, 10)),\n        bytesToHex(randomValues.subarray(10, 16)),\n    ].join('-');\n}\nexports.uuidv4 = uuidv4;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelProxy = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst log_js_1 = require(\"../../../utils/log.js\");\nconst uuid_js_1 = require(\"../../../utils/uuid.js\");\n/**\n * Used to send messages from realm to BiDi user.\n */\nclass ChannelProxy {\n    #properties;\n    #id = (0, uuid_js_1.uuidv4)();\n    #logger;\n    constructor(channel, logger) {\n        this.#properties = channel;\n        this.#logger = logger;\n    }\n    /**\n     * Creates a channel proxy in the given realm, initialises listener and\n     * returns a handle to `sendMessage` delegate.\n     */\n    async init(realm, eventManager) {\n        const channelHandle = await ChannelProxy.#createAndGetHandleInRealm(realm);\n        const sendMessageHandle = await ChannelProxy.#createSendMessageHandle(realm, channelHandle);\n        void this.#startListener(realm, channelHandle, eventManager);\n        return sendMessageHandle;\n    }\n    /** Gets a ChannelProxy from window and returns its handle. */\n    async startListenerFromWindow(realm, eventManager) {\n        try {\n            const channelHandle = await this.#getHandleFromWindow(realm);\n            void this.#startListener(realm, channelHandle, eventManager);\n        }\n        catch (error) {\n            this.#logger?.(log_js_1.LogType.debugError, error);\n        }\n    }\n    /**\n     * Evaluation string which creates a ChannelProxy object on the client side.\n     */\n    static #createChannelProxyEvalStr() {\n        const functionStr = String(() => {\n            const queue = [];\n            let queueNonEmptyResolver = null;\n            return {\n                /**\n                 * Gets a promise, which is resolved as soon as a message occurs\n                 * in the queue.\n                 */\n                async getMessage() {\n                    const onMessage = queue.length > 0\n                        ? Promise.resolve()\n                        : new Promise((resolve) => {\n                            queueNonEmptyResolver = resolve;\n                        });\n                    await onMessage;\n                    return queue.shift();\n                },\n                /**\n                 * Adds a message to the queue.\n                 * Resolves the pending promise if needed.\n                 */\n                sendMessage(message) {\n                    queue.push(message);\n                    if (queueNonEmptyResolver !== null) {\n                        queueNonEmptyResolver();\n                        queueNonEmptyResolver = null;\n                    }\n                },\n            };\n        });\n        return `(${functionStr})()`;\n    }\n    /** Creates a ChannelProxy in the given realm. */\n    static async #createAndGetHandleInRealm(realm) {\n        const createChannelHandleResult = await realm.cdpClient.sendCommand('Runtime.evaluate', {\n            expression: this.#createChannelProxyEvalStr(),\n            contextId: realm.executionContextId,\n            serializationOptions: {\n                serialization: \"idOnly\" /* Protocol.Runtime.SerializationOptionsSerialization.IdOnly */,\n            },\n        });\n        if (createChannelHandleResult.exceptionDetails ||\n            createChannelHandleResult.result.objectId === undefined) {\n            throw new Error(`Cannot create channel`);\n        }\n        return createChannelHandleResult.result.objectId;\n    }\n    /** Gets a handle to `sendMessage` delegate from the ChannelProxy handle. */\n    static async #createSendMessageHandle(realm, channelHandle) {\n        const sendMessageArgResult = await realm.cdpClient.sendCommand('Runtime.callFunctionOn', {\n            functionDeclaration: String((channelHandle) => {\n                return channelHandle.sendMessage;\n            }),\n            arguments: [{ objectId: channelHandle }],\n            executionContextId: realm.executionContextId,\n            serializationOptions: {\n                serialization: \"idOnly\" /* Protocol.Runtime.SerializationOptionsSerialization.IdOnly */,\n            },\n        });\n        // TODO: check for exceptionDetails.\n        return sendMessageArgResult.result.objectId;\n    }\n    /** Starts listening for the channel events of the provided ChannelProxy. */\n    async #startListener(realm, channelHandle, eventManager) {\n        // noinspection InfiniteLoopJS\n        for (;;) {\n            try {\n                const message = await realm.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                    functionDeclaration: String(async (channelHandle) => await channelHandle.getMessage()),\n                    arguments: [\n                        {\n                            objectId: channelHandle,\n                        },\n                    ],\n                    awaitPromise: true,\n                    executionContextId: realm.executionContextId,\n                    serializationOptions: {\n                        serialization: \"deep\" /* Protocol.Runtime.SerializationOptionsSerialization.Deep */,\n                        maxDepth: this.#properties.serializationOptions?.maxObjectDepth ??\n                            undefined,\n                    },\n                });\n                if (message.exceptionDetails) {\n                    throw message.exceptionDetails;\n                }\n                eventManager.registerEvent({\n                    type: 'event',\n                    method: protocol_js_1.ChromiumBidi.Script.EventNames.Message,\n                    params: {\n                        channel: this.#properties.channel,\n                        data: realm.cdpToBidiValue(message, this.#properties.ownership ?? \"none\" /* Script.ResultOwnership.None */),\n                        source: {\n                            realm: realm.realmId,\n                            context: realm.browsingContextId,\n                        },\n                    },\n                }, realm.browsingContextId);\n            }\n            catch (error) {\n                // If an error is thrown, then the channel is permanently broken, so we\n                // exit the loop.\n                this.#logger?.(log_js_1.LogType.debugError, error);\n                break;\n            }\n        }\n    }\n    /**\n     * Returns a handle of ChannelProxy from window's property which was set there\n     * by `getEvalInWindowStr`. If window property is not set yet, sets a promise\n     * resolver to the window property, so that `getEvalInWindowStr` can resolve\n     * the promise later on with the channel.\n     * This is needed because `getEvalInWindowStr` can be called before or\n     * after this method.\n     */\n    async #getHandleFromWindow(realm) {\n        const channelHandleResult = await realm.cdpClient.sendCommand('Runtime.callFunctionOn', {\n            functionDeclaration: String((id) => {\n                const w = window;\n                if (w[id] === undefined) {\n                    // The channelProxy is not created yet. Create a promise, put the\n                    // resolver to window property and return the promise.\n                    // `getEvalInWindowStr` will resolve the promise later.\n                    return new Promise((resolve) => (w[id] = resolve));\n                }\n                // The channelProxy is already created by `getEvalInWindowStr` and\n                // is set into window property. Return it.\n                const channelProxy = w[id];\n                delete w[id];\n                return channelProxy;\n            }),\n            arguments: [{ value: this.#id }],\n            executionContextId: realm.executionContextId,\n            awaitPromise: true,\n            serializationOptions: {\n                serialization: \"idOnly\" /* Protocol.Runtime.SerializationOptionsSerialization.IdOnly */,\n            },\n        });\n        if (channelHandleResult.exceptionDetails !== undefined ||\n            channelHandleResult.result.objectId === undefined) {\n            throw new Error(`ChannelHandle not found in window[\"${this.#id}\"]`);\n        }\n        return channelHandleResult.result.objectId;\n    }\n    /**\n     * String to be evaluated to create a ProxyChannel and put it to window.\n     * Returns the delegate `sendMessage`. Used to provide an argument for preload\n     * script. Does the following:\n     * 1. Creates a ChannelProxy.\n     * 2. Puts the ChannelProxy to window['${this.#id}'] or resolves the promise\n     *    by calling delegate stored in window['${this.#id}'].\n     *    This is needed because `#getHandleFromWindow` can be called before or\n     *    after this method.\n     * 3. Returns the delegate `sendMessage` of the created ChannelProxy.\n     */\n    getEvalInWindowStr() {\n        const delegate = String((id, channelProxy) => {\n            const w = window;\n            if (w[id] === undefined) {\n                // `#getHandleFromWindow` is not initialized yet, and will get the\n                // channelProxy later.\n                w[id] = channelProxy;\n            }\n            else {\n                // `#getHandleFromWindow` is already set a delegate to window property\n                // and is waiting for it to be called with the channelProxy.\n                w[id](channelProxy);\n                delete w[id];\n            }\n            return channelProxy.sendMessage;\n        });\n        const channelProxyEval = ChannelProxy.#createChannelProxyEvalStr();\n        return `(${delegate})('${this.#id}',${channelProxyEval})`;\n    }\n}\nexports.ChannelProxy = ChannelProxy;\n//# sourceMappingURL=ChannelProxy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Realm = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst log_js_1 = require(\"../../../utils/log.js\");\nconst uuid_js_1 = require(\"../../../utils/uuid.js\");\nconst ChannelProxy_js_1 = require(\"./ChannelProxy.js\");\nconst SHARED_ID_DIVIDER = '_element_';\nclass Realm {\n    #realmStorage;\n    #browsingContextStorage;\n    #realmId;\n    #browsingContextId;\n    #executionContextId;\n    #origin;\n    #type;\n    #cdpClient;\n    #eventManager;\n    sandbox;\n    #logger;\n    constructor(realmStorage, browsingContextStorage, realmId, browsingContextId, executionContextId, origin, type, sandbox, cdpClient, eventManager, logger) {\n        this.#realmId = realmId;\n        this.#browsingContextId = browsingContextId;\n        this.#executionContextId = executionContextId;\n        this.sandbox = sandbox;\n        this.#origin = origin;\n        this.#type = type;\n        this.#cdpClient = cdpClient;\n        this.#realmStorage = realmStorage;\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#eventManager = eventManager;\n        this.#logger = logger;\n        this.#realmStorage.addRealm(this);\n        this.#eventManager.registerEvent({\n            type: 'event',\n            method: protocol_js_1.ChromiumBidi.Script.EventNames.RealmCreated,\n            params: this.realmInfo,\n        }, this.browsingContextId);\n    }\n    cdpToBidiValue(cdpValue, resultOwnership) {\n        const bidiValue = this.#deepSerializedToBiDi(cdpValue.result.deepSerializedValue, new Map());\n        if (cdpValue.result.objectId) {\n            const objectId = cdpValue.result.objectId;\n            if (resultOwnership === \"root\" /* Script.ResultOwnership.Root */) {\n                // Extend BiDi value with `handle` based on required `resultOwnership`\n                // and  CDP response but not on the actual BiDi type.\n                bidiValue.handle = objectId;\n                // Remember all the handles sent to client.\n                this.#realmStorage.knownHandlesToRealmMap.set(objectId, this.realmId);\n            }\n            else {\n                // No need to await for the object to be released.\n                void this.#releaseObject(objectId).catch((error) => this.#logger?.(log_js_1.LogType.debugError, error));\n            }\n        }\n        if (cdpValue.result.type === 'object') {\n            switch (cdpValue.result.subtype) {\n                case 'generator':\n                case 'iterator':\n                    bidiValue.type = cdpValue.result.subtype;\n                    delete bidiValue['value'];\n                    break;\n                default:\n                // Intentionally left blank.\n            }\n        }\n        return bidiValue;\n    }\n    /**\n     * Relies on the CDP to implement proper BiDi serialization, except:\n     * * CDP integer property `backendNodeId` is replaced with `sharedId` of\n     * `{documentId}_element_{backendNodeId}`;\n     * * CDP integer property `weakLocalObjectReference` is replaced with UUID `internalId`\n     * using unique-per serialization `internalIdMap`.\n     * * CDP type `platformobject` is replaced with `object`.\n     * @param deepSerializedValue - CDP value to be converted to BiDi.\n     * @param internalIdMap - Map from CDP integer `weakLocalObjectReference` to BiDi UUID\n     * `internalId`.\n     */\n    #deepSerializedToBiDi(deepSerializedValue, internalIdMap) {\n        if (Object.hasOwn(deepSerializedValue, 'weakLocalObjectReference')) {\n            const weakLocalObjectReference = deepSerializedValue.weakLocalObjectReference;\n            if (!internalIdMap.has(weakLocalObjectReference)) {\n                internalIdMap.set(weakLocalObjectReference, (0, uuid_js_1.uuidv4)());\n            }\n            deepSerializedValue.internalId = internalIdMap.get(weakLocalObjectReference);\n            delete deepSerializedValue['weakLocalObjectReference'];\n        }\n        // Platform object is a special case. It should have only `{type: object}`\n        // without `value` field.\n        if (deepSerializedValue.type === 'platformobject') {\n            return { type: 'object' };\n        }\n        const bidiValue = deepSerializedValue.value;\n        if (bidiValue === undefined) {\n            return deepSerializedValue;\n        }\n        if (deepSerializedValue.type === 'node') {\n            if (Object.hasOwn(bidiValue, 'backendNodeId')) {\n                deepSerializedValue.sharedId = `${this.navigableId}${SHARED_ID_DIVIDER}${bidiValue.backendNodeId}`;\n                delete bidiValue['backendNodeId'];\n            }\n            if (Object.hasOwn(bidiValue, 'children')) {\n                for (const i in bidiValue.children) {\n                    bidiValue.children[i] = this.#deepSerializedToBiDi(bidiValue.children[i], internalIdMap);\n                }\n            }\n            if (Object.hasOwn(bidiValue, 'shadowRoot') &&\n                bidiValue.shadowRoot !== null) {\n                bidiValue.shadowRoot = this.#deepSerializedToBiDi(bidiValue.shadowRoot, internalIdMap);\n            }\n            // `namespaceURI` can be is either `null` or non-empty string.\n            if (bidiValue.namespaceURI === '') {\n                bidiValue.namespaceURI = null;\n            }\n        }\n        // Recursively update the nested values.\n        if (['array', 'set', 'htmlcollection', 'nodelist'].includes(deepSerializedValue.type)) {\n            for (const i in bidiValue) {\n                bidiValue[i] = this.#deepSerializedToBiDi(bidiValue[i], internalIdMap);\n            }\n        }\n        if (['object', 'map'].includes(deepSerializedValue.type)) {\n            for (const i in bidiValue) {\n                bidiValue[i] = [\n                    this.#deepSerializedToBiDi(bidiValue[i][0], internalIdMap),\n                    this.#deepSerializedToBiDi(bidiValue[i][1], internalIdMap),\n                ];\n            }\n        }\n        return deepSerializedValue;\n    }\n    get realmId() {\n        return this.#realmId;\n    }\n    get navigableId() {\n        return (this.#browsingContextStorage.findContext(this.#browsingContextId)\n            ?.navigableId ?? 'UNKNOWN');\n    }\n    get browsingContextId() {\n        return this.#browsingContextId;\n    }\n    get executionContextId() {\n        return this.#executionContextId;\n    }\n    get origin() {\n        return this.#origin;\n    }\n    get type() {\n        return this.#type;\n    }\n    get cdpClient() {\n        return this.#cdpClient;\n    }\n    get realmInfo() {\n        return {\n            realm: this.realmId,\n            origin: this.origin,\n            type: this.type,\n            context: this.browsingContextId,\n            ...(this.sandbox === undefined ? {} : { sandbox: this.sandbox }),\n        };\n    }\n    async evaluate(expression, awaitPromise, resultOwnership, serializationOptions, userActivation = false) {\n        await this.#browsingContextStorage\n            .getContext(this.browsingContextId)\n            .targetUnblockedOrThrow();\n        const cdpEvaluateResult = await this.cdpClient.sendCommand('Runtime.evaluate', {\n            contextId: this.executionContextId,\n            expression,\n            awaitPromise,\n            serializationOptions: Realm.#getSerializationOptions(\"deep\" /* Protocol.Runtime.SerializationOptionsSerialization.Deep */, serializationOptions),\n            userGesture: userActivation,\n        });\n        if (cdpEvaluateResult.exceptionDetails) {\n            return await this.#getExceptionResult(cdpEvaluateResult.exceptionDetails, 0, resultOwnership);\n        }\n        return {\n            realm: this.realmId,\n            result: this.cdpToBidiValue(cdpEvaluateResult, resultOwnership),\n            type: 'success',\n        };\n    }\n    /**\n     * Serializes a given CDP object into BiDi, keeping references in the\n     * target's `globalThis`.\n     */\n    async serializeCdpObject(cdpRemoteObject, resultOwnership) {\n        const argument = Realm.#cdpRemoteObjectToCallArgument(cdpRemoteObject);\n        const cdpValue = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n            functionDeclaration: String((remoteObject) => remoteObject),\n            awaitPromise: false,\n            arguments: [argument],\n            serializationOptions: {\n                serialization: \"deep\" /* Protocol.Runtime.SerializationOptionsSerialization.Deep */,\n            },\n            executionContextId: this.executionContextId,\n        });\n        return this.cdpToBidiValue(cdpValue, resultOwnership);\n    }\n    static #cdpRemoteObjectToCallArgument(cdpRemoteObject) {\n        if (cdpRemoteObject.objectId !== undefined) {\n            return { objectId: cdpRemoteObject.objectId };\n        }\n        if (cdpRemoteObject.unserializableValue !== undefined) {\n            return { unserializableValue: cdpRemoteObject.unserializableValue };\n        }\n        return { value: cdpRemoteObject.value };\n    }\n    /**\n     * Gets the string representation of an object. This is equivalent to\n     * calling `toString()` on the object value.\n     */\n    async stringifyObject(cdpRemoteObject) {\n        const { result } = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n            functionDeclaration: String((remoteObject) => String(remoteObject)),\n            awaitPromise: false,\n            arguments: [cdpRemoteObject],\n            returnByValue: true,\n            executionContextId: this.executionContextId,\n        });\n        return result.value;\n    }\n    async #flattenKeyValuePairs(mappingLocalValue) {\n        const keyValueArray = [];\n        for (const [key, value] of mappingLocalValue) {\n            let keyArg;\n            if (typeof key === 'string') {\n                // Key is a string.\n                keyArg = { value: key };\n            }\n            else {\n                // Key is a serialized value.\n                keyArg = await this.#deserializeToCdpArg(key);\n            }\n            const valueArg = await this.#deserializeToCdpArg(value);\n            keyValueArray.push(keyArg);\n            keyValueArray.push(valueArg);\n        }\n        return keyValueArray;\n    }\n    async #flattenValueList(listLocalValue) {\n        return await Promise.all(listLocalValue.map((localValue) => this.#deserializeToCdpArg(localValue)));\n    }\n    async #serializeCdpExceptionDetails(cdpExceptionDetails, lineOffset, resultOwnership) {\n        const callFrames = cdpExceptionDetails.stackTrace?.callFrames.map((frame) => ({\n            url: frame.url,\n            functionName: frame.functionName,\n            lineNumber: frame.lineNumber - lineOffset,\n            columnNumber: frame.columnNumber,\n        })) ?? [];\n        // Exception should always be there.\n        const exception = cdpExceptionDetails.exception;\n        return {\n            exception: await this.serializeCdpObject(exception, resultOwnership),\n            columnNumber: cdpExceptionDetails.columnNumber,\n            lineNumber: cdpExceptionDetails.lineNumber - lineOffset,\n            stackTrace: {\n                callFrames,\n            },\n            text: (await this.stringifyObject(exception)) || cdpExceptionDetails.text,\n        };\n    }\n    async callFunction(functionDeclaration, thisLocalValue, argumentsLocalValues, awaitPromise, resultOwnership, serializationOptions, userActivation = false) {\n        await this.#browsingContextStorage\n            .getContext(this.browsingContextId)\n            .targetUnblockedOrThrow();\n        const callFunctionAndSerializeScript = `(...args) => {\n      function callFunction(f, args) {\n        const deserializedThis = args.shift();\n        const deserializedArgs = args;\n        return f.apply(deserializedThis, deserializedArgs);\n      }\n      return callFunction((\n        ${functionDeclaration}\n      ), args);\n    }`;\n        const thisAndArgumentsList = [\n            await this.#deserializeToCdpArg(thisLocalValue),\n            ...(await Promise.all(argumentsLocalValues.map(async (argumentLocalValue) => await this.#deserializeToCdpArg(argumentLocalValue)))),\n        ];\n        let cdpCallFunctionResult;\n        try {\n            cdpCallFunctionResult = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                functionDeclaration: callFunctionAndSerializeScript,\n                awaitPromise,\n                arguments: thisAndArgumentsList,\n                serializationOptions: Realm.#getSerializationOptions(\"deep\" /* Protocol.Runtime.SerializationOptionsSerialization.Deep */, serializationOptions),\n                executionContextId: this.executionContextId,\n                userGesture: userActivation,\n            });\n        }\n        catch (error) {\n            // Heuristic to determine if the problem is in the argument.\n            // The check can be done on the `deserialization` step, but this approach\n            // helps to save round-trips.\n            if (error.code === -32000 /* CdpErrorConstants.GENERIC_ERROR */ &&\n                [\n                    'Could not find object with given id',\n                    'Argument should belong to the same JavaScript world as target object',\n                    'Invalid remote object id',\n                ].includes(error.message)) {\n                throw new protocol_js_1.NoSuchHandleException('Handle was not found.');\n            }\n            throw error;\n        }\n        if (cdpCallFunctionResult.exceptionDetails) {\n            return await this.#getExceptionResult(cdpCallFunctionResult.exceptionDetails, 1, resultOwnership);\n        }\n        return {\n            type: 'success',\n            result: this.cdpToBidiValue(cdpCallFunctionResult, resultOwnership),\n            realm: this.realmId,\n        };\n    }\n    async #deserializeToCdpArg(localValue) {\n        if ('sharedId' in localValue && localValue.sharedId) {\n            const [navigableId, rawBackendNodeId] = localValue.sharedId.split(SHARED_ID_DIVIDER);\n            const backendNodeId = parseInt(rawBackendNodeId ?? '');\n            if (isNaN(backendNodeId) ||\n                backendNodeId === undefined ||\n                navigableId === undefined) {\n                throw new protocol_js_1.NoSuchNodeException(`SharedId \"${localValue.sharedId}\" was not found.`);\n            }\n            if (this.navigableId !== navigableId) {\n                throw new protocol_js_1.NoSuchNodeException(`SharedId \"${localValue.sharedId}\" belongs to different document. Current document is ${this.navigableId}.`);\n            }\n            try {\n                const { object } = await this.cdpClient.sendCommand('DOM.resolveNode', {\n                    backendNodeId,\n                    executionContextId: this.executionContextId,\n                });\n                // TODO(#375): Release `obj.object.objectId` after using.\n                return { objectId: object.objectId };\n            }\n            catch (error) {\n                // Heuristic to detect \"no such node\" exception. Based on the  specific\n                // CDP implementation.\n                if (error.code === -32000 /* CdpErrorConstants.GENERIC_ERROR */ &&\n                    error.message === 'No node with given id found') {\n                    throw new protocol_js_1.NoSuchNodeException(`SharedId \"${localValue.sharedId}\" was not found.`);\n                }\n                throw new protocol_js_1.UnknownErrorException(error.message, error.stack);\n            }\n        }\n        else if ('handle' in localValue && localValue.handle) {\n            return { objectId: localValue.handle };\n            // We tried to find a handle value but failed\n            // This allows us to have exhaustive switch on `localValue.type`\n        }\n        else if ('handle' in localValue || 'sharedId' in localValue) {\n            throw new protocol_js_1.NoSuchHandleException('Handle was not found.');\n        }\n        switch (localValue.type) {\n            case 'undefined':\n                return { unserializableValue: 'undefined' };\n            case 'null':\n                return { unserializableValue: 'null' };\n            case 'string':\n                return { value: localValue.value };\n            case 'number':\n                if (localValue.value === 'NaN') {\n                    return { unserializableValue: 'NaN' };\n                }\n                else if (localValue.value === '-0') {\n                    return { unserializableValue: '-0' };\n                }\n                else if (localValue.value === 'Infinity') {\n                    return { unserializableValue: 'Infinity' };\n                }\n                else if (localValue.value === '-Infinity') {\n                    return { unserializableValue: '-Infinity' };\n                }\n                return {\n                    value: localValue.value,\n                };\n            case 'boolean':\n                return { value: Boolean(localValue.value) };\n            case 'bigint':\n                return {\n                    unserializableValue: `BigInt(${JSON.stringify(localValue.value)})`,\n                };\n            case 'date':\n                return {\n                    unserializableValue: `new Date(Date.parse(${JSON.stringify(localValue.value)}))`,\n                };\n            case 'regexp':\n                return {\n                    unserializableValue: `new RegExp(${JSON.stringify(localValue.value.pattern)}, ${JSON.stringify(localValue.value.flags)})`,\n                };\n            case 'map': {\n                // TODO: If none of the nested keys and values has a remote\n                // reference, serialize to `unserializableValue` without CDP roundtrip.\n                const keyValueArray = await this.#flattenKeyValuePairs(localValue.value);\n                const { result } = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                    functionDeclaration: String((...args) => {\n                        const result = new Map();\n                        for (let i = 0; i < args.length; i += 2) {\n                            result.set(args[i], args[i + 1]);\n                        }\n                        return result;\n                    }),\n                    awaitPromise: false,\n                    arguments: keyValueArray,\n                    returnByValue: false,\n                    executionContextId: this.executionContextId,\n                });\n                // TODO(#375): Release `result.objectId` after using.\n                return { objectId: result.objectId };\n            }\n            case 'object': {\n                // TODO: If none of the nested keys and values has a remote\n                // reference, serialize to `unserializableValue` without CDP roundtrip.\n                const keyValueArray = await this.#flattenKeyValuePairs(localValue.value);\n                const { result } = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                    functionDeclaration: String((...args) => {\n                        const result = {};\n                        for (let i = 0; i < args.length; i += 2) {\n                            // Key should be either `string`, `number`, or `symbol`.\n                            const key = args[i];\n                            result[key] = args[i + 1];\n                        }\n                        return result;\n                    }),\n                    awaitPromise: false,\n                    arguments: keyValueArray,\n                    returnByValue: false,\n                    executionContextId: this.executionContextId,\n                });\n                // TODO(#375): Release `result.objectId` after using.\n                return { objectId: result.objectId };\n            }\n            case 'array': {\n                // TODO: If none of the nested items has a remote reference,\n                // serialize to `unserializableValue` without CDP roundtrip.\n                const args = await this.#flattenValueList(localValue.value);\n                const { result } = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                    functionDeclaration: String((...args) => args),\n                    awaitPromise: false,\n                    arguments: args,\n                    returnByValue: false,\n                    executionContextId: this.executionContextId,\n                });\n                // TODO(#375): Release `result.objectId` after using.\n                return { objectId: result.objectId };\n            }\n            case 'set': {\n                // TODO: if none of the nested items has a remote reference,\n                // serialize to `unserializableValue` without CDP roundtrip.\n                const args = await this.#flattenValueList(localValue.value);\n                const { result } = await this.cdpClient.sendCommand('Runtime.callFunctionOn', {\n                    functionDeclaration: String((...args) => new Set(args)),\n                    awaitPromise: false,\n                    arguments: args,\n                    returnByValue: false,\n                    executionContextId: this.executionContextId,\n                });\n                // TODO(#375): Release `result.objectId` after using.\n                return { objectId: result.objectId };\n            }\n            case 'channel': {\n                const channelProxy = new ChannelProxy_js_1.ChannelProxy(localValue.value, this.#logger);\n                const channelProxySendMessageHandle = await channelProxy.init(this, this.#eventManager);\n                return { objectId: channelProxySendMessageHandle };\n            }\n            // TODO(#375): Dispose of nested objects.\n        }\n        // Intentionally outside to handle unknown types\n        throw new Error(`Value ${JSON.stringify(localValue)} is not deserializable.`);\n    }\n    async #getExceptionResult(exceptionDetails, lineOffset, resultOwnership) {\n        return {\n            exceptionDetails: await this.#serializeCdpExceptionDetails(exceptionDetails, lineOffset, resultOwnership),\n            realm: this.realmId,\n            type: 'exception',\n        };\n    }\n    static #getSerializationOptions(serialization, serializationOptions) {\n        return {\n            serialization,\n            additionalParameters: Realm.#getAdditionalSerializationParameters(serializationOptions),\n            ...Realm.#getMaxObjectDepth(serializationOptions),\n        };\n    }\n    static #getAdditionalSerializationParameters(serializationOptions) {\n        const additionalParameters = {};\n        if (serializationOptions.maxDomDepth !== undefined) {\n            additionalParameters['maxNodeDepth'] =\n                serializationOptions.maxDomDepth === null\n                    ? 1000\n                    : serializationOptions.maxDomDepth;\n        }\n        if (serializationOptions.includeShadowTree !== undefined) {\n            additionalParameters['includeShadowTree'] =\n                serializationOptions.includeShadowTree;\n        }\n        return additionalParameters;\n    }\n    static #getMaxObjectDepth(serializationOptions) {\n        return serializationOptions.maxObjectDepth === undefined ||\n            serializationOptions.maxObjectDepth === null\n            ? {}\n            : { maxDepth: serializationOptions.maxObjectDepth };\n    }\n    async #releaseObject(handle) {\n        try {\n            await this.cdpClient.sendCommand('Runtime.releaseObject', {\n                objectId: handle,\n            });\n        }\n        catch (error) {\n            // Heuristic to determine if the problem is in the unknown handler.\n            // Ignore the error if so.\n            if (!(error.code === -32000 /* CdpErrorConstants.GENERIC_ERROR */ &&\n                error.message === 'Invalid remote object id')) {\n                throw error;\n            }\n        }\n    }\n    async disown(handle) {\n        // Disowning an object from different realm does nothing.\n        if (this.#realmStorage.knownHandlesToRealmMap.get(handle) !== this.realmId) {\n            return;\n        }\n        await this.#releaseObject(handle);\n        this.#realmStorage.knownHandlesToRealmMap.delete(handle);\n    }\n    dispose() {\n        this.#eventManager.registerEvent({\n            type: 'event',\n            method: protocol_js_1.ChromiumBidi.Script.EventNames.RealmDestroyed,\n            params: {\n                realm: this.realmId,\n            },\n        }, this.browsingContextId);\n    }\n}\nexports.Realm = Realm;\n//# sourceMappingURL=Realm.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowsingContextImpl = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst Deferred_js_1 = require(\"../../../utils/Deferred.js\");\nconst log_js_1 = require(\"../../../utils/log.js\");\nconst unitConversions_js_1 = require(\"../../../utils/unitConversions.js\");\nconst Realm_js_1 = require(\"../script/Realm.js\");\nclass BrowsingContextImpl {\n    static LOGGER_PREFIX = `${log_js_1.LogType.debug}:browsingContext`;\n    /** The ID of this browsing context. */\n    #id;\n    /**\n     * The ID of the parent browsing context.\n     * If null, this is a top-level context.\n     */\n    #parentId;\n    /** Direct children browsing contexts. */\n    #children = new Set();\n    #browsingContextStorage;\n    #deferreds = {\n        Page: {\n            navigatedWithinDocument: new Deferred_js_1.Deferred(),\n            lifecycleEvent: {\n                DOMContentLoaded: new Deferred_js_1.Deferred(),\n                load: new Deferred_js_1.Deferred(),\n            },\n            frameStartedLoading: new Deferred_js_1.Deferred(),\n        },\n    };\n    #url = 'about:blank';\n    #eventManager;\n    #realmStorage;\n    #loaderId;\n    #cdpTarget;\n    #maybeDefaultRealm;\n    #logger;\n    constructor(cdpTarget, realmStorage, id, parentId, eventManager, browsingContextStorage, logger) {\n        this.#cdpTarget = cdpTarget;\n        this.#realmStorage = realmStorage;\n        this.#id = id;\n        this.#parentId = parentId;\n        this.#eventManager = eventManager;\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#logger = logger;\n    }\n    static create(cdpTarget, realmStorage, id, parentId, eventManager, browsingContextStorage, logger) {\n        const context = new BrowsingContextImpl(cdpTarget, realmStorage, id, parentId, eventManager, browsingContextStorage, logger);\n        context.#initListeners();\n        browsingContextStorage.addContext(context);\n        if (!context.isTopLevelContext()) {\n            context.parent.addChild(context.id);\n        }\n        eventManager.registerEvent({\n            type: 'event',\n            method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.ContextCreated,\n            params: context.serializeToBidiValue(),\n        }, context.id);\n        return context;\n    }\n    static getTimestamp() {\n        // `timestamp` from the event is MonotonicTime, not real time, so\n        // the best Mapper can do is to set the timestamp to the epoch time\n        // of the event arrived.\n        // https://chromedevtools.github.io/devtools-protocol/tot/Network/#type-MonotonicTime\n        return new Date().getTime();\n    }\n    /**\n     * @see https://html.spec.whatwg.org/multipage/document-sequences.html#navigable\n     */\n    get navigableId() {\n        return this.#loaderId;\n    }\n    dispose() {\n        this.#deleteAllChildren();\n        this.#realmStorage.deleteRealms({\n            browsingContextId: this.id,\n        });\n        // Remove context from the parent.\n        if (!this.isTopLevelContext()) {\n            this.parent.#children.delete(this.id);\n        }\n        // Fail all ongoing navigations.\n        this.#failDeferredsIfNotFinished();\n        this.#eventManager.registerEvent({\n            type: 'event',\n            method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.ContextDestroyed,\n            params: this.serializeToBidiValue(),\n        }, this.id);\n        this.#browsingContextStorage.deleteContextById(this.id);\n    }\n    /** Returns the ID of this context. */\n    get id() {\n        return this.#id;\n    }\n    /** Returns the parent context ID. */\n    get parentId() {\n        return this.#parentId;\n    }\n    /** Returns the parent context. */\n    get parent() {\n        if (this.parentId === null) {\n            return null;\n        }\n        return this.#browsingContextStorage.getContext(this.parentId);\n    }\n    /** Returns all direct children contexts. */\n    get directChildren() {\n        return [...this.#children].map((id) => this.#browsingContextStorage.getContext(id));\n    }\n    /** Returns all children contexts, flattened. */\n    get allChildren() {\n        const children = this.directChildren;\n        return children.concat(...children.map((child) => child.allChildren));\n    }\n    /**\n     * Returns true if this is a top-level context.\n     * This is the case whenever the parent context ID is null.\n     */\n    isTopLevelContext() {\n        return this.#parentId === null;\n    }\n    get top() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let topContext = this;\n        let parent = topContext.parent;\n        while (parent) {\n            topContext = parent;\n            parent = topContext.parent;\n        }\n        return topContext;\n    }\n    addChild(childId) {\n        this.#children.add(childId);\n    }\n    #deleteAllChildren() {\n        this.directChildren.map((child) => child.dispose());\n    }\n    get #defaultRealm() {\n        (0, assert_js_1.assert)(this.#maybeDefaultRealm, `No default realm for browsing context ${this.#id}`);\n        return this.#maybeDefaultRealm;\n    }\n    get cdpTarget() {\n        return this.#cdpTarget;\n    }\n    updateCdpTarget(cdpTarget) {\n        this.#cdpTarget = cdpTarget;\n        this.#initListeners();\n    }\n    get url() {\n        return this.#url;\n    }\n    async lifecycleLoaded() {\n        await this.#deferreds.Page.lifecycleEvent.load;\n    }\n    async targetUnblockedOrThrow() {\n        const result = await this.#cdpTarget.targetUnblocked;\n        if (result.kind === 'error') {\n            throw result.error;\n        }\n    }\n    async getOrCreateSandbox(sandbox) {\n        if (sandbox === undefined || sandbox === '') {\n            return this.#defaultRealm;\n        }\n        let maybeSandboxes = this.#realmStorage.findRealms({\n            browsingContextId: this.id,\n            sandbox,\n        });\n        if (maybeSandboxes.length === 0) {\n            await this.#cdpTarget.cdpClient.sendCommand('Page.createIsolatedWorld', {\n                frameId: this.id,\n                worldName: sandbox,\n            });\n            // `Runtime.executionContextCreated` should be emitted by the time the\n            // previous command is done.\n            maybeSandboxes = this.#realmStorage.findRealms({\n                browsingContextId: this.id,\n                sandbox,\n            });\n            (0, assert_js_1.assert)(maybeSandboxes.length !== 0);\n        }\n        // It's possible for more than one sandbox to be created due to provisional\n        // frames. In this case, it's always the first one (i.e. the oldest one)\n        // that is more relevant since the user may have set that one up already\n        // through evaluation.\n        return maybeSandboxes[0];\n    }\n    serializeToBidiValue(maxDepth = 0, addParentField = true) {\n        return {\n            context: this.#id,\n            url: this.url,\n            children: maxDepth > 0\n                ? this.directChildren.map((c) => c.serializeToBidiValue(maxDepth - 1, false))\n                : null,\n            ...(addParentField ? { parent: this.#parentId } : {}),\n        };\n    }\n    onTargetInfoChanged(params) {\n        this.#url = params.targetInfo.url;\n    }\n    #initListeners() {\n        this.#cdpTarget.cdpClient.on('Page.frameNavigated', (params) => {\n            if (this.id !== params.frame.id) {\n                return;\n            }\n            this.#url = params.frame.url + (params.frame.urlFragment ?? '');\n            // At the point the page is initialized, all the nested iframes from the\n            // previous page are detached and realms are destroyed.\n            // Remove children from context.\n            this.#deleteAllChildren();\n        });\n        this.#cdpTarget.cdpClient.on('Page.navigatedWithinDocument', (params) => {\n            if (this.id !== params.frameId) {\n                return;\n            }\n            const timestamp = BrowsingContextImpl.getTimestamp();\n            this.#url = params.url;\n            this.#deferreds.Page.navigatedWithinDocument.resolve(params);\n            this.#eventManager.registerEvent({\n                type: 'event',\n                method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.FragmentNavigated,\n                params: {\n                    context: this.id,\n                    navigation: null,\n                    timestamp,\n                    url: this.#url,\n                },\n            }, this.id);\n        });\n        this.#cdpTarget.cdpClient.on('Page.frameStartedLoading', (params) => {\n            if (this.id !== params.frameId) {\n                return;\n            }\n            this.#eventManager.registerEvent({\n                type: 'event',\n                method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.NavigationStarted,\n                params: {\n                    context: this.id,\n                    navigation: null,\n                    timestamp: BrowsingContextImpl.getTimestamp(),\n                    url: '',\n                },\n            }, this.id);\n        });\n        this.#cdpTarget.cdpClient.on('Page.lifecycleEvent', (params) => {\n            if (this.id !== params.frameId) {\n                return;\n            }\n            if (params.name === 'init') {\n                this.#documentChanged(params.loaderId);\n                return;\n            }\n            if (params.name === 'commit') {\n                this.#loaderId = params.loaderId;\n                return;\n            }\n            // Ignore event from not current navigation.\n            if (params.loaderId !== this.#loaderId) {\n                return;\n            }\n            const timestamp = BrowsingContextImpl.getTimestamp();\n            switch (params.name) {\n                case 'DOMContentLoaded':\n                    this.#eventManager.registerEvent({\n                        type: 'event',\n                        method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.DomContentLoaded,\n                        params: {\n                            context: this.id,\n                            navigation: this.#loaderId ?? null,\n                            timestamp,\n                            url: this.#url,\n                        },\n                    }, this.id);\n                    this.#deferreds.Page.lifecycleEvent.DOMContentLoaded.resolve(params);\n                    break;\n                case 'load':\n                    this.#eventManager.registerEvent({\n                        type: 'event',\n                        method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.Load,\n                        params: {\n                            context: this.id,\n                            navigation: this.#loaderId ?? null,\n                            timestamp,\n                            url: this.#url,\n                        },\n                    }, this.id);\n                    this.#deferreds.Page.lifecycleEvent.load.resolve(params);\n                    break;\n            }\n        });\n        this.#cdpTarget.cdpClient.on('Runtime.executionContextCreated', (params) => {\n            if (params.context.auxData.frameId !== this.id) {\n                return;\n            }\n            // Only this execution contexts are supported for now.\n            if (!['default', 'isolated'].includes(params.context.auxData.type)) {\n                return;\n            }\n            const realm = new Realm_js_1.Realm(this.#realmStorage, this.#browsingContextStorage, params.context.uniqueId, this.id, params.context.id, this.#getOrigin(params), \n            // XXX: differentiate types.\n            'window', \n            // Sandbox name for isolated world.\n            params.context.auxData.type === 'isolated'\n                ? params.context.name\n                : undefined, this.#cdpTarget.cdpClient, this.#eventManager, this.#logger);\n            if (params.context.auxData.isDefault) {\n                this.#maybeDefaultRealm = realm;\n                // Initialize ChannelProxy listeners for all the channels of all the\n                // preload scripts related to this BrowsingContext.\n                // TODO: extend for not default realms by the sandbox name.\n                void Promise.all(this.#cdpTarget\n                    .getChannels()\n                    .map((channel) => channel.startListenerFromWindow(realm, this.#eventManager)));\n            }\n        });\n        this.#cdpTarget.cdpClient.on('Runtime.executionContextDestroyed', (params) => {\n            this.#realmStorage.deleteRealms({\n                cdpSessionId: this.#cdpTarget.cdpSessionId,\n                executionContextId: params.executionContextId,\n            });\n        });\n        this.#cdpTarget.cdpClient.on('Runtime.executionContextsCleared', () => {\n            this.#realmStorage.deleteRealms({\n                cdpSessionId: this.#cdpTarget.cdpSessionId,\n            });\n        });\n        this.#cdpTarget.cdpClient.on('Page.javascriptDialogClosed', (params) => {\n            const accepted = params.result;\n            this.#eventManager.registerEvent({\n                type: 'event',\n                method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.UserPromptClosed,\n                params: {\n                    context: this.id,\n                    accepted,\n                    userText: accepted && params.userInput ? params.userInput : undefined,\n                },\n            }, this.id);\n        });\n        this.#cdpTarget.cdpClient.on('Page.javascriptDialogOpening', (params) => {\n            this.#eventManager.registerEvent({\n                type: 'event',\n                method: protocol_js_1.ChromiumBidi.BrowsingContext.EventNames.UserPromptOpened,\n                params: {\n                    context: this.id,\n                    type: params.type,\n                    message: params.message,\n                    // Don't set the value if empty string\n                    defaultValue: params.defaultPrompt || undefined,\n                },\n            }, this.id);\n        });\n    }\n    #getOrigin(params) {\n        if (params.context.auxData.type === 'isolated') {\n            // Sandbox should have the same origin as the context itself, but in CDP\n            // it has an empty one.\n            return this.#defaultRealm.origin;\n        }\n        // https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin\n        return ['://', ''].includes(params.context.origin)\n            ? 'null'\n            : params.context.origin;\n    }\n    #documentChanged(loaderId) {\n        // Same document navigation.\n        if (loaderId === undefined || this.#loaderId === loaderId) {\n            if (this.#deferreds.Page.navigatedWithinDocument.isFinished) {\n                this.#deferreds.Page.navigatedWithinDocument =\n                    new Deferred_js_1.Deferred();\n            }\n            else {\n                this.#logger?.(BrowsingContextImpl.LOGGER_PREFIX, 'Document changed (navigatedWithinDocument)');\n            }\n            return;\n        }\n        this.#resetDeferredsIfFinished();\n        this.#loaderId = loaderId;\n    }\n    #resetDeferredsIfFinished() {\n        if (this.#deferreds.Page.lifecycleEvent.DOMContentLoaded.isFinished) {\n            this.#deferreds.Page.lifecycleEvent.DOMContentLoaded =\n                new Deferred_js_1.Deferred();\n        }\n        else {\n            this.#logger?.(BrowsingContextImpl.LOGGER_PREFIX, 'Document changed (DOMContentLoaded)');\n        }\n        if (this.#deferreds.Page.lifecycleEvent.load.isFinished) {\n            this.#deferreds.Page.lifecycleEvent.load =\n                new Deferred_js_1.Deferred();\n        }\n        else {\n            this.#logger?.(BrowsingContextImpl.LOGGER_PREFIX, 'Document changed (load)');\n        }\n    }\n    #failDeferredsIfNotFinished() {\n        if (!this.#deferreds.Page.lifecycleEvent.DOMContentLoaded.isFinished) {\n            this.#deferreds.Page.lifecycleEvent.DOMContentLoaded.reject(new protocol_js_1.UnknownErrorException('navigation canceled'));\n        }\n        if (!this.#deferreds.Page.lifecycleEvent.load.isFinished) {\n            this.#deferreds.Page.lifecycleEvent.load.reject(new protocol_js_1.UnknownErrorException('navigation canceled'));\n        }\n    }\n    async navigate(url, wait) {\n        try {\n            new URL(url);\n        }\n        catch {\n            throw new protocol_js_1.InvalidArgumentException(`Invalid URL: ${url}`);\n        }\n        await this.targetUnblockedOrThrow();\n        // TODO: handle loading errors.\n        const cdpNavigateResult = await this.#cdpTarget.cdpClient.sendCommand('Page.navigate', {\n            url,\n            frameId: this.id,\n        });\n        if (cdpNavigateResult.errorText) {\n            throw new protocol_js_1.UnknownErrorException(cdpNavigateResult.errorText);\n        }\n        this.#documentChanged(cdpNavigateResult.loaderId);\n        switch (wait) {\n            case \"none\" /* BrowsingContext.ReadinessState.None */:\n                break;\n            case \"interactive\" /* BrowsingContext.ReadinessState.Interactive */:\n                // No `loaderId` means same-document navigation.\n                if (cdpNavigateResult.loaderId === undefined) {\n                    await this.#deferreds.Page.navigatedWithinDocument;\n                }\n                else {\n                    await this.#deferreds.Page.lifecycleEvent.DOMContentLoaded;\n                }\n                break;\n            case \"complete\" /* BrowsingContext.ReadinessState.Complete */:\n                // No `loaderId` means same-document navigation.\n                if (cdpNavigateResult.loaderId === undefined) {\n                    await this.#deferreds.Page.navigatedWithinDocument;\n                }\n                else {\n                    await this.lifecycleLoaded();\n                }\n                break;\n        }\n        return {\n            navigation: cdpNavigateResult.loaderId ?? null,\n            // Url can change due to redirect get the latest one.\n            url: wait === \"none\" /* BrowsingContext.ReadinessState.None */ ? url : this.#url,\n        };\n    }\n    async reload(ignoreCache, wait) {\n        await this.targetUnblockedOrThrow();\n        await this.#cdpTarget.cdpClient.sendCommand('Page.reload', {\n            ignoreCache,\n        });\n        this.#resetDeferredsIfFinished();\n        switch (wait) {\n            case \"none\" /* BrowsingContext.ReadinessState.None */:\n                break;\n            case \"interactive\" /* BrowsingContext.ReadinessState.Interactive */:\n                await this.#deferreds.Page.lifecycleEvent.DOMContentLoaded;\n                break;\n            case \"complete\" /* BrowsingContext.ReadinessState.Complete */:\n                await this.lifecycleLoaded();\n                break;\n        }\n        return {\n            navigation: wait === \"none\" /* BrowsingContext.ReadinessState.None */\n                ? null\n                : this.navigableId ?? null,\n            url: this.url,\n        };\n    }\n    async setViewport(viewport, devicePixelRatio) {\n        if (viewport === null && devicePixelRatio === null) {\n            await this.#cdpTarget.cdpClient.sendCommand('Emulation.clearDeviceMetricsOverride');\n        }\n        else {\n            try {\n                await this.#cdpTarget.cdpClient.sendCommand('Emulation.setDeviceMetricsOverride', {\n                    width: viewport ? viewport.width : 0,\n                    height: viewport ? viewport.height : 0,\n                    deviceScaleFactor: devicePixelRatio ? devicePixelRatio : 0,\n                    mobile: false,\n                    dontSetVisibleSize: true,\n                });\n            }\n            catch (err) {\n                if (err.message.startsWith(\n                // https://crsrc.org/c/content/browser/devtools/protocol/emulation_handler.cc;l=257;drc=2f6eee84cf98d4227e7c41718dd71b82f26d90ff\n                'Width and height values must be positive')) {\n                    throw new protocol_js_1.UnsupportedOperationException('Provided viewport dimensions are not supported');\n                }\n                throw err;\n            }\n        }\n    }\n    async handleUserPrompt(params) {\n        await this.#cdpTarget.cdpClient.sendCommand('Page.handleJavaScriptDialog', {\n            accept: params.accept ?? true,\n            promptText: params.userText,\n        });\n    }\n    async activate() {\n        await this.#cdpTarget.cdpClient.sendCommand('Page.bringToFront');\n    }\n    async captureScreenshot(params) {\n        if (!this.isTopLevelContext()) {\n            throw new protocol_js_1.UnsupportedOperationException(`Non-top-level 'context' (${params.context}) is currently not supported`);\n        }\n        const formatParameters = getImageFormatParameters(params);\n        // XXX: Focus the original tab after the screenshot is taken.\n        // This is needed because the screenshot gets blocked until the active tab gets focus.\n        await this.#cdpTarget.cdpClient.sendCommand('Page.bringToFront');\n        let captureBeyondViewport = false;\n        let script;\n        params.origin ??= 'viewport';\n        switch (params.origin) {\n            case 'document': {\n                script = String(() => {\n                    const element = document.documentElement;\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: element.scrollWidth,\n                        height: element.scrollHeight,\n                    };\n                });\n                captureBeyondViewport = true;\n                break;\n            }\n            case 'viewport': {\n                script = String(() => {\n                    const viewport = window.visualViewport;\n                    return {\n                        x: viewport.pageLeft,\n                        y: viewport.pageTop,\n                        width: viewport.width,\n                        height: viewport.height,\n                    };\n                });\n                break;\n            }\n        }\n        const realm = await this.getOrCreateSandbox(undefined);\n        const originResult = await realm.callFunction(script, { type: 'undefined' }, [], false, \"none\" /* Script.ResultOwnership.None */, {}, false);\n        (0, assert_js_1.assert)(originResult.type === 'success');\n        const origin = deserializeDOMRect(originResult.result);\n        (0, assert_js_1.assert)(origin);\n        const rect = params.clip\n            ? getIntersectionRect(await this.#parseRect(params.clip), origin)\n            : origin;\n        if (rect.width === 0 || rect.height === 0) {\n            throw new protocol_js_1.UnableToCaptureScreenException(`Unable to capture screenshot with zero dimensions: width=${rect.width}, height=${rect.height}`);\n        }\n        return await this.#cdpTarget.cdpClient.sendCommand('Page.captureScreenshot', {\n            clip: { ...rect, scale: 1.0 },\n            ...formatParameters,\n            captureBeyondViewport,\n        });\n    }\n    async print(params) {\n        const cdpParams = {};\n        if (params.background !== undefined) {\n            cdpParams.printBackground = params.background;\n        }\n        if (params.margin?.bottom !== undefined) {\n            cdpParams.marginBottom = (0, unitConversions_js_1.inchesFromCm)(params.margin.bottom);\n        }\n        if (params.margin?.left !== undefined) {\n            cdpParams.marginLeft = (0, unitConversions_js_1.inchesFromCm)(params.margin.left);\n        }\n        if (params.margin?.right !== undefined) {\n            cdpParams.marginRight = (0, unitConversions_js_1.inchesFromCm)(params.margin.right);\n        }\n        if (params.margin?.top !== undefined) {\n            cdpParams.marginTop = (0, unitConversions_js_1.inchesFromCm)(params.margin.top);\n        }\n        if (params.orientation !== undefined) {\n            cdpParams.landscape = params.orientation === 'landscape';\n        }\n        if (params.page?.height !== undefined) {\n            cdpParams.paperHeight = (0, unitConversions_js_1.inchesFromCm)(params.page.height);\n        }\n        if (params.page?.width !== undefined) {\n            cdpParams.paperWidth = (0, unitConversions_js_1.inchesFromCm)(params.page.width);\n        }\n        if (params.pageRanges !== undefined) {\n            for (const range of params.pageRanges) {\n                if (typeof range === 'number') {\n                    continue;\n                }\n                const rangeParts = range.split('-');\n                if (rangeParts.length < 1 || rangeParts.length > 2) {\n                    throw new protocol_js_1.InvalidArgumentException(`Invalid page range: ${range} is not a valid integer range.`);\n                }\n                if (rangeParts.length === 1) {\n                    void parseInteger(rangeParts[0] ?? '');\n                    continue;\n                }\n                let lowerBound;\n                let upperBound;\n                const [rangeLowerPart = '', rangeUpperPart = ''] = rangeParts;\n                if (rangeLowerPart === '') {\n                    lowerBound = 1;\n                }\n                else {\n                    lowerBound = parseInteger(rangeLowerPart);\n                }\n                if (rangeUpperPart === '') {\n                    upperBound = Number.MAX_SAFE_INTEGER;\n                }\n                else {\n                    upperBound = parseInteger(rangeUpperPart);\n                }\n                if (lowerBound > upperBound) {\n                    throw new protocol_js_1.InvalidArgumentException(`Invalid page range: ${rangeLowerPart} > ${rangeUpperPart}`);\n                }\n            }\n            cdpParams.pageRanges = params.pageRanges.join(',');\n        }\n        if (params.scale !== undefined) {\n            cdpParams.scale = params.scale;\n        }\n        if (params.shrinkToFit !== undefined) {\n            cdpParams.preferCSSPageSize = !params.shrinkToFit;\n        }\n        try {\n            const result = await this.#cdpTarget.cdpClient.sendCommand('Page.printToPDF', cdpParams);\n            return {\n                data: result.data,\n            };\n        }\n        catch (error) {\n            // Effectively zero dimensions.\n            if (error.message ===\n                'invalid print parameters: content area is empty') {\n                throw new protocol_js_1.UnsupportedOperationException(error.message);\n            }\n            throw error;\n        }\n    }\n    /**\n     * See\n     * https://w3c.github.io/webdriver-bidi/#:~:text=If%20command%20parameters%20contains%20%22clip%22%3A\n     */\n    async #parseRect(clip) {\n        switch (clip.type) {\n            case 'box':\n                return { x: clip.x, y: clip.y, width: clip.width, height: clip.height };\n            case 'element': {\n                // TODO: #1213: Use custom sandbox specifically for Chromium BiDi\n                const sandbox = await this.getOrCreateSandbox(undefined);\n                const result = await sandbox.callFunction(String((element) => {\n                    return element instanceof Element;\n                }), { type: 'undefined' }, [clip.element], false, \"none\" /* Script.ResultOwnership.None */, {});\n                if (result.type === 'exception') {\n                    throw new protocol_js_1.NoSuchElementException(`Element '${clip.element.sharedId}' was not found`);\n                }\n                (0, assert_js_1.assert)(result.result.type === 'boolean');\n                if (!result.result.value) {\n                    throw new protocol_js_1.NoSuchElementException(`Node '${clip.element.sharedId}' is not an Element`);\n                }\n                {\n                    const result = await sandbox.callFunction(String((element) => {\n                        const rect = element.getBoundingClientRect();\n                        return {\n                            x: rect.x,\n                            y: rect.y,\n                            height: rect.height,\n                            width: rect.width,\n                        };\n                    }), { type: 'undefined' }, [clip.element], false, \"none\" /* Script.ResultOwnership.None */, {});\n                    (0, assert_js_1.assert)(result.type === 'success');\n                    const rect = deserializeDOMRect(result.result);\n                    if (!rect) {\n                        throw new protocol_js_1.UnableToCaptureScreenException(`Could not get bounding box for Element '${clip.element.sharedId}'`);\n                    }\n                    return rect;\n                }\n            }\n        }\n    }\n    async close() {\n        await this.#cdpTarget.cdpClient.sendCommand('Page.close');\n    }\n    async traverseHistory(delta) {\n        if (delta === 0) {\n            return;\n        }\n        const history = await this.#cdpTarget.cdpClient.sendCommand('Page.getNavigationHistory');\n        const entry = history.entries[history.currentIndex + delta];\n        if (!entry) {\n            throw new protocol_js_1.NoSuchHistoryEntryException(`No history entry at delta ${delta}`);\n        }\n        await this.#cdpTarget.cdpClient.sendCommand('Page.navigateToHistoryEntry', {\n            entryId: entry.id,\n        });\n        this.#resetDeferredsIfFinished();\n        await this.lifecycleLoaded();\n    }\n}\nexports.BrowsingContextImpl = BrowsingContextImpl;\nfunction getImageFormatParameters(params) {\n    const { quality, type } = params.format ?? {\n        type: 'image/png',\n    };\n    switch (type) {\n        case 'image/png': {\n            return { format: 'png' };\n        }\n        case 'image/jpeg': {\n            return {\n                format: 'jpeg',\n                ...(quality === undefined ? {} : { quality: Math.round(quality * 100) }),\n            };\n        }\n        case 'image/webp': {\n            return {\n                format: 'webp',\n                ...(quality === undefined ? {} : { quality: Math.round(quality * 100) }),\n            };\n        }\n    }\n    throw new protocol_js_1.UnsupportedOperationException(`Image format '${type}' is not a supported format`);\n}\nfunction deserializeDOMRect(result) {\n    if (result.type !== 'object' || result.value === undefined) {\n        return;\n    }\n    const x = result.value.find(([key]) => {\n        return key === 'x';\n    })?.[1];\n    const y = result.value.find(([key]) => {\n        return key === 'y';\n    })?.[1];\n    const height = result.value.find(([key]) => {\n        return key === 'height';\n    })?.[1];\n    const width = result.value.find(([key]) => {\n        return key === 'width';\n    })?.[1];\n    if (x?.type !== 'number' ||\n        y?.type !== 'number' ||\n        height?.type !== 'number' ||\n        width?.type !== 'number') {\n        return;\n    }\n    return {\n        x: x.value,\n        y: y.value,\n        width: width.value,\n        height: height.value,\n    };\n}\n/** @see https://w3c.github.io/webdriver-bidi/#normalize-rect */\nfunction normalizeRect(box) {\n    return {\n        ...(box.width < 0\n            ? {\n                x: box.x + box.width,\n                width: -box.width,\n            }\n            : {\n                x: box.x,\n                width: box.width,\n            }),\n        ...(box.height < 0\n            ? {\n                y: box.y + box.height,\n                height: -box.height,\n            }\n            : {\n                y: box.y,\n                height: box.height,\n            }),\n    };\n}\n/** @see https://w3c.github.io/webdriver-bidi/#rectangle-intersection */\nfunction getIntersectionRect(first, second) {\n    first = normalizeRect(first);\n    second = normalizeRect(second);\n    const x = Math.max(first.x, second.x);\n    const y = Math.max(first.y, second.y);\n    return {\n        x,\n        y,\n        width: Math.max(Math.min(first.x + first.width, second.x + second.width) - x, 0),\n        height: Math.max(Math.min(first.y + first.height, second.y + second.height) - y, 0),\n    };\n}\nfunction parseInteger(value) {\n    value = value.trim();\n    if (!/^[0-9]+$/.test(value)) {\n        throw new protocol_js_1.InvalidArgumentException(`Invalid integer: ${value}`);\n    }\n    return parseInt(value);\n}\n//# sourceMappingURL=BrowsingContextImpl.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRemoteValuesText = exports.logMessageFormatter = void 0;\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst specifiers = ['%s', '%d', '%i', '%f', '%o', '%O', '%c'];\nfunction isFormatSpecifier(str) {\n    return specifiers.some((spec) => str.includes(spec));\n}\n/**\n * @param args input remote values to be format printed\n * @return parsed text of the remote values in specific format\n */\nfunction logMessageFormatter(args) {\n    let output = '';\n    const argFormat = args[0].value.toString();\n    const argValues = args.slice(1, undefined);\n    const tokens = argFormat.split(new RegExp(specifiers.map((spec) => `(${spec})`).join('|'), 'g'));\n    for (const token of tokens) {\n        if (token === undefined || token === '') {\n            continue;\n        }\n        if (isFormatSpecifier(token)) {\n            const arg = argValues.shift();\n            // raise an exception when less value is provided\n            (0, assert_js_1.assert)(arg, `Less value is provided: \"${getRemoteValuesText(args, false)}\"`);\n            if (token === '%s') {\n                output += stringFromArg(arg);\n            }\n            else if (token === '%d' || token === '%i') {\n                if (arg.type === 'bigint' ||\n                    arg.type === 'number' ||\n                    arg.type === 'string') {\n                    output += parseInt(arg.value.toString(), 10);\n                }\n                else {\n                    output += 'NaN';\n                }\n            }\n            else if (token === '%f') {\n                if (arg.type === 'bigint' ||\n                    arg.type === 'number' ||\n                    arg.type === 'string') {\n                    output += parseFloat(arg.value.toString());\n                }\n                else {\n                    output += 'NaN';\n                }\n            }\n            else {\n                // %o, %O, %c\n                output += toJson(arg);\n            }\n        }\n        else {\n            output += token;\n        }\n    }\n    // raise an exception when more value is provided\n    if (argValues.length > 0) {\n        throw new Error(`More value is provided: \"${getRemoteValuesText(args, false)}\"`);\n    }\n    return output;\n}\nexports.logMessageFormatter = logMessageFormatter;\n/**\n * @param arg input remote value to be parsed\n * @return parsed text of the remote value\n *\n * input: {\"type\": \"number\", \"value\": 1}\n * output: 1\n *\n * input: {\"type\": \"string\", \"value\": \"abc\"}\n * output: \"abc\"\n *\n * input: {\"type\": \"object\",  \"value\": [[\"id\", {\"type\": \"number\", \"value\": 1}]]}\n * output: '{\"id\": 1}'\n *\n * input: {\"type\": \"object\", \"value\": [[\"font-size\", {\"type\": \"string\", \"value\": \"20px\"}]]}\n * output: '{\"font-size\": \"20px\"}'\n */\nfunction toJson(arg) {\n    // arg type validation\n    if (arg.type !== 'array' &&\n        arg.type !== 'bigint' &&\n        arg.type !== 'date' &&\n        arg.type !== 'number' &&\n        arg.type !== 'object' &&\n        arg.type !== 'string') {\n        return stringFromArg(arg);\n    }\n    if (arg.type === 'bigint') {\n        return `${arg.value.toString()}n`;\n    }\n    if (arg.type === 'number') {\n        return arg.value.toString();\n    }\n    if (['date', 'string'].includes(arg.type)) {\n        return JSON.stringify(arg.value);\n    }\n    if (arg.type === 'object') {\n        return `{${arg.value\n            .map((pair) => {\n            return `${JSON.stringify(pair[0])}:${toJson(pair[1])}`;\n        })\n            .join(',')}}`;\n    }\n    if (arg.type === 'array') {\n        return `[${arg.value?.map((val) => toJson(val)).join(',') ?? ''}]`;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    throw Error(`Invalid value type: ${arg}`);\n}\nfunction stringFromArg(arg) {\n    if (!Object.hasOwn(arg, 'value')) {\n        return arg.type;\n    }\n    switch (arg.type) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n        case 'bigint':\n            return String(arg.value);\n        case 'regexp':\n            return `/${arg.value.pattern}/${arg.value.flags ?? ''}`;\n        case 'date':\n            return new Date(arg.value).toString();\n        case 'object':\n            return `Object(${arg.value?.length ?? ''})`;\n        case 'array':\n            return `Array(${arg.value?.length ?? ''})`;\n        case 'map':\n            return `Map(${arg.value?.length})`;\n        case 'set':\n            return `Set(${arg.value?.length})`;\n        default:\n            return arg.type;\n    }\n}\nfunction getRemoteValuesText(args, formatText) {\n    const arg = args[0];\n    if (!arg) {\n        return '';\n    }\n    // if args[0] is a format specifier, format the args as output\n    if (arg.type === 'string' &&\n        isFormatSpecifier(arg.value.toString()) &&\n        formatText) {\n        return logMessageFormatter(args);\n    }\n    // if args[0] is not a format specifier, just join the args with \\u0020 (unicode 'SPACE')\n    return args\n        .map((arg) => {\n        return stringFromArg(arg);\n    })\n        .join('\\u0020');\n}\nexports.getRemoteValuesText = getRemoteValuesText;\n//# sourceMappingURL=logHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogManager = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst logHelper_js_1 = require(\"./logHelper.js\");\n/** Converts CDP StackTrace object to BiDi StackTrace object. */\nfunction getBidiStackTrace(cdpStackTrace) {\n    const stackFrames = cdpStackTrace?.callFrames.map((callFrame) => {\n        return {\n            columnNumber: callFrame.columnNumber,\n            functionName: callFrame.functionName,\n            lineNumber: callFrame.lineNumber,\n            url: callFrame.url,\n        };\n    });\n    return stackFrames ? { callFrames: stackFrames } : undefined;\n}\nfunction getLogLevel(consoleApiType) {\n    if ([\"error\" /* Log.Level.Error */, 'assert'].includes(consoleApiType)) {\n        return \"error\" /* Log.Level.Error */;\n    }\n    if ([\"debug\" /* Log.Level.Debug */, 'trace'].includes(consoleApiType)) {\n        return \"debug\" /* Log.Level.Debug */;\n    }\n    if ([\"warn\" /* Log.Level.Warn */, 'warning'].includes(consoleApiType)) {\n        return \"warn\" /* Log.Level.Warn */;\n    }\n    return \"info\" /* Log.Level.Info */;\n}\nclass LogManager {\n    #eventManager;\n    #realmStorage;\n    #cdpTarget;\n    constructor(cdpTarget, realmStorage, eventManager) {\n        this.#cdpTarget = cdpTarget;\n        this.#realmStorage = realmStorage;\n        this.#eventManager = eventManager;\n    }\n    static create(cdpTarget, realmStorage, eventManager) {\n        const logManager = new LogManager(cdpTarget, realmStorage, eventManager);\n        logManager.#initializeEntryAddedEventListener();\n        return logManager;\n    }\n    #initializeEntryAddedEventListener() {\n        this.#cdpTarget.cdpClient.on('Runtime.consoleAPICalled', (params) => {\n            // Try to find realm by `cdpSessionId` and `executionContextId`,\n            // if provided.\n            const realm = this.#realmStorage.findRealm({\n                cdpSessionId: this.#cdpTarget.cdpSessionId,\n                executionContextId: params.executionContextId,\n            });\n            const argsPromise = realm === undefined\n                ? Promise.resolve(params.args)\n                : // Properly serialize arguments if possible.\n                    Promise.all(params.args.map((arg) => {\n                        return realm.serializeCdpObject(arg, \"none\" /* Script.ResultOwnership.None */);\n                    }));\n            this.#eventManager.registerPromiseEvent(argsPromise.then((args) => ({\n                kind: 'success',\n                value: {\n                    type: 'event',\n                    method: protocol_js_1.ChromiumBidi.Log.EventNames.LogEntryAdded,\n                    params: {\n                        level: getLogLevel(params.type),\n                        source: {\n                            realm: realm?.realmId ?? 'UNKNOWN',\n                            context: realm?.browsingContextId ?? 'UNKNOWN',\n                        },\n                        text: (0, logHelper_js_1.getRemoteValuesText)(args, true),\n                        timestamp: Math.round(params.timestamp),\n                        stackTrace: getBidiStackTrace(params.stackTrace),\n                        type: 'console',\n                        // Console method is `warn`, not `warning`.\n                        method: params.type === 'warning' ? 'warn' : params.type,\n                        args,\n                    },\n                },\n            })), realm?.browsingContextId ?? 'UNKNOWN', protocol_js_1.ChromiumBidi.Log.EventNames.LogEntryAdded);\n        });\n        this.#cdpTarget.cdpClient.on('Runtime.exceptionThrown', (params) => {\n            // Try to find realm by `cdpSessionId` and `executionContextId`,\n            // if provided.\n            const realm = this.#realmStorage.findRealm({\n                cdpSessionId: this.#cdpTarget.cdpSessionId,\n                executionContextId: params.exceptionDetails.executionContextId,\n            });\n            this.#eventManager.registerPromiseEvent(LogManager.#getExceptionText(params, realm).then((text) => ({\n                kind: 'success',\n                value: {\n                    type: 'event',\n                    method: protocol_js_1.ChromiumBidi.Log.EventNames.LogEntryAdded,\n                    params: {\n                        level: \"error\" /* Log.Level.Error */,\n                        source: {\n                            realm: realm?.realmId ?? 'UNKNOWN',\n                            context: realm?.browsingContextId ?? 'UNKNOWN',\n                        },\n                        text,\n                        timestamp: Math.round(params.timestamp),\n                        stackTrace: getBidiStackTrace(params.exceptionDetails.stackTrace),\n                        type: 'javascript',\n                    },\n                },\n            })), realm?.browsingContextId ?? 'UNKNOWN', protocol_js_1.ChromiumBidi.Log.EventNames.LogEntryAdded);\n        });\n    }\n    /**\n     * Try the best to get the exception text.\n     */\n    static async #getExceptionText(params, realm) {\n        if (!params.exceptionDetails.exception) {\n            return params.exceptionDetails.text;\n        }\n        if (realm === undefined) {\n            return JSON.stringify(params.exceptionDetails.exception);\n        }\n        return await realm.stringifyObject(params.exceptionDetails.exception);\n    }\n}\nexports.LogManager = LogManager;\n//# sourceMappingURL=LogManager.js.map","\"use strict\";\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction = exports.cdpFetchHeadersFromBidiNetworkHeaders = exports.bidiNetworkHeadersFromCdpFetchHeaders = exports.cdpNetworkHeadersFromBidiNetworkHeaders = exports.bidiNetworkHeadersFromCdpNetworkHeaders = exports.computeHeadersSize = void 0;\nfunction computeHeadersSize(headers) {\n    const requestHeaders = headers.reduce((acc, header) => {\n        return `${acc}${header.name}: ${header.value.value}\\r\\n`;\n    }, '');\n    return new TextEncoder().encode(requestHeaders).length;\n}\nexports.computeHeadersSize = computeHeadersSize;\n/** Converts from CDP Network domain headers to Bidi network headers. */\nfunction bidiNetworkHeadersFromCdpNetworkHeaders(headers) {\n    if (!headers) {\n        return [];\n    }\n    return Object.entries(headers).map(([name, value]) => ({\n        name,\n        value: {\n            type: 'string',\n            value,\n        },\n    }));\n}\nexports.bidiNetworkHeadersFromCdpNetworkHeaders = bidiNetworkHeadersFromCdpNetworkHeaders;\n/** Converts from Bidi network headers to CDP Network domain headers. */\nfunction cdpNetworkHeadersFromBidiNetworkHeaders(headers) {\n    if (headers === undefined) {\n        return undefined;\n    }\n    return headers.reduce((result, header) => {\n        // TODO: Distinguish between string and bytes?\n        result[header.name] = header.value.value;\n        return result;\n    }, {});\n}\nexports.cdpNetworkHeadersFromBidiNetworkHeaders = cdpNetworkHeadersFromBidiNetworkHeaders;\n/** Converts from CDP Fetch domain header entries to Bidi network headers. */\nfunction bidiNetworkHeadersFromCdpFetchHeaders(headers) {\n    if (!headers) {\n        return [];\n    }\n    return headers.map(({ name, value }) => ({\n        name,\n        value: {\n            type: 'string',\n            value,\n        },\n    }));\n}\nexports.bidiNetworkHeadersFromCdpFetchHeaders = bidiNetworkHeadersFromCdpFetchHeaders;\n/** Converts from Bidi network headers to CDP Fetch domain header entries. */\nfunction cdpFetchHeadersFromBidiNetworkHeaders(headers) {\n    if (headers === undefined) {\n        return undefined;\n    }\n    return headers.map(({ name, value }) => ({\n        name,\n        value: value.value,\n    }));\n}\nexports.cdpFetchHeadersFromBidiNetworkHeaders = cdpFetchHeadersFromBidiNetworkHeaders;\n/** Converts from Bidi auth action to CDP auth challenge response. */\nfunction cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction(action) {\n    switch (action) {\n        case 'default':\n            return 'Default';\n        case 'cancel':\n            return 'CancelAuth';\n        case 'provideCredentials':\n            return 'ProvideCredentials';\n    }\n}\nexports.cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction = cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction;\n//# sourceMappingURL=NetworkUtils.js.map","\"use strict\";\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NetworkRequest = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst Deferred_js_1 = require(\"../../../utils/Deferred.js\");\nconst NetworkUtils_js_1 = require(\"./NetworkUtils.js\");\n/** Abstracts one individual network request. */\nclass NetworkRequest {\n    static #unknown = 'UNKNOWN';\n    /**\n     * Each network request has an associated request id, which is a string\n     * uniquely identifying that request.\n     *\n     * The identifier for a request resulting from a redirect matches that of the\n     * request that initiated it.\n     */\n    #requestId;\n    // TODO: Handle auth required?\n    /**\n     * Indicates the network intercept phase, if the request is currently blocked.\n     * Undefined necessarily implies that the request is not blocked.\n     */\n    #interceptPhase = undefined;\n    #servedFromCache = false;\n    #redirectCount;\n    #eventManager;\n    #networkStorage;\n    #request = {};\n    #response = {};\n    #beforeRequestSentDeferred = new Deferred_js_1.Deferred();\n    #responseStartedDeferred = new Deferred_js_1.Deferred();\n    #responseCompletedDeferred = new Deferred_js_1.Deferred();\n    #cdpTarget;\n    constructor(requestId, eventManager, networkStorage, cdpTarget, redirectCount = 0) {\n        this.#requestId = requestId;\n        this.#eventManager = eventManager;\n        this.#networkStorage = networkStorage;\n        this.#cdpTarget = cdpTarget;\n        this.#redirectCount = redirectCount;\n    }\n    get requestId() {\n        return this.#requestId;\n    }\n    get url() {\n        return this.#response.info?.url ?? this.#request.info?.request.url;\n    }\n    get redirectCount() {\n        return this.#redirectCount;\n    }\n    get cdpTarget() {\n        return this.#cdpTarget;\n    }\n    isRedirecting() {\n        return Boolean(this.#request.info);\n    }\n    handleRedirect(event) {\n        this.#queueResponseStartedEvent();\n        this.#queueResponseCompletedEvent();\n        this.#response.hasExtraInfo = event.redirectHasExtraInfo;\n        this.#response.info = event.redirectResponse;\n        this.#emitEventsIfReady(true);\n    }\n    #emitEventsIfReady(wasRedirected = false) {\n        const requestExtraInfoCompleted = \n        // Flush redirects\n        wasRedirected ||\n            Boolean(this.#request.extraInfo) ||\n            // Requests from cache don't have extra info\n            this.#servedFromCache ||\n            // Sometimes there is no extra info and the response\n            // is the only place we can find out\n            Boolean(this.#response.info && !this.#response.hasExtraInfo) ||\n            this.#interceptPhase === \"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */;\n        if (this.#request.info && requestExtraInfoCompleted) {\n            this.#beforeRequestSentDeferred.resolve({\n                kind: 'success',\n                value: undefined,\n            });\n        }\n        const responseExtraInfoCompleted = Boolean(this.#response.extraInfo) ||\n            // Response from cache don't have extra info\n            this.#servedFromCache ||\n            // Don't expect extra info if the flag is false\n            Boolean(this.#response.info && !this.#response.hasExtraInfo) ||\n            this.#interceptPhase === \"responseStarted\" /* Network.InterceptPhase.ResponseStarted */;\n        if (this.#response.info && responseExtraInfoCompleted) {\n            this.#responseStartedDeferred.resolve({\n                kind: 'success',\n                value: undefined,\n            });\n            this.#responseCompletedDeferred.resolve({\n                kind: 'success',\n                value: undefined,\n            });\n        }\n    }\n    onRequestWillBeSentEvent(event) {\n        this.#request.info = event;\n        this.#queueBeforeRequestSentEvent();\n        this.#emitEventsIfReady();\n    }\n    onRequestWillBeSentExtraInfoEvent(event) {\n        this.#request.extraInfo = event;\n        this.#emitEventsIfReady();\n    }\n    onResponseReceivedExtraInfoEvent(event) {\n        this.#response.extraInfo = event;\n        this.#emitEventsIfReady();\n    }\n    onResponseReceivedEvent(event) {\n        this.#response.hasExtraInfo = event.hasExtraInfo;\n        this.#response.info = event.response;\n        this.#queueResponseStartedEvent();\n        this.#queueResponseCompletedEvent();\n        this.#emitEventsIfReady();\n    }\n    onServedFromCache() {\n        this.#servedFromCache = true;\n        this.#emitEventsIfReady();\n    }\n    onLoadingFailedEvent(event) {\n        this.#beforeRequestSentDeferred.resolve({\n            kind: 'success',\n            value: undefined,\n        });\n        this.#responseStartedDeferred.resolve({\n            kind: 'error',\n            error: new Error('Network event loading failed'),\n        });\n        this.#responseCompletedDeferred.resolve({\n            kind: 'error',\n            error: new Error('Network event loading failed'),\n        });\n        this.#eventManager.registerEvent({\n            type: 'event',\n            method: protocol_js_1.ChromiumBidi.Network.EventNames.FetchError,\n            params: {\n                ...this.#getBaseEventParams(),\n                errorText: event.errorText,\n            },\n        }, this.#context);\n    }\n    /** Fired whenever a network request interception is hit. */\n    onRequestPaused(params, networkStorage) {\n        if (this.#isIgnoredEvent()) {\n            void this.continueRequest(params.requestId).catch(() => {\n                // TODO: Add some logging\n            });\n            return;\n        }\n        // The stage of the request can be determined by presence of\n        // responseErrorReason and responseStatusCode -- the request is at\n        // the response stage if either of these fields is present and in the\n        // request stage otherwise.\n        let phase;\n        if (params.responseErrorReason === undefined &&\n            params.responseStatusCode === undefined) {\n            phase = \"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */;\n        }\n        else if (params.responseStatusCode === 401 &&\n            params.responseStatusText === 'Unauthorized') {\n            // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n            phase = \"authRequired\" /* Network.InterceptPhase.AuthRequired */;\n        }\n        else {\n            phase = \"responseStarted\" /* Network.InterceptPhase.ResponseStarted */;\n        }\n        const headers = (0, NetworkUtils_js_1.bidiNetworkHeadersFromCdpFetchHeaders)(\n        // TODO: Use params.request.headers if request?\n        params.responseHeaders);\n        (0, assert_js_1.assert)(this.requestId === params.networkId);\n        networkStorage.addBlockedRequest(this.requestId, {\n            request: params.requestId,\n            phase,\n            // TODO: Finish populating response / ResponseData.\n            response: {\n                url: params.request.url,\n                // TODO: populate.\n                protocol: '',\n                status: params.responseStatusCode ?? 0,\n                statusText: params.responseStatusText ?? '',\n                // TODO: populate.\n                fromCache: false,\n                headers,\n                // TODO: populate.\n                mimeType: '',\n                // TODO: populate.\n                bytesReceived: 0,\n                headersSize: (0, NetworkUtils_js_1.computeHeadersSize)(headers),\n                // TODO: consider removing from spec.\n                bodySize: 0,\n                // TODO: consider removing from spec.\n                content: {\n                    size: 0,\n                },\n                // TODO: populate.\n                authChallenge: undefined,\n            },\n        });\n        this.#interceptPhase = phase;\n        this.#emitEventsIfReady();\n    }\n    /** @see https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-failRequest */\n    async failRequest(networkId, errorReason) {\n        await this.#cdpTarget.cdpClient.sendCommand('Fetch.failRequest', {\n            requestId: networkId,\n            errorReason,\n        });\n        this.#interceptPhase = undefined;\n    }\n    /** @see https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-continueRequest */\n    async continueRequest(cdpFetchRequestId, url, method, headers) {\n        // TODO: Expand.\n        await this.#cdpTarget.cdpClient.sendCommand('Fetch.continueRequest', {\n            requestId: cdpFetchRequestId,\n            url,\n            method,\n            headers,\n            // TODO: Set?\n            // postData:,\n            // interceptResponse:,\n        });\n        this.#interceptPhase = undefined;\n    }\n    /** @see https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-continueResponse */\n    async continueResponse(cdpFetchRequestId, responseCode, responsePhrase, responseHeaders) {\n        await this.#cdpTarget.cdpClient.sendCommand('Fetch.continueResponse', {\n            requestId: cdpFetchRequestId,\n            responseCode,\n            responsePhrase,\n            responseHeaders,\n        });\n        this.#interceptPhase = undefined;\n    }\n    /** @see https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-continueWithAuth */\n    async continueWithAuth(cdpFetchRequestId, response, username, password) {\n        await this.#cdpTarget.cdpClient.sendCommand('Fetch.continueWithAuth', {\n            requestId: cdpFetchRequestId,\n            authChallengeResponse: {\n                response,\n                username,\n                password,\n            },\n        });\n        this.#interceptPhase = undefined;\n    }\n    /** @see https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-provideResponse */\n    async provideResponse(cdpFetchRequestId, responseCode, responsePhrase, responseHeaders, body) {\n        await this.#cdpTarget.cdpClient.sendCommand('Fetch.fulfillRequest', {\n            requestId: cdpFetchRequestId,\n            responseCode,\n            responsePhrase,\n            responseHeaders,\n            ...(body ? { body: btoa(body) } : {}), // TODO: Double-check if btoa usage is correct.\n        });\n        this.#interceptPhase = undefined;\n    }\n    dispose() {\n        const result = {\n            kind: 'error',\n            error: new Error('Network processor detached'),\n        };\n        this.#beforeRequestSentDeferred.resolve(result);\n        this.#responseStartedDeferred.resolve(result);\n        this.#responseCompletedDeferred.resolve(result);\n    }\n    get #context() {\n        return this.#request.info?.frameId ?? null;\n    }\n    /** Returns the HTTP status code associated with this request if any. */\n    get statusCode() {\n        return (this.#response.info?.status ?? this.#response.extraInfo?.statusCode ?? -1 // TODO: Throw an exception or use some other status code?\n        );\n    }\n    #getBaseEventParams(phase) {\n        // TODO: Set this in terms of intercepts?\n        const isBlocked = phase !== undefined && phase === this.#interceptPhase;\n        const intercepts = this.#networkStorage.getNetworkIntercepts(this.#requestId, phase);\n        return {\n            isBlocked,\n            context: this.#context,\n            navigation: this.#getNavigationId(),\n            redirectCount: this.#redirectCount,\n            request: this.#getRequestData(),\n            // Timestamp should be in milliseconds, while CDP provides it in seconds.\n            timestamp: Math.round((this.#request.info?.wallTime ?? 0) * 1000),\n            // XXX: we should return correct types from the function.\n            intercepts: isBlocked ? intercepts : undefined,\n        };\n    }\n    #getNavigationId() {\n        if (!this.#request.info ||\n            !this.#request.info.loaderId ||\n            // When we navigate all CDP network events have `loaderId`\n            // CDP's `loaderId` and `requestId` match when\n            // that request triggered the loading\n            this.#request.info.loaderId !== this.#request.info.requestId) {\n            return null;\n        }\n        return this.#request.info.loaderId;\n    }\n    #getRequestData() {\n        const cookies = this.#request.extraInfo\n            ? NetworkRequest.#getCookies(this.#request.extraInfo.associatedCookies)\n            : [];\n        const headers = (0, NetworkUtils_js_1.bidiNetworkHeadersFromCdpNetworkHeaders)(this.#request.info?.request.headers);\n        return {\n            request: this.#request.info?.requestId ?? NetworkRequest.#unknown,\n            url: this.#request.info?.request.url ?? NetworkRequest.#unknown,\n            method: this.#request.info?.request.method ?? NetworkRequest.#unknown,\n            headers,\n            cookies,\n            headersSize: (0, NetworkUtils_js_1.computeHeadersSize)(headers),\n            // TODO: implement.\n            bodySize: 0,\n            timings: this.#getTimings(),\n        };\n    }\n    // TODO: implement.\n    #getTimings() {\n        return {\n            timeOrigin: 0,\n            requestTime: 0,\n            redirectStart: 0,\n            redirectEnd: 0,\n            fetchStart: 0,\n            dnsStart: 0,\n            dnsEnd: 0,\n            connectStart: 0,\n            connectEnd: 0,\n            tlsStart: 0,\n            requestStart: 0,\n            responseStart: 0,\n            responseEnd: 0,\n        };\n    }\n    #queueBeforeRequestSentEvent() {\n        if (this.#isIgnoredEvent()) {\n            return;\n        }\n        this.#eventManager.registerPromiseEvent(this.#beforeRequestSentDeferred.then((result) => {\n            if (result.kind === 'success') {\n                try {\n                    return {\n                        kind: 'success',\n                        value: Object.assign(this.#getBeforeRequestEvent(), {\n                            type: 'event',\n                        }),\n                    };\n                }\n                catch (error) {\n                    return {\n                        kind: 'error',\n                        error: error instanceof Error ? error : new Error('Unknown'),\n                    };\n                }\n            }\n            return result;\n        }), this.#context, protocol_js_1.ChromiumBidi.Network.EventNames.BeforeRequestSent);\n    }\n    #getBeforeRequestEvent() {\n        (0, assert_js_1.assert)(this.#request.info, 'RequestWillBeSentEvent is not set');\n        return {\n            method: protocol_js_1.ChromiumBidi.Network.EventNames.BeforeRequestSent,\n            params: {\n                ...this.#getBaseEventParams(\"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */),\n                initiator: {\n                    type: NetworkRequest.#getInitiatorType(this.#request.info.initiator.type),\n                },\n            },\n        };\n    }\n    #queueResponseStartedEvent() {\n        if (this.#isIgnoredEvent()) {\n            return;\n        }\n        this.#eventManager.registerPromiseEvent(this.#responseStartedDeferred.then((result) => {\n            if (result.kind === 'success') {\n                try {\n                    return {\n                        kind: 'success',\n                        value: Object.assign(this.#getResponseStartedEvent(), {\n                            type: 'event',\n                        }),\n                    };\n                }\n                catch (error) {\n                    return {\n                        kind: 'error',\n                        error: error instanceof Error ? error : new Error('Unknown'),\n                    };\n                }\n            }\n            return result;\n        }), this.#context, protocol_js_1.ChromiumBidi.Network.EventNames.ResponseStarted);\n    }\n    #getResponseStartedEvent() {\n        (0, assert_js_1.assert)(this.#request.info, 'RequestWillBeSentEvent is not set');\n        (0, assert_js_1.assert)(this.#response.info, 'ResponseReceivedEvent is not set');\n        // Chromium sends wrong extraInfo events for responses served from cache.\n        // See https://github.com/puppeteer/puppeteer/issues/9965 and\n        // https://crbug.com/1340398.\n        if (this.#response.info.fromDiskCache) {\n            this.#response.extraInfo = undefined;\n        }\n        const headers = (0, NetworkUtils_js_1.bidiNetworkHeadersFromCdpNetworkHeaders)(this.#response.info.headers);\n        return {\n            method: protocol_js_1.ChromiumBidi.Network.EventNames.ResponseStarted,\n            params: {\n                ...this.#getBaseEventParams(),\n                response: {\n                    url: this.#response.info.url ?? NetworkRequest.#unknown,\n                    protocol: this.#response.info.protocol ?? '',\n                    status: this.statusCode,\n                    statusText: this.#response.info.statusText,\n                    fromCache: this.#response.info.fromDiskCache ||\n                        this.#response.info.fromPrefetchCache ||\n                        this.#servedFromCache,\n                    headers,\n                    mimeType: this.#response.info.mimeType,\n                    bytesReceived: this.#response.info.encodedDataLength,\n                    headersSize: (0, NetworkUtils_js_1.computeHeadersSize)(headers),\n                    // TODO: consider removing from spec.\n                    bodySize: 0,\n                    content: {\n                        // TODO: consider removing from spec.\n                        size: 0,\n                    },\n                },\n            },\n        };\n    }\n    #queueResponseCompletedEvent() {\n        if (this.#isIgnoredEvent()) {\n            return;\n        }\n        this.#eventManager.registerPromiseEvent(this.#responseCompletedDeferred.then((result) => {\n            if (result.kind === 'success') {\n                try {\n                    return {\n                        kind: 'success',\n                        value: Object.assign(this.#getResponseReceivedEvent(), {\n                            type: 'event',\n                        }),\n                    };\n                }\n                catch (error) {\n                    return {\n                        kind: 'error',\n                        error: error instanceof Error ? error : new Error('Unknown'),\n                    };\n                }\n            }\n            return result;\n        }), this.#context, protocol_js_1.ChromiumBidi.Network.EventNames.ResponseCompleted);\n    }\n    #getResponseReceivedEvent() {\n        (0, assert_js_1.assert)(this.#request.info, 'RequestWillBeSentEvent is not set');\n        (0, assert_js_1.assert)(this.#response.info, 'ResponseReceivedEvent is not set');\n        // Chromium sends wrong extraInfo events for responses served from cache.\n        // See https://github.com/puppeteer/puppeteer/issues/9965 and\n        // https://crbug.com/1340398.\n        if (this.#response.info.fromDiskCache) {\n            this.#response.extraInfo = undefined;\n        }\n        const headers = (0, NetworkUtils_js_1.bidiNetworkHeadersFromCdpNetworkHeaders)(this.#response.info.headers);\n        return {\n            method: protocol_js_1.ChromiumBidi.Network.EventNames.ResponseCompleted,\n            params: {\n                ...this.#getBaseEventParams(),\n                response: {\n                    url: this.#response.info.url ?? NetworkRequest.#unknown,\n                    protocol: this.#response.info.protocol ?? '',\n                    status: this.statusCode,\n                    statusText: this.#response.info.statusText,\n                    fromCache: this.#response.info.fromDiskCache ||\n                        this.#response.info.fromPrefetchCache ||\n                        this.#servedFromCache,\n                    headers,\n                    mimeType: this.#response.info.mimeType,\n                    bytesReceived: this.#response.info.encodedDataLength,\n                    headersSize: (0, NetworkUtils_js_1.computeHeadersSize)(headers),\n                    // TODO: consider removing from spec.\n                    bodySize: 0,\n                    content: {\n                        // TODO: consider removing from spec.\n                        size: 0,\n                    },\n                },\n            },\n        };\n    }\n    #isIgnoredEvent() {\n        return this.#request.info?.request.url.endsWith('/favicon.ico') ?? false;\n    }\n    static #getInitiatorType(initiatorType) {\n        switch (initiatorType) {\n            case 'parser':\n            case 'script':\n            case 'preflight':\n                return initiatorType;\n            default:\n                return 'other';\n        }\n    }\n    static #getCookies(associatedCookies) {\n        return associatedCookies\n            .filter(({ blockedReasons }) => {\n            return !Array.isArray(blockedReasons) || blockedReasons.length === 0;\n        })\n            .map(({ cookie }) => {\n            return {\n                name: cookie.name,\n                value: {\n                    type: 'string',\n                    value: cookie.value,\n                },\n                domain: cookie.domain,\n                path: cookie.path,\n                expires: cookie.expires,\n                size: cookie.size,\n                httpOnly: cookie.httpOnly,\n                secure: cookie.secure,\n                sameSite: NetworkRequest.#getCookiesSameSite(cookie.sameSite),\n            };\n        });\n    }\n    static #getCookiesSameSite(cdpSameSiteValue) {\n        switch (cdpSameSiteValue) {\n            case 'Strict':\n                return 'strict';\n            case 'Lax':\n                return 'lax';\n            default:\n                return 'none';\n        }\n    }\n}\nexports.NetworkRequest = NetworkRequest;\n//# sourceMappingURL=NetworkRequest.js.map","\"use strict\";\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NetworkManager = void 0;\nconst NetworkRequest_js_1 = require(\"./NetworkRequest.js\");\n/** Maps 1:1 to CdpTarget. */\nclass NetworkManager {\n    #cdpTarget;\n    #eventManager;\n    #networkStorage;\n    constructor(cdpTarget, eventManager, networkStorage) {\n        this.#cdpTarget = cdpTarget;\n        this.#eventManager = eventManager;\n        this.#networkStorage = networkStorage;\n    }\n    /** Returns the CDP Target associated with this NetworkManager instance. */\n    get cdpTarget() {\n        return this.#cdpTarget;\n    }\n    /**\n     * Gets the network request with the given ID, if any.\n     * Otherwise, creates a new network request with the given ID and cdp target.\n     */\n    #getOrCreateNetworkRequest(id, redirectCount) {\n        let request = this.#networkStorage.getRequest(id);\n        if (request) {\n            return request;\n        }\n        request = new NetworkRequest_js_1.NetworkRequest(id, this.#eventManager, this.#networkStorage, this.#cdpTarget, redirectCount);\n        this.#networkStorage.addRequest(request);\n        return request;\n    }\n    static create(cdpTarget, eventManager, networkStorage) {\n        const networkManager = new NetworkManager(cdpTarget, eventManager, networkStorage);\n        cdpTarget.browserCdpClient.on('Target.detachedFromTarget', (params) => {\n            if (cdpTarget.cdpClient.sessionId === params.sessionId) {\n                networkManager.#networkStorage.disposeRequestMap();\n            }\n        });\n        cdpTarget.cdpClient.on('Network.requestWillBeSent', (params) => {\n            const request = networkManager.#networkStorage.getRequest(params.requestId);\n            if (request && request.isRedirecting()) {\n                request.handleRedirect(params);\n                networkManager.#networkStorage.deleteRequest(params.requestId);\n                networkManager\n                    .#getOrCreateNetworkRequest(params.requestId, request.redirectCount + 1)\n                    .onRequestWillBeSentEvent(params);\n            }\n            else if (request) {\n                request.onRequestWillBeSentEvent(params);\n            }\n            else {\n                networkManager\n                    .#getOrCreateNetworkRequest(params.requestId)\n                    .onRequestWillBeSentEvent(params);\n            }\n        });\n        cdpTarget.cdpClient.on('Network.requestWillBeSentExtraInfo', (params) => {\n            networkManager\n                .#getOrCreateNetworkRequest(params.requestId)\n                .onRequestWillBeSentExtraInfoEvent(params);\n        });\n        cdpTarget.cdpClient.on('Network.responseReceived', (params) => {\n            networkManager\n                .#getOrCreateNetworkRequest(params.requestId)\n                .onResponseReceivedEvent(params);\n        });\n        cdpTarget.cdpClient.on('Network.responseReceivedExtraInfo', (params) => {\n            networkManager\n                .#getOrCreateNetworkRequest(params.requestId)\n                .onResponseReceivedExtraInfoEvent(params);\n        });\n        cdpTarget.cdpClient.on('Network.requestServedFromCache', (params) => {\n            networkManager\n                .#getOrCreateNetworkRequest(params.requestId)\n                .onServedFromCache();\n        });\n        cdpTarget.cdpClient.on('Network.loadingFailed', (params) => {\n            networkManager\n                .#getOrCreateNetworkRequest(params.requestId)\n                .onLoadingFailedEvent(params);\n        });\n        // https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#event-requestPaused\n        cdpTarget.cdpClient.on('Fetch.requestPaused', (params) => {\n            if (params.networkId) {\n                networkManager\n                    .#getOrCreateNetworkRequest(params.networkId)\n                    .onRequestPaused(params, networkManager.#networkStorage);\n            }\n        });\n        return networkManager;\n    }\n}\nexports.NetworkManager = NetworkManager;\n//# sourceMappingURL=NetworkManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CdpTarget = void 0;\nconst Deferred_js_1 = require(\"../../../utils/Deferred.js\");\nconst LogManager_js_1 = require(\"../log/LogManager.js\");\nconst NetworkManager_js_1 = require(\"../network/NetworkManager.js\");\nclass CdpTarget {\n    #targetId;\n    #cdpClient;\n    #browserCdpClient;\n    #cdpSessionId;\n    #eventManager;\n    #preloadScriptStorage;\n    #networkStorage;\n    #targetUnblocked = new Deferred_js_1.Deferred();\n    static create(targetId, cdpClient, browserCdpClient, cdpSessionId, realmStorage, eventManager, preloadScriptStorage, networkStorage) {\n        const cdpTarget = new CdpTarget(targetId, cdpClient, browserCdpClient, cdpSessionId, eventManager, preloadScriptStorage, networkStorage);\n        LogManager_js_1.LogManager.create(cdpTarget, realmStorage, eventManager);\n        NetworkManager_js_1.NetworkManager.create(cdpTarget, eventManager, networkStorage);\n        cdpTarget.#setEventListeners();\n        // No need to await.\n        // Deferred will be resolved when the target is unblocked.\n        void cdpTarget.#unblock();\n        return cdpTarget;\n    }\n    constructor(targetId, cdpClient, browserCdpClient, cdpSessionId, eventManager, preloadScriptStorage, networkStorage) {\n        this.#targetId = targetId;\n        this.#cdpClient = cdpClient;\n        this.#cdpSessionId = cdpSessionId;\n        this.#eventManager = eventManager;\n        this.#preloadScriptStorage = preloadScriptStorage;\n        this.#networkStorage = networkStorage;\n        this.#browserCdpClient = browserCdpClient;\n    }\n    /** Returns a promise that resolves when the target is unblocked. */\n    get targetUnblocked() {\n        return this.#targetUnblocked;\n    }\n    get targetId() {\n        return this.#targetId;\n    }\n    get cdpClient() {\n        return this.#cdpClient;\n    }\n    get browserCdpClient() {\n        return this.#browserCdpClient;\n    }\n    /** Needed for CDP escape path. */\n    get cdpSessionId() {\n        return this.#cdpSessionId;\n    }\n    /** Calls `Fetch.enable` with the added network intercepts. */\n    async fetchEnable() {\n        await this.#cdpClient.sendCommand('Fetch.enable', this.#networkStorage.getFetchEnableParams());\n    }\n    /** Calls `Fetch.disable`. */\n    async fetchDisable() {\n        await this.#cdpClient.sendCommand('Fetch.disable');\n    }\n    /**\n     * Enables all the required CDP domains and unblocks the target.\n     */\n    async #unblock() {\n        try {\n            await Promise.all([\n                this.#cdpClient.sendCommand('Runtime.enable'),\n                this.#cdpClient.sendCommand('Page.enable'),\n                this.#cdpClient.sendCommand('Page.setLifecycleEventsEnabled', {\n                    enabled: true,\n                }),\n                // XXX: #1080: Do not always enable the network domain globally.\n                // TODO: enable Network domain for OOPiF targets.\n                this.#cdpClient.sendCommand('Network.enable'),\n                // XXX: #1080: Do not always enable the fetch domain globally.\n                this.fetchEnable(),\n                this.#cdpClient.sendCommand('Target.setAutoAttach', {\n                    autoAttach: true,\n                    waitForDebuggerOnStart: true,\n                    flatten: true,\n                }),\n                this.#initAndEvaluatePreloadScripts(),\n                this.#cdpClient.sendCommand('Runtime.runIfWaitingForDebugger'),\n            ]);\n        }\n        catch (error) {\n            // The target might have been closed before the initialization finished.\n            if (!this.#cdpClient.isCloseError(error)) {\n                this.#targetUnblocked.resolve({\n                    kind: 'error',\n                    error,\n                });\n                return;\n            }\n        }\n        this.#targetUnblocked.resolve({\n            kind: 'success',\n            value: undefined,\n        });\n    }\n    #setEventListeners() {\n        this.#cdpClient.on('*', (event, params) => {\n            // We may encounter uses for EventEmitter other than CDP events,\n            // which we want to skip.\n            if (typeof event !== 'string') {\n                return;\n            }\n            this.#eventManager.registerEvent({\n                type: 'event',\n                method: `cdp.${event}`,\n                params: {\n                    event,\n                    params,\n                    session: this.#cdpSessionId,\n                },\n            }, null);\n        });\n    }\n    /**\n     * All the ProxyChannels from all the preload scripts of the given\n     * BrowsingContext.\n     */\n    getChannels() {\n        return this.#preloadScriptStorage\n            .find()\n            .flatMap((script) => script.channels);\n    }\n    /** Loads all top-level preload scripts. */\n    async #initAndEvaluatePreloadScripts() {\n        for (const script of this.#preloadScriptStorage.find({\n            global: true,\n        })) {\n            await script.initInTarget(this, true);\n        }\n    }\n}\nexports.CdpTarget = CdpTarget;\n//# sourceMappingURL=CdpTarget.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowsingContextProcessor = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst log_js_1 = require(\"../../../utils/log.js\");\nconst BrowsingContextImpl_js_1 = require(\"./BrowsingContextImpl.js\");\nconst CdpTarget_js_1 = require(\"./CdpTarget.js\");\nclass BrowsingContextProcessor {\n    #browserCdpClient;\n    #cdpConnection;\n    #selfTargetId;\n    #eventManager;\n    #browsingContextStorage;\n    #networkStorage;\n    #preloadScriptStorage;\n    #realmStorage;\n    #logger;\n    constructor(cdpConnection, browserCdpClient, selfTargetId, eventManager, browsingContextStorage, realmStorage, networkStorage, preloadScriptStorage, logger) {\n        this.#cdpConnection = cdpConnection;\n        this.#browserCdpClient = browserCdpClient;\n        this.#selfTargetId = selfTargetId;\n        this.#eventManager = eventManager;\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#preloadScriptStorage = preloadScriptStorage;\n        this.#networkStorage = networkStorage;\n        this.#realmStorage = realmStorage;\n        this.#logger = logger;\n        this.#setEventListeners(browserCdpClient);\n    }\n    getTree(params) {\n        const resultContexts = params.root === undefined\n            ? this.#browsingContextStorage.getTopLevelContexts()\n            : [this.#browsingContextStorage.getContext(params.root)];\n        return {\n            contexts: resultContexts.map((c) => c.serializeToBidiValue(params.maxDepth ?? Number.MAX_VALUE)),\n        };\n    }\n    async create(params) {\n        let referenceContext;\n        if (params.referenceContext !== undefined) {\n            referenceContext = this.#browsingContextStorage.getContext(params.referenceContext);\n            if (!referenceContext.isTopLevelContext()) {\n                throw new protocol_js_1.InvalidArgumentException(`referenceContext should be a top-level context`);\n            }\n        }\n        let result;\n        switch (params.type) {\n            case \"tab\" /* BrowsingContext.CreateType.Tab */:\n                result = await this.#browserCdpClient.sendCommand('Target.createTarget', {\n                    url: 'about:blank',\n                    newWindow: false,\n                });\n                break;\n            case \"window\" /* BrowsingContext.CreateType.Window */:\n                result = await this.#browserCdpClient.sendCommand('Target.createTarget', {\n                    url: 'about:blank',\n                    newWindow: true,\n                });\n                break;\n        }\n        // Wait for the new tab to be loaded to avoid race conditions in the\n        // `browsingContext` events, when the `browsingContext.domContentLoaded` and\n        // `browsingContext.load` events from the initial `about:blank` navigation\n        // are emitted after the next navigation is started.\n        // Details: https://github.com/web-platform-tests/wpt/issues/35846\n        const contextId = result.targetId;\n        const context = this.#browsingContextStorage.getContext(contextId);\n        await context.lifecycleLoaded();\n        return { context: context.id };\n    }\n    navigate(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        return context.navigate(params.url, params.wait ?? \"none\" /* BrowsingContext.ReadinessState.None */);\n    }\n    reload(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        return context.reload(params.ignoreCache ?? false, params.wait ?? \"none\" /* BrowsingContext.ReadinessState.None */);\n    }\n    async activate(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        if (!context.isTopLevelContext()) {\n            throw new protocol_js_1.InvalidArgumentException('Activation is only supported on the top-level context');\n        }\n        await context.activate();\n        return {};\n    }\n    async captureScreenshot(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        return await context.captureScreenshot(params);\n    }\n    async print(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        return await context.print(params);\n    }\n    async setViewport(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        if (!context.isTopLevelContext()) {\n            throw new protocol_js_1.InvalidArgumentException('Emulating viewport is only supported on the top-level context');\n        }\n        await context.setViewport(params.viewport, params.devicePixelRatio);\n        return {};\n    }\n    async traverseHistory(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        if (!context) {\n            throw new protocol_js_1.InvalidArgumentException(`No browsing context with id ${params.context}`);\n        }\n        await context.traverseHistory(params.delta);\n        return {};\n    }\n    async handleUserPrompt(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        await context.handleUserPrompt(params);\n        return {};\n    }\n    async close(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        if (!context.isTopLevelContext()) {\n            throw new protocol_js_1.InvalidArgumentException(`Non top-level browsing context ${context.id} cannot be closed.`);\n        }\n        try {\n            const detachedFromTargetPromise = new Promise((resolve) => {\n                const onContextDestroyed = (event) => {\n                    if (event.targetId === params.context) {\n                        this.#browserCdpClient.off('Target.detachedFromTarget', onContextDestroyed);\n                        resolve();\n                    }\n                };\n                this.#browserCdpClient.on('Target.detachedFromTarget', onContextDestroyed);\n            });\n            if (params.promptUnload) {\n                await context.close();\n            }\n            else {\n                await this.#browserCdpClient.sendCommand('Target.closeTarget', {\n                    targetId: params.context,\n                });\n            }\n            // Sometimes CDP command finishes before `detachedFromTarget` event,\n            // sometimes after. Wait for the CDP command to be finished, and then wait\n            // for `detachedFromTarget` if it hasn't emitted.\n            await detachedFromTargetPromise;\n        }\n        catch (error) {\n            // Swallow error that arise from the page being destroyed\n            // Example is navigating to faulty SSL certificate\n            if (!(error.code === -32000 /* CdpErrorConstants.GENERIC_ERROR */ &&\n                error.message === 'Not attached to an active page')) {\n                throw error;\n            }\n        }\n        return {};\n    }\n    /**\n     * This method is called for each CDP session, since this class is responsible\n     * for creating and destroying all targets and browsing contexts.\n     */\n    #setEventListeners(cdpClient) {\n        cdpClient.on('Target.attachedToTarget', (params) => {\n            this.#handleAttachedToTargetEvent(params, cdpClient);\n        });\n        cdpClient.on('Target.detachedFromTarget', (params) => {\n            this.#handleDetachedFromTargetEvent(params);\n        });\n        cdpClient.on('Target.targetInfoChanged', (params) => {\n            this.#handleTargetInfoChangedEvent(params);\n        });\n        cdpClient.on('Page.frameAttached', (params) => {\n            this.#handleFrameAttachedEvent(params);\n        });\n        cdpClient.on('Page.frameDetached', (params) => {\n            this.#handleFrameDetachedEvent(params);\n        });\n    }\n    #handleFrameAttachedEvent(params) {\n        const parentBrowsingContext = this.#browsingContextStorage.findContext(params.parentFrameId);\n        if (parentBrowsingContext !== undefined) {\n            BrowsingContextImpl_js_1.BrowsingContextImpl.create(parentBrowsingContext.cdpTarget, this.#realmStorage, params.frameId, params.parentFrameId, this.#eventManager, this.#browsingContextStorage, this.#logger);\n        }\n    }\n    #handleFrameDetachedEvent(params) {\n        // In case of OOPiF no need in deleting BrowsingContext.\n        if (params.reason === 'swap') {\n            return;\n        }\n        this.#browsingContextStorage.findContext(params.frameId)?.dispose();\n    }\n    #handleAttachedToTargetEvent(params, parentSessionCdpClient) {\n        const { sessionId, targetInfo } = params;\n        const targetCdpClient = this.#cdpConnection.getCdpClient(sessionId);\n        if (!this.#isValidTarget(targetInfo)) {\n            // DevTools or some other not supported by BiDi target. Just release\n            // debugger  and ignore them.\n            targetCdpClient\n                .sendCommand('Runtime.runIfWaitingForDebugger')\n                .then(() => parentSessionCdpClient.sendCommand('Target.detachFromTarget', params))\n                .catch((error) => this.#logger?.(log_js_1.LogType.debugError, error));\n            return;\n        }\n        this.#logger?.(log_js_1.LogType.debugInfo, 'AttachedToTarget event received:', params);\n        this.#setEventListeners(targetCdpClient);\n        const maybeContext = this.#browsingContextStorage.findContext(targetInfo.targetId);\n        const cdpTarget = CdpTarget_js_1.CdpTarget.create(targetInfo.targetId, targetCdpClient, this.#browserCdpClient, sessionId, this.#realmStorage, this.#eventManager, this.#preloadScriptStorage, this.#networkStorage);\n        if (maybeContext) {\n            // OOPiF.\n            maybeContext.updateCdpTarget(cdpTarget);\n        }\n        else {\n            // New context.\n            BrowsingContextImpl_js_1.BrowsingContextImpl.create(cdpTarget, this.#realmStorage, targetInfo.targetId, null, this.#eventManager, this.#browsingContextStorage, this.#logger);\n        }\n    }\n    #handleDetachedFromTargetEvent(params) {\n        // XXX: params.targetId is deprecated. Update this class to track using\n        // params.sessionId instead.\n        // https://github.com/GoogleChromeLabs/chromium-bidi/issues/60\n        const contextId = params.targetId;\n        this.#browsingContextStorage.findContext(contextId)?.dispose();\n        this.#preloadScriptStorage\n            .find({ targetId: contextId })\n            .map((preloadScript) => preloadScript.dispose(contextId));\n    }\n    #handleTargetInfoChangedEvent(params) {\n        const contextId = params.targetInfo.targetId;\n        this.#browsingContextStorage\n            .findContext(contextId)\n            ?.onTargetInfoChanged(params);\n    }\n    #isValidTarget(target) {\n        if (target.targetId === this.#selfTargetId) {\n            return false;\n        }\n        return ['page', 'iframe'].includes(target.type);\n    }\n}\nexports.BrowsingContextProcessor = BrowsingContextProcessor;\n//# sourceMappingURL=BrowsingContextProcessor.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WheelSource = exports.PointerSource = exports.KeySource = exports.NoneSource = void 0;\nclass NoneSource {\n    type = \"none\" /* SourceType.None */;\n}\nexports.NoneSource = NoneSource;\nclass KeySource {\n    type = \"key\" /* SourceType.Key */;\n    pressed = new Set();\n    // This is a bitfield that matches the modifiers parameter of\n    // https://chromedevtools.github.io/devtools-protocol/tot/Input/#method-dispatchKeyEvent\n    #modifiers = 0;\n    get modifiers() {\n        return this.#modifiers;\n    }\n    get alt() {\n        return (this.#modifiers & 1) === 1;\n    }\n    set alt(value) {\n        this.#setModifier(value, 1);\n    }\n    get ctrl() {\n        return (this.#modifiers & 2) === 2;\n    }\n    set ctrl(value) {\n        this.#setModifier(value, 2);\n    }\n    get meta() {\n        return (this.#modifiers & 4) === 4;\n    }\n    set meta(value) {\n        this.#setModifier(value, 4);\n    }\n    get shift() {\n        return (this.#modifiers & 8) === 8;\n    }\n    set shift(value) {\n        this.#setModifier(value, 8);\n    }\n    #setModifier(value, bit) {\n        if (value) {\n            this.#modifiers |= bit;\n        }\n        else {\n            this.#modifiers &= ~bit;\n        }\n    }\n}\nexports.KeySource = KeySource;\nclass PointerSource {\n    type = \"pointer\" /* SourceType.Pointer */;\n    subtype;\n    pointerId;\n    pressed = new Set();\n    x = 0;\n    y = 0;\n    constructor(id, subtype) {\n        this.pointerId = id;\n        this.subtype = subtype;\n    }\n    // This is a bitfield that matches the buttons parameter of\n    // https://chromedevtools.github.io/devtools-protocol/tot/Input/#method-dispatchMouseEvent\n    get buttons() {\n        let buttons = 0;\n        for (const button of this.pressed) {\n            switch (button) {\n                case 0:\n                    buttons |= 1;\n                    break;\n                case 1:\n                    buttons |= 4;\n                    break;\n                case 2:\n                    buttons |= 2;\n                    break;\n                case 3:\n                    buttons |= 8;\n                    break;\n                case 4:\n                    buttons |= 16;\n                    break;\n            }\n        }\n        return buttons;\n    }\n    // --- Platform-specific code starts here ---\n    // Input.dispatchMouseEvent doesn't know the concept of double click, so we\n    // need to create the logic, similar to how it's done for OSes:\n    // https://source.chromium.org/chromium/chromium/src/+/refs/heads/main:ui/events/event.cc;l=479\n    static ClickContext = class ClickContext {\n        static #DOUBLE_CLICK_TIME_MS = 500;\n        static #MAX_DOUBLE_CLICK_RADIUS = 2;\n        count = 0;\n        #x;\n        #y;\n        #time;\n        constructor(x, y, time) {\n            this.#x = x;\n            this.#y = y;\n            this.#time = time;\n        }\n        compare(context) {\n            return (\n            // The click needs to be within a certain amount of ms.\n            context.#time - this.#time > ClickContext.#DOUBLE_CLICK_TIME_MS ||\n                // The click needs to be within a certain square radius.\n                Math.abs(context.#x - this.#x) >\n                    ClickContext.#MAX_DOUBLE_CLICK_RADIUS ||\n                Math.abs(context.#y - this.#y) > ClickContext.#MAX_DOUBLE_CLICK_RADIUS);\n        }\n    };\n    #clickContexts = new Map();\n    setClickCount(button, context) {\n        let storedContext = this.#clickContexts.get(button);\n        if (!storedContext || storedContext.compare(context)) {\n            storedContext = context;\n        }\n        ++storedContext.count;\n        this.#clickContexts.set(button, storedContext);\n        return storedContext.count;\n    }\n    getClickCount(button) {\n        return this.#clickContexts.get(button)?.count ?? 0;\n    }\n}\nexports.PointerSource = PointerSource;\nclass WheelSource {\n    type = \"wheel\" /* SourceType.Wheel */;\n}\nexports.WheelSource = WheelSource;\n//# sourceMappingURL=InputSource.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getKeyLocation = exports.getKeyCode = exports.getNormalizedKey = void 0;\nfunction getNormalizedKey(value) {\n    switch (value) {\n        case '\\uE000':\n            return 'Unidentified';\n        case '\\uE001':\n            return 'Cancel';\n        case '\\uE002':\n            return 'Help';\n        case '\\uE003':\n            return 'Backspace';\n        case '\\uE004':\n            return 'Tab';\n        case '\\uE005':\n            return 'Clear';\n        case '\\uE006':\n            return 'Return';\n        case '\\uE007':\n            return 'Enter';\n        case '\\uE008':\n            return 'Shift';\n        case '\\uE009':\n            return 'Control';\n        case '\\uE00A':\n            return 'Alt';\n        case '\\uE00B':\n            return 'Pause';\n        case '\\uE00C':\n            return 'Escape';\n        case '\\uE00D':\n            return ' ';\n        case '\\uE00E':\n            return 'PageUp';\n        case '\\uE00F':\n            return 'PageDown';\n        case '\\uE010':\n            return 'End';\n        case '\\uE011':\n            return 'Home';\n        case '\\uE012':\n            return 'ArrowLeft';\n        case '\\uE013':\n            return 'ArrowUp';\n        case '\\uE014':\n            return 'ArrowRight';\n        case '\\uE015':\n            return 'ArrowDown';\n        case '\\uE016':\n            return 'Insert';\n        case '\\uE017':\n            return 'Delete';\n        case '\\uE018':\n            return ';';\n        case '\\uE019':\n            return '=';\n        case '\\uE01A':\n            return '0';\n        case '\\uE01B':\n            return '1';\n        case '\\uE01C':\n            return '2';\n        case '\\uE01D':\n            return '3';\n        case '\\uE01E':\n            return '4';\n        case '\\uE01F':\n            return '5';\n        case '\\uE020':\n            return '6';\n        case '\\uE021':\n            return '7';\n        case '\\uE022':\n            return '8';\n        case '\\uE023':\n            return '9';\n        case '\\uE024':\n            return '*';\n        case '\\uE025':\n            return '+';\n        case '\\uE026':\n            return ',';\n        case '\\uE027':\n            return '-';\n        case '\\uE028':\n            return '.';\n        case '\\uE029':\n            return '/';\n        case '\\uE031':\n            return 'F1';\n        case '\\uE032':\n            return 'F2';\n        case '\\uE033':\n            return 'F3';\n        case '\\uE034':\n            return 'F4';\n        case '\\uE035':\n            return 'F5';\n        case '\\uE036':\n            return 'F6';\n        case '\\uE037':\n            return 'F7';\n        case '\\uE038':\n            return 'F8';\n        case '\\uE039':\n            return 'F9';\n        case '\\uE03A':\n            return 'F10';\n        case '\\uE03B':\n            return 'F11';\n        case '\\uE03C':\n            return 'F12';\n        case '\\uE03D':\n            return 'Meta';\n        case '\\uE040':\n            return 'ZenkakuHankaku';\n        case '\\uE050':\n            return 'Shift';\n        case '\\uE051':\n            return 'Control';\n        case '\\uE052':\n            return 'Alt';\n        case '\\uE053':\n            return 'Meta';\n        case '\\uE054':\n            return 'PageUp';\n        case '\\uE055':\n            return 'PageDown';\n        case '\\uE056':\n            return 'End';\n        case '\\uE057':\n            return 'Home';\n        case '\\uE058':\n            return 'ArrowLeft';\n        case '\\uE059':\n            return 'ArrowUp';\n        case '\\uE05A':\n            return 'ArrowRight';\n        case '\\uE05B':\n            return 'ArrowDown';\n        case '\\uE05C':\n            return 'Insert';\n        case '\\uE05D':\n            return 'Delete';\n        default:\n            return value;\n    }\n}\nexports.getNormalizedKey = getNormalizedKey;\nfunction getKeyCode(key) {\n    switch (key) {\n        case '`':\n        case '~':\n            return 'Backquote';\n        case '\\\\':\n        case '|':\n            return 'Backslash';\n        case '\\uE003':\n            return 'Backspace';\n        case '[':\n        case '{':\n            return 'BracketLeft';\n        case ']':\n        case '}':\n            return 'BracketRight';\n        case ',':\n        case '<':\n            return 'Comma';\n        case '0':\n        case ')':\n            return 'Digit0';\n        case '1':\n        case '!':\n            return 'Digit1';\n        case '2':\n        case '@':\n            return 'Digit2';\n        case '3':\n        case '#':\n            return 'Digit3';\n        case '4':\n        case '$':\n            return 'Digit4';\n        case '5':\n        case '%':\n            return 'Digit5';\n        case '6':\n        case '^':\n            return 'Digit6';\n        case '7':\n        case '&':\n            return 'Digit7';\n        case '8':\n        case '*':\n            return 'Digit8';\n        case '9':\n        case '(':\n            return 'Digit9';\n        case '=':\n        case '+':\n            return 'Equal';\n        case 'a':\n        case 'A':\n            return 'KeyA';\n        case 'b':\n        case 'B':\n            return 'KeyB';\n        case 'c':\n        case 'C':\n            return 'KeyC';\n        case 'd':\n        case 'D':\n            return 'KeyD';\n        case 'e':\n        case 'E':\n            return 'KeyE';\n        case 'f':\n        case 'F':\n            return 'KeyF';\n        case 'g':\n        case 'G':\n            return 'KeyG';\n        case 'h':\n        case 'H':\n            return 'KeyH';\n        case 'i':\n        case 'I':\n            return 'KeyI';\n        case 'j':\n        case 'J':\n            return 'KeyJ';\n        case 'k':\n        case 'K':\n            return 'KeyK';\n        case 'l':\n        case 'L':\n            return 'KeyL';\n        case 'm':\n        case 'M':\n            return 'KeyM';\n        case 'n':\n        case 'N':\n            return 'KeyN';\n        case 'o':\n        case 'O':\n            return 'KeyO';\n        case 'p':\n        case 'P':\n            return 'KeyP';\n        case 'q':\n        case 'Q':\n            return 'KeyQ';\n        case 'r':\n        case 'R':\n            return 'KeyR';\n        case 's':\n        case 'S':\n            return 'KeyS';\n        case 't':\n        case 'T':\n            return 'KeyT';\n        case 'u':\n        case 'U':\n            return 'KeyU';\n        case 'v':\n        case 'V':\n            return 'KeyV';\n        case 'w':\n        case 'W':\n            return 'KeyW';\n        case 'x':\n        case 'X':\n            return 'KeyX';\n        case 'y':\n        case 'Y':\n            return 'KeyY';\n        case 'z':\n        case 'Z':\n            return 'KeyZ';\n        case '-':\n        case '_':\n            return 'Minus';\n        case '.':\n            return 'Period';\n        case \"'\":\n        case '\"':\n            return 'Quote';\n        case ';':\n        case ':':\n            return 'Semicolon';\n        case '/':\n        case '?':\n            return 'Slash';\n        case '\\uE00A':\n            return 'AltLeft';\n        case '\\uE052':\n            return 'AltRight';\n        case '\\uE009':\n            return 'ControlLeft';\n        case '\\uE051':\n            return 'ControlRight';\n        case '\\uE006':\n            return 'Enter';\n        case '\\uE03D':\n            return 'MetaLeft';\n        case '\\uE053':\n            return 'MetaRight';\n        case '\\uE008':\n            return 'ShiftLeft';\n        case '\\uE050':\n            return 'ShiftRight';\n        case ' ':\n        case '\\uE00D':\n            return 'Space';\n        case '\\uE004':\n            return 'Tab';\n        case '\\uE017':\n            return 'Delete';\n        case '\\uE010':\n            return 'End';\n        case '\\uE002':\n            return 'Help';\n        case '\\uE011':\n            return 'Home';\n        case '\\uE016':\n            return 'Insert';\n        case '\\uE00F':\n            return 'PageDown';\n        case '\\uE00E':\n            return 'PageUp';\n        case '\\uE015':\n            return 'ArrowDown';\n        case '\\uE012':\n            return 'ArrowLeft';\n        case '\\uE014':\n            return 'ArrowRight';\n        case '\\uE013':\n            return 'ArrowUp';\n        case '\\uE00C':\n            return 'Escape';\n        case '\\uE031':\n            return 'F1';\n        case '\\uE032':\n            return 'F2';\n        case '\\uE033':\n            return 'F3';\n        case '\\uE034':\n            return 'F4';\n        case '\\uE035':\n            return 'F5';\n        case '\\uE036':\n            return 'F6';\n        case '\\uE037':\n            return 'F7';\n        case '\\uE038':\n            return 'F8';\n        case '\\uE039':\n            return 'F9';\n        case '\\uE03A':\n            return 'F10';\n        case '\\uE03B':\n            return 'F11';\n        case '\\uE03C':\n            return 'F12';\n        case '\\uE01A':\n        case '\\uE05C':\n            return 'Numpad0';\n        case '\\uE01B':\n        case '\\uE056':\n            return 'Numpad1';\n        case '\\uE01C':\n        case '\\uE05B':\n            return 'Numpad2';\n        case '\\uE01D':\n        case '\\uE055':\n            return 'Numpad3';\n        case '\\uE01E':\n        case '\\uE058':\n            return 'Numpad4';\n        case '\\uE01F':\n            return 'Numpad5';\n        case '\\uE020':\n        case '\\uE05A':\n            return 'Numpad6';\n        case '\\uE021':\n        case '\\uE057':\n            return 'Numpad7';\n        case '\\uE022':\n        case '\\uE059':\n            return 'Numpad8';\n        case '\\uE023':\n        case '\\uE054':\n            return 'Numpad9';\n        case '\\uE025':\n            return 'NumpadAdd';\n        case '\\uE026':\n            return 'NumpadComma';\n        case '\\uE028':\n        case '\\uE05D':\n            return 'NumpadDecimal';\n        case '\\uE029':\n            return 'NumpadDivide';\n        case '\\uE007':\n            return 'NumpadEnter';\n        case '\\uE024':\n            return 'NumpadMultiply';\n        case '\\uE027':\n            return 'NumpadSubtract';\n        default:\n            return;\n    }\n}\nexports.getKeyCode = getKeyCode;\nfunction getKeyLocation(key) {\n    switch (key) {\n        case '\\uE007':\n        case '\\uE008':\n        case '\\uE009':\n        case '\\uE00A':\n        case '\\uE03D':\n            return 1;\n        case '\\uE01A':\n        case '\\uE01B':\n        case '\\uE01C':\n        case '\\uE01D':\n        case '\\uE01E':\n        case '\\uE01F':\n        case '\\uE020':\n        case '\\uE021':\n        case '\\uE022':\n        case '\\uE023':\n        case '\\uE024':\n        case '\\uE025':\n        case '\\uE026':\n        case '\\uE027':\n        case '\\uE028':\n        case '\\uE029':\n        case '\\uE054':\n        case '\\uE055':\n        case '\\uE056':\n        case '\\uE057':\n        case '\\uE058':\n        case '\\uE059':\n        case '\\uE05A':\n        case '\\uE05B':\n        case '\\uE05C':\n        case '\\uE05D':\n            return 3;\n        case '\\uE050':\n        case '\\uE051':\n        case '\\uE052':\n        case '\\uE053':\n            return 2;\n        default:\n            return 0;\n    }\n}\nexports.getKeyLocation = getKeyLocation;\n//# sourceMappingURL=keyUtils.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyToKeyCode = void 0;\n// TODO: Remove this once https://crrev.com/c/4548290 is stably in Chromium.\n// `Input.dispatchKeyboardEvent` will automatically handle these conversions.\nexports.KeyToKeyCode = {\n    '0': 48,\n    '1': 49,\n    '2': 50,\n    '3': 51,\n    '4': 52,\n    '5': 53,\n    '6': 54,\n    '7': 55,\n    '8': 56,\n    '9': 57,\n    Abort: 3,\n    Help: 6,\n    Backspace: 8,\n    Tab: 9,\n    Numpad5: 12,\n    NumpadEnter: 13,\n    Enter: 13,\n    '\\\\r': 13,\n    '\\\\n': 13,\n    ShiftLeft: 16,\n    ShiftRight: 16,\n    ControlLeft: 17,\n    ControlRight: 17,\n    AltLeft: 18,\n    AltRight: 18,\n    Pause: 19,\n    CapsLock: 20,\n    Escape: 27,\n    Convert: 28,\n    NonConvert: 29,\n    Space: 32,\n    Numpad9: 33,\n    PageUp: 33,\n    Numpad3: 34,\n    PageDown: 34,\n    End: 35,\n    Numpad1: 35,\n    Home: 36,\n    Numpad7: 36,\n    ArrowLeft: 37,\n    Numpad4: 37,\n    Numpad8: 38,\n    ArrowUp: 38,\n    ArrowRight: 39,\n    Numpad6: 39,\n    Numpad2: 40,\n    ArrowDown: 40,\n    Select: 41,\n    Open: 43,\n    PrintScreen: 44,\n    Insert: 45,\n    Numpad0: 45,\n    Delete: 46,\n    NumpadDecimal: 46,\n    Digit0: 48,\n    Digit1: 49,\n    Digit2: 50,\n    Digit3: 51,\n    Digit4: 52,\n    Digit5: 53,\n    Digit6: 54,\n    Digit7: 55,\n    Digit8: 56,\n    Digit9: 57,\n    KeyA: 65,\n    KeyB: 66,\n    KeyC: 67,\n    KeyD: 68,\n    KeyE: 69,\n    KeyF: 70,\n    KeyG: 71,\n    KeyH: 72,\n    KeyI: 73,\n    KeyJ: 74,\n    KeyK: 75,\n    KeyL: 76,\n    KeyM: 77,\n    KeyN: 78,\n    KeyO: 79,\n    KeyP: 80,\n    KeyQ: 81,\n    KeyR: 82,\n    KeyS: 83,\n    KeyT: 84,\n    KeyU: 85,\n    KeyV: 86,\n    KeyW: 87,\n    KeyX: 88,\n    KeyY: 89,\n    KeyZ: 90,\n    MetaLeft: 91,\n    MetaRight: 92,\n    ContextMenu: 93,\n    NumpadMultiply: 106,\n    NumpadAdd: 107,\n    NumpadSubtract: 109,\n    NumpadDivide: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    F13: 124,\n    F14: 125,\n    F15: 126,\n    F16: 127,\n    F17: 128,\n    F18: 129,\n    F19: 130,\n    F20: 131,\n    F21: 132,\n    F22: 133,\n    F23: 134,\n    F24: 135,\n    NumLock: 144,\n    ScrollLock: 145,\n    AudioVolumeMute: 173,\n    AudioVolumeDown: 174,\n    AudioVolumeUp: 175,\n    MediaTrackNext: 176,\n    MediaTrackPrevious: 177,\n    MediaStop: 178,\n    MediaPlayPause: 179,\n    Semicolon: 186,\n    Equal: 187,\n    NumpadEqual: 187,\n    Comma: 188,\n    Minus: 189,\n    Period: 190,\n    Slash: 191,\n    Backquote: 192,\n    BracketLeft: 219,\n    Backslash: 220,\n    BracketRight: 221,\n    Quote: 222,\n    AltGraph: 225,\n    Props: 247,\n    Cancel: 3,\n    Clear: 12,\n    Shift: 16,\n    Control: 17,\n    Alt: 18,\n    Accept: 30,\n    ModeChange: 31,\n    ' ': 32,\n    Print: 42,\n    Execute: 43,\n    '\\\\u0000': 46,\n    a: 65,\n    b: 66,\n    c: 67,\n    d: 68,\n    e: 69,\n    f: 70,\n    g: 71,\n    h: 72,\n    i: 73,\n    j: 74,\n    k: 75,\n    l: 76,\n    m: 77,\n    n: 78,\n    o: 79,\n    p: 80,\n    q: 81,\n    r: 82,\n    s: 83,\n    t: 84,\n    u: 85,\n    v: 86,\n    w: 87,\n    x: 88,\n    y: 89,\n    z: 90,\n    Meta: 91,\n    '*': 106,\n    '+': 107,\n    '-': 109,\n    '/': 111,\n    ';': 186,\n    '=': 187,\n    ',': 188,\n    '.': 190,\n    '`': 192,\n    '[': 219,\n    '\\\\\\\\': 220,\n    ']': 221,\n    \"'\": 222,\n    Attn: 246,\n    CrSel: 247,\n    ExSel: 248,\n    EraseEof: 249,\n    Play: 250,\n    ZoomOut: 251,\n    ')': 48,\n    '!': 49,\n    '@': 50,\n    '#': 51,\n    $: 52,\n    '%': 53,\n    '^': 54,\n    '&': 55,\n    '(': 57,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    ':': 186,\n    '<': 188,\n    _: 189,\n    '>': 190,\n    '?': 191,\n    '~': 192,\n    '{': 219,\n    '|': 220,\n    '}': 221,\n    '\"': 222,\n    Camera: 44,\n    EndCall: 95,\n    VolumeDown: 182,\n    VolumeUp: 183,\n};\n//# sourceMappingURL=USKeyboardLayout.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionDispatcher = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst InputSource_js_1 = require(\"./InputSource.js\");\nconst keyUtils_js_1 = require(\"./keyUtils.js\");\nconst USKeyboardLayout_js_1 = require(\"./USKeyboardLayout.js\");\n/** https://w3c.github.io/webdriver/#dfn-center-point */\nconst CALCULATE_IN_VIEW_CENTER_PT_DECL = ((i) => {\n    const t = i.getClientRects()[0], e = Math.max(0, Math.min(t.x, t.x + t.width)), n = Math.min(window.innerWidth, Math.max(t.x, t.x + t.width)), h = Math.max(0, Math.min(t.y, t.y + t.height)), m = Math.min(window.innerHeight, Math.max(t.y, t.y + t.height));\n    return [e + ((n - e) >> 1), h + ((m - h) >> 1)];\n}).toString();\nconst IS_MAC_DECL = (() => {\n    return navigator.platform.toLowerCase().includes('mac');\n}).toString();\nasync function getElementCenter(context, element) {\n    const sandbox = await context.getOrCreateSandbox(undefined);\n    const result = await sandbox.callFunction(CALCULATE_IN_VIEW_CENTER_PT_DECL, { type: 'undefined' }, [element], false, \"none\" /* Script.ResultOwnership.None */, {});\n    if (result.type === 'exception') {\n        throw new protocol_js_1.NoSuchElementException(`Origin element ${element.sharedId} was not found`);\n    }\n    (0, assert_js_1.assert)(result.result.type === 'array');\n    (0, assert_js_1.assert)(result.result.value?.[0]?.type === 'number');\n    (0, assert_js_1.assert)(result.result.value?.[1]?.type === 'number');\n    const { result: { value: [{ value: x }, { value: y }], }, } = result;\n    return { x: x, y: y };\n}\nclass ActionDispatcher {\n    static isMacOS = async (context) => {\n        const result = await (await context.getOrCreateSandbox(undefined)).callFunction(IS_MAC_DECL, { type: 'undefined' }, [], false, \"none\" /* Script.ResultOwnership.None */, {});\n        (0, assert_js_1.assert)(result.type !== 'exception');\n        (0, assert_js_1.assert)(result.result.type === 'boolean');\n        return result.result.value;\n    };\n    #tickStart = 0;\n    #tickDuration = 0;\n    #inputState;\n    #context;\n    #isMacOS;\n    constructor(inputState, context, isMacOS) {\n        this.#inputState = inputState;\n        this.#context = context;\n        this.#isMacOS = isMacOS;\n    }\n    async dispatchActions(optionsByTick) {\n        await this.#inputState.queue.run(async () => {\n            for (const options of optionsByTick) {\n                await this.dispatchTickActions(options);\n            }\n        });\n    }\n    async dispatchTickActions(options) {\n        this.#tickStart = performance.now();\n        this.#tickDuration = 0;\n        for (const { action } of options) {\n            if ('duration' in action && action.duration !== undefined) {\n                this.#tickDuration = Math.max(this.#tickDuration, action.duration);\n            }\n        }\n        const promises = [\n            new Promise((resolve) => setTimeout(resolve, this.#tickDuration)),\n        ];\n        for (const option of options) {\n            // In theory we have to wait for each action to happen, but CDP is serial,\n            // so as an optimization, we queue all CDP commands at once and await all\n            // of them.\n            promises.push(this.#dispatchAction(option));\n        }\n        await Promise.all(promises);\n    }\n    async #dispatchAction({ id, action }) {\n        const source = this.#inputState.get(id);\n        const keyState = this.#inputState.getGlobalKeyState();\n        switch (action.type) {\n            case 'keyDown': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchKeyDownAction(source, action);\n                this.#inputState.cancelList.push({\n                    id,\n                    action: {\n                        ...action,\n                        type: 'keyUp',\n                    },\n                });\n                break;\n            }\n            case 'keyUp': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchKeyUpAction(source, action);\n                break;\n            }\n            case 'pause': {\n                // TODO: Implement waiting on the input source.\n                break;\n            }\n            case 'pointerDown': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchPointerDownAction(source, keyState, action);\n                this.#inputState.cancelList.push({\n                    id,\n                    action: {\n                        ...action,\n                        type: 'pointerUp',\n                    },\n                });\n                break;\n            }\n            case 'pointerMove': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchPointerMoveAction(source, keyState, action);\n                break;\n            }\n            case 'pointerUp': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchPointerUpAction(source, keyState, action);\n                break;\n            }\n            case 'scroll': {\n                // SAFETY: The source is validated before.\n                await this.#dispatchScrollAction(source, keyState, action);\n                break;\n            }\n        }\n    }\n    #dispatchPointerDownAction(source, keyState, action) {\n        const { button } = action;\n        if (source.pressed.has(button)) {\n            return;\n        }\n        source.pressed.add(button);\n        const { x, y, subtype: pointerType } = source;\n        const { width, height, pressure, twist, tangentialPressure } = action;\n        const { tiltX, tiltY } = getTilt(action);\n        // --- Platform-specific code begins here ---\n        const { modifiers } = keyState;\n        switch (pointerType) {\n            case \"mouse\" /* Input.PointerType.Mouse */:\n            case \"pen\" /* Input.PointerType.Pen */:\n                // TODO: Implement width and height when available.\n                return this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n                    type: 'mousePressed',\n                    x,\n                    y,\n                    modifiers,\n                    button: getCdpButton(button),\n                    buttons: source.buttons,\n                    clickCount: source.setClickCount(button, new InputSource_js_1.PointerSource.ClickContext(x, y, performance.now())),\n                    pointerType,\n                    tangentialPressure,\n                    tiltX,\n                    tiltY,\n                    twist,\n                    force: pressure,\n                });\n            case \"touch\" /* Input.PointerType.Touch */:\n                return this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n                    type: 'touchStart',\n                    touchPoints: [\n                        {\n                            x,\n                            y,\n                            ...getRadii(width ?? 1, height ?? 1),\n                            tangentialPressure,\n                            tiltX,\n                            tiltY,\n                            twist,\n                            force: pressure,\n                            id: source.pointerId,\n                        },\n                    ],\n                    modifiers,\n                });\n        }\n        // --- Platform-specific code ends here ---\n    }\n    #dispatchPointerUpAction(source, keyState, action) {\n        const { button } = action;\n        if (!source.pressed.has(button)) {\n            return;\n        }\n        source.pressed.delete(button);\n        const { x, y, subtype: pointerType } = source;\n        // --- Platform-specific code begins here ---\n        const { modifiers } = keyState;\n        switch (pointerType) {\n            case \"mouse\" /* Input.PointerType.Mouse */:\n            case \"pen\" /* Input.PointerType.Pen */:\n                // TODO: Implement width and height when available.\n                return this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n                    type: 'mouseReleased',\n                    x,\n                    y,\n                    modifiers,\n                    button: getCdpButton(button),\n                    buttons: source.buttons,\n                    clickCount: source.getClickCount(button),\n                    pointerType,\n                });\n            case \"touch\" /* Input.PointerType.Touch */:\n                return this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n                    type: 'touchEnd',\n                    touchPoints: [\n                        {\n                            x,\n                            y,\n                            id: source.pointerId,\n                        },\n                    ],\n                    modifiers,\n                });\n        }\n        // --- Platform-specific code ends here ---\n    }\n    async #dispatchPointerMoveAction(source, keyState, action) {\n        const { x: startX, y: startY, subtype: pointerType } = source;\n        const { width, height, pressure, twist, tangentialPressure, x: offsetX, y: offsetY, origin = 'viewport', duration = this.#tickDuration, } = action;\n        const { tiltX, tiltY } = getTilt(action);\n        const { targetX, targetY } = await this.#getCoordinateFromOrigin(origin, offsetX, offsetY, startX, startY);\n        if (targetX < 0 || targetY < 0) {\n            throw new protocol_js_1.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${targetX}, y: ${targetY})`);\n        }\n        let last;\n        do {\n            const ratio = duration > 0 ? (performance.now() - this.#tickStart) / duration : 1;\n            last = ratio >= 1;\n            let x;\n            let y;\n            if (last) {\n                x = targetX;\n                y = targetY;\n            }\n            else {\n                x = Math.round(ratio * (targetX - startX) + startX);\n                y = Math.round(ratio * (targetY - startY) + startY);\n            }\n            if (source.x !== x || source.y !== y) {\n                // --- Platform-specific code begins here ---\n                const { modifiers } = keyState;\n                switch (pointerType) {\n                    case \"mouse\" /* Input.PointerType.Mouse */:\n                        // TODO: Implement width and height when available.\n                        await this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n                            type: 'mouseMoved',\n                            x,\n                            y,\n                            modifiers,\n                            clickCount: 0,\n                            button: getCdpButton(source.pressed.values().next().value ?? 5),\n                            buttons: source.buttons,\n                            pointerType,\n                            tangentialPressure,\n                            tiltX,\n                            tiltY,\n                            twist,\n                            force: pressure,\n                        });\n                        break;\n                    case \"pen\" /* Input.PointerType.Pen */:\n                        if (source.pressed.size !== 0) {\n                            // TODO: Implement width and height when available.\n                            await this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n                                type: 'mouseMoved',\n                                x,\n                                y,\n                                modifiers,\n                                clickCount: 0,\n                                button: getCdpButton(source.pressed.values().next().value ?? 5),\n                                buttons: source.buttons,\n                                pointerType,\n                                tangentialPressure,\n                                tiltX,\n                                tiltY,\n                                twist,\n                                force: pressure,\n                            });\n                        }\n                        break;\n                    case \"touch\" /* Input.PointerType.Touch */:\n                        if (source.pressed.size !== 0) {\n                            await this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n                                type: 'touchMove',\n                                touchPoints: [\n                                    {\n                                        x,\n                                        y,\n                                        ...getRadii(width ?? 1, height ?? 1),\n                                        tangentialPressure,\n                                        tiltX,\n                                        tiltY,\n                                        twist,\n                                        force: pressure,\n                                        id: source.pointerId,\n                                    },\n                                ],\n                                modifiers,\n                            });\n                        }\n                        break;\n                }\n                // --- Platform-specific code ends here ---\n                source.x = x;\n                source.y = y;\n            }\n        } while (!last);\n    }\n    async #getCoordinateFromOrigin(origin, offsetX, offsetY, startX, startY) {\n        let targetX;\n        let targetY;\n        switch (origin) {\n            case 'viewport':\n                targetX = offsetX;\n                targetY = offsetY;\n                break;\n            case 'pointer':\n                targetX = startX + offsetX;\n                targetY = startY + offsetY;\n                break;\n            default: {\n                const { x: posX, y: posY } = await getElementCenter(this.#context, origin.element);\n                // SAFETY: These can never be special numbers.\n                targetX = posX + offsetX;\n                targetY = posY + offsetY;\n                break;\n            }\n        }\n        return { targetX, targetY };\n    }\n    async #dispatchScrollAction(_source, keyState, action) {\n        const { deltaX: targetDeltaX, deltaY: targetDeltaY, x: offsetX, y: offsetY, origin = 'viewport', duration = this.#tickDuration, } = action;\n        if (origin === 'pointer') {\n            throw new protocol_js_1.InvalidArgumentException('\"pointer\" origin is invalid for scrolling.');\n        }\n        const { targetX, targetY } = await this.#getCoordinateFromOrigin(origin, offsetX, offsetY, 0, 0);\n        if (targetX < 0 || targetY < 0) {\n            throw new protocol_js_1.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${targetX}, y: ${targetY})`);\n        }\n        let currentDeltaX = 0;\n        let currentDeltaY = 0;\n        let last;\n        do {\n            const ratio = duration > 0 ? (performance.now() - this.#tickStart) / duration : 1;\n            last = ratio >= 1;\n            let deltaX;\n            let deltaY;\n            if (last) {\n                deltaX = targetDeltaX - currentDeltaX;\n                deltaY = targetDeltaY - currentDeltaY;\n            }\n            else {\n                deltaX = Math.round(ratio * targetDeltaX - currentDeltaX);\n                deltaY = Math.round(ratio * targetDeltaY - currentDeltaY);\n            }\n            if (deltaX !== 0 || deltaY !== 0) {\n                // --- Platform-specific code begins here ---\n                const { modifiers } = keyState;\n                await this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n                    type: 'mouseWheel',\n                    deltaX,\n                    deltaY,\n                    x: targetX,\n                    y: targetY,\n                    modifiers,\n                });\n                // --- Platform-specific code ends here ---\n                currentDeltaX += deltaX;\n                currentDeltaY += deltaY;\n            }\n        } while (!last);\n    }\n    async #dispatchKeyDownAction(source, action) {\n        if ([...action.value].length > 1) {\n            throw new protocol_js_1.InvalidArgumentException(`Invalid key value: ${action.value}`);\n        }\n        const rawKey = action.value;\n        const key = (0, keyUtils_js_1.getNormalizedKey)(rawKey);\n        const repeat = source.pressed.has(key);\n        const code = (0, keyUtils_js_1.getKeyCode)(rawKey);\n        const location = (0, keyUtils_js_1.getKeyLocation)(rawKey);\n        switch (key) {\n            case 'Alt':\n                source.alt = true;\n                break;\n            case 'Shift':\n                source.shift = true;\n                break;\n            case 'Control':\n                source.ctrl = true;\n                break;\n            case 'Meta':\n                source.meta = true;\n                break;\n        }\n        source.pressed.add(key);\n        const { modifiers } = source;\n        // --- Platform-specific code begins here ---\n        // The spread is a little hack so JS gives us an array of unicode characters\n        // to measure.\n        const unmodifiedText = getKeyEventUnmodifiedText(key, source);\n        const text = getKeyEventText(code ?? '', source) ?? unmodifiedText;\n        let command;\n        // The following commands need to be declared because Chromium doesn't\n        // handle them. See\n        // https://source.chromium.org/chromium/chromium/src/+/refs/heads/main:third_party/blink/renderer/core/editing/editing_behavior.cc;l=169;drc=b8143cf1dfd24842890fcd831c4f5d909bef4fc4;bpv=0;bpt=1.\n        if (this.#isMacOS && source.meta) {\n            switch (code) {\n                case 'KeyA':\n                    command = 'SelectAll';\n                    break;\n                case 'KeyC':\n                    command = 'Copy';\n                    break;\n                case 'KeyV':\n                    command = source.shift ? 'PasteAndMatchStyle' : 'Paste';\n                    break;\n                case 'KeyX':\n                    command = 'Cut';\n                    break;\n                case 'KeyZ':\n                    command = source.shift ? 'Redo' : 'Undo';\n                    break;\n                default:\n                // Intentionally empty.\n            }\n        }\n        const promises = [\n            this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchKeyEvent', {\n                type: text ? 'keyDown' : 'rawKeyDown',\n                windowsVirtualKeyCode: USKeyboardLayout_js_1.KeyToKeyCode[key],\n                key,\n                code,\n                text,\n                unmodifiedText,\n                autoRepeat: repeat,\n                isSystemKey: source.alt || undefined,\n                location: location < 3 ? location : undefined,\n                isKeypad: location === 3,\n                modifiers,\n                commands: command ? [command] : undefined,\n            }),\n        ];\n        // Drag cancelling happens on escape.\n        if (key === 'Escape') {\n            if (!source.alt &&\n                ((this.#isMacOS && !source.ctrl && !source.meta) || !this.#isMacOS)) {\n                promises.push(this.#context.cdpTarget.cdpClient.sendCommand('Input.cancelDragging'));\n            }\n        }\n        await Promise.all(promises);\n        // --- Platform-specific code ends here ---\n    }\n    #dispatchKeyUpAction(source, action) {\n        if ([...action.value].length > 1) {\n            throw new protocol_js_1.InvalidArgumentException(`Invalid key value: ${action.value}`);\n        }\n        const rawKey = action.value;\n        const key = (0, keyUtils_js_1.getNormalizedKey)(rawKey);\n        if (!source.pressed.has(key)) {\n            return;\n        }\n        const code = (0, keyUtils_js_1.getKeyCode)(rawKey);\n        const location = (0, keyUtils_js_1.getKeyLocation)(rawKey);\n        switch (key) {\n            case 'Alt':\n                source.alt = false;\n                break;\n            case 'Shift':\n                source.shift = false;\n                break;\n            case 'Control':\n                source.ctrl = false;\n                break;\n            case 'Meta':\n                source.meta = false;\n                break;\n        }\n        source.pressed.delete(key);\n        const { modifiers } = source;\n        // --- Platform-specific code begins here ---\n        // The spread is a little hack so JS gives us an array of unicode characters\n        // to measure.\n        const unmodifiedText = getKeyEventUnmodifiedText(key, source);\n        const text = getKeyEventText(code ?? '', source) ?? unmodifiedText;\n        return this.#context.cdpTarget.cdpClient.sendCommand('Input.dispatchKeyEvent', {\n            type: 'keyUp',\n            windowsVirtualKeyCode: USKeyboardLayout_js_1.KeyToKeyCode[key],\n            key,\n            code,\n            text,\n            unmodifiedText,\n            location: location < 3 ? location : undefined,\n            isSystemKey: source.alt || undefined,\n            isKeypad: location === 3,\n            modifiers,\n        });\n        // --- Platform-specific code ends here ---\n    }\n}\nexports.ActionDispatcher = ActionDispatcher;\nconst getKeyEventUnmodifiedText = (key, source) => {\n    if (key === 'Enter') {\n        return '\\r';\n    }\n    return [...key].length === 1\n        ? source.shift\n            ? key.toLocaleUpperCase('en-US')\n            : key\n        : undefined;\n};\nconst getKeyEventText = (code, source) => {\n    if (source.ctrl) {\n        switch (code) {\n            case 'Digit2':\n                if (source.shift) {\n                    return '\\x00';\n                }\n                break;\n            case 'KeyA':\n                return '\\x01';\n            case 'KeyB':\n                return '\\x02';\n            case 'KeyC':\n                return '\\x03';\n            case 'KeyD':\n                return '\\x04';\n            case 'KeyE':\n                return '\\x05';\n            case 'KeyF':\n                return '\\x06';\n            case 'KeyG':\n                return '\\x07';\n            case 'KeyH':\n                return '\\x08';\n            case 'KeyI':\n                return '\\x09';\n            case 'KeyJ':\n                return '\\x0A';\n            case 'KeyK':\n                return '\\x0B';\n            case 'KeyL':\n                return '\\x0C';\n            case 'KeyM':\n                return '\\x0D';\n            case 'KeyN':\n                return '\\x0E';\n            case 'KeyO':\n                return '\\x0F';\n            case 'KeyP':\n                return '\\x10';\n            case 'KeyQ':\n                return '\\x11';\n            case 'KeyR':\n                return '\\x12';\n            case 'KeyS':\n                return '\\x13';\n            case 'KeyT':\n                return '\\x14';\n            case 'KeyU':\n                return '\\x15';\n            case 'KeyV':\n                return '\\x16';\n            case 'KeyW':\n                return '\\x17';\n            case 'KeyX':\n                return '\\x18';\n            case 'KeyY':\n                return '\\x19';\n            case 'KeyZ':\n                return '\\x1A';\n            case 'BracketLeft':\n                return '\\x1B';\n            case 'Backslash':\n                return '\\x1C';\n            case 'BracketRight':\n                return '\\x1D';\n            case 'Digit6':\n                if (source.shift) {\n                    return '\\x1E';\n                }\n                break;\n            case 'Minus':\n                return '\\x1F';\n        }\n        return '';\n    }\n    if (source.alt) {\n        return '';\n    }\n    return;\n};\nfunction getCdpButton(button) {\n    switch (button) {\n        case 0:\n            return 'left';\n        case 1:\n            return 'middle';\n        case 2:\n            return 'right';\n        case 3:\n            return 'back';\n        case 4:\n            return 'forward';\n        default:\n            return 'none';\n    }\n}\nfunction getTilt(action) {\n    // https://w3c.github.io/pointerevents/#converting-between-tiltx-tilty-and-altitudeangle-azimuthangle\n    const altitudeAngle = action.altitudeAngle ?? 0;\n    const azimuthAngle = action.azimuthAngle ?? 0;\n    let tiltXRadians = 0;\n    let tiltYRadians = 0;\n    if (altitudeAngle === 0) {\n        // the pen is in the X-Y plane\n        if (azimuthAngle === 0 || azimuthAngle === 2 * Math.PI) {\n            // pen is on positive X axis\n            tiltXRadians = Math.PI / 2;\n        }\n        if (azimuthAngle === Math.PI / 2) {\n            // pen is on positive Y axis\n            tiltYRadians = Math.PI / 2;\n        }\n        if (azimuthAngle === Math.PI) {\n            // pen is on negative X axis\n            tiltXRadians = -Math.PI / 2;\n        }\n        if (azimuthAngle === (3 * Math.PI) / 2) {\n            // pen is on negative Y axis\n            tiltYRadians = -Math.PI / 2;\n        }\n        if (azimuthAngle > 0 && azimuthAngle < Math.PI / 2) {\n            tiltXRadians = Math.PI / 2;\n            tiltYRadians = Math.PI / 2;\n        }\n        if (azimuthAngle > Math.PI / 2 && azimuthAngle < Math.PI) {\n            tiltXRadians = -Math.PI / 2;\n            tiltYRadians = Math.PI / 2;\n        }\n        if (azimuthAngle > Math.PI && azimuthAngle < (3 * Math.PI) / 2) {\n            tiltXRadians = -Math.PI / 2;\n            tiltYRadians = -Math.PI / 2;\n        }\n        if (azimuthAngle > (3 * Math.PI) / 2 && azimuthAngle < 2 * Math.PI) {\n            tiltXRadians = Math.PI / 2;\n            tiltYRadians = -Math.PI / 2;\n        }\n    }\n    if (altitudeAngle !== 0) {\n        const tanAlt = Math.tan(altitudeAngle);\n        tiltXRadians = Math.atan(Math.cos(azimuthAngle) / tanAlt);\n        tiltYRadians = Math.atan(Math.sin(azimuthAngle) / tanAlt);\n    }\n    const factor = 180 / Math.PI;\n    return {\n        tiltX: Math.round(tiltXRadians * factor),\n        tiltY: Math.round(tiltYRadians * factor),\n    };\n}\nfunction getRadii(width, height) {\n    return {\n        radiusX: width ? width / 2 : 0.5,\n        radiusY: height ? height / 2 : 0.5,\n    };\n}\n//# sourceMappingURL=ActionDispatcher.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n * Copyright 2022 The Chromium Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mutex = void 0;\n/**\n * Use Mutex class to coordinate local concurrent operations.\n * Once `acquire` promise resolves, you hold the lock and must\n * call `release` function returned by `acquire` to release the\n * lock. Failing to `release` the lock may lead to deadlocks.\n */\nclass Mutex {\n    #locked = false;\n    #acquirers = [];\n    // This is FIFO.\n    acquire() {\n        const state = { resolved: false };\n        if (this.#locked) {\n            return new Promise((resolve) => {\n                this.#acquirers.push(() => resolve(this.#release.bind(this, state)));\n            });\n        }\n        this.#locked = true;\n        return Promise.resolve(this.#release.bind(this, state));\n    }\n    #release(state) {\n        if (state.resolved) {\n            throw new Error('Cannot release more than once.');\n        }\n        state.resolved = true;\n        const resolve = this.#acquirers.shift();\n        if (!resolve) {\n            this.#locked = false;\n            return;\n        }\n        resolve();\n    }\n    async run(action) {\n        const release = await this.acquire();\n        try {\n            // Note we need to await here because we want the await to release AFTER\n            // that await happens. Returning action() will trigger the release\n            // immediately which is counter to what we want.\n            const result = await action();\n            return result;\n        }\n        finally {\n            release();\n        }\n    }\n}\nexports.Mutex = Mutex;\n//# sourceMappingURL=Mutex.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputState = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst Mutex_js_1 = require(\"../../../utils/Mutex.js\");\nconst InputSource_js_1 = require(\"./InputSource.js\");\nclass InputState {\n    cancelList = [];\n    #sources = new Map();\n    #mutex = new Mutex_js_1.Mutex();\n    getOrCreate(id, type, subtype) {\n        let source = this.#sources.get(id);\n        if (!source) {\n            switch (type) {\n                case \"none\" /* SourceType.None */:\n                    source = new InputSource_js_1.NoneSource();\n                    break;\n                case \"key\" /* SourceType.Key */:\n                    source = new InputSource_js_1.KeySource();\n                    break;\n                case \"pointer\" /* SourceType.Pointer */: {\n                    let pointerId = subtype === \"mouse\" /* Input.PointerType.Mouse */ ? 0 : 2;\n                    const pointerIds = new Set();\n                    for (const [, source] of this.#sources) {\n                        if (source.type === \"pointer\" /* SourceType.Pointer */) {\n                            pointerIds.add(source.pointerId);\n                        }\n                    }\n                    while (pointerIds.has(pointerId)) {\n                        ++pointerId;\n                    }\n                    source = new InputSource_js_1.PointerSource(pointerId, subtype);\n                    break;\n                }\n                case \"wheel\" /* SourceType.Wheel */:\n                    source = new InputSource_js_1.WheelSource();\n                    break;\n                default:\n                    throw new protocol_js_1.InvalidArgumentException(`Expected \"${\"none\" /* SourceType.None */}\", \"${\"key\" /* SourceType.Key */}\", \"${\"pointer\" /* SourceType.Pointer */}\", or \"${\"wheel\" /* SourceType.Wheel */}\". Found unknown source type ${type}.`);\n            }\n            this.#sources.set(id, source);\n            return source;\n        }\n        if (source.type !== type) {\n            throw new protocol_js_1.InvalidArgumentException(`Input source type of ${id} is ${source.type}, but received ${type}.`);\n        }\n        return source;\n    }\n    get(id) {\n        const source = this.#sources.get(id);\n        if (!source) {\n            throw new protocol_js_1.UnknownErrorException(`Internal error.`);\n        }\n        return source;\n    }\n    getGlobalKeyState() {\n        const state = new InputSource_js_1.KeySource();\n        for (const [, source] of this.#sources) {\n            if (source.type !== \"key\" /* SourceType.Key */) {\n                continue;\n            }\n            for (const pressed of source.pressed) {\n                state.pressed.add(pressed);\n            }\n            state.alt ||= source.alt;\n            state.ctrl ||= source.ctrl;\n            state.meta ||= source.meta;\n            state.shift ||= source.shift;\n        }\n        return state;\n    }\n    get queue() {\n        return this.#mutex;\n    }\n}\nexports.InputState = InputState;\n//# sourceMappingURL=InputState.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputStateManager = void 0;\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst InputState_js_1 = require(\"./InputState.js\");\n// We use a weak map here as specified here:\n// https://www.w3.org/TR/webdriver/#dfn-browsing-context-input-state-map\nclass InputStateManager extends WeakMap {\n    get(context) {\n        (0, assert_js_1.assert)(context.isTopLevelContext());\n        if (!this.has(context)) {\n            this.set(context, new InputState_js_1.InputState());\n        }\n        return super.get(context);\n    }\n}\nexports.InputStateManager = InputStateManager;\n//# sourceMappingURL=InputStateManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputProcessor = void 0;\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst ActionDispatcher_js_1 = require(\"../input/ActionDispatcher.js\");\nconst InputStateManager_js_1 = require(\"../input/InputStateManager.js\");\nclass InputProcessor {\n    #browsingContextStorage;\n    #inputStateManager = new InputStateManager_js_1.InputStateManager();\n    constructor(browsingContextStorage) {\n        this.#browsingContextStorage = browsingContextStorage;\n    }\n    async performActions(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        const inputState = this.#inputStateManager.get(context.top);\n        const actionsByTick = this.#getActionsByTick(params, inputState);\n        const dispatcher = new ActionDispatcher_js_1.ActionDispatcher(inputState, context, await ActionDispatcher_js_1.ActionDispatcher.isMacOS(context).catch(() => false));\n        await dispatcher.dispatchActions(actionsByTick);\n        return {};\n    }\n    async releaseActions(params) {\n        const context = this.#browsingContextStorage.getContext(params.context);\n        const topContext = context.top;\n        const inputState = this.#inputStateManager.get(topContext);\n        const dispatcher = new ActionDispatcher_js_1.ActionDispatcher(inputState, context, await ActionDispatcher_js_1.ActionDispatcher.isMacOS(context).catch(() => false));\n        await dispatcher.dispatchTickActions(inputState.cancelList.reverse());\n        this.#inputStateManager.delete(topContext);\n        return {};\n    }\n    #getActionsByTick(params, inputState) {\n        const actionsByTick = [];\n        for (const action of params.actions) {\n            switch (action.type) {\n                case \"pointer\" /* SourceType.Pointer */: {\n                    action.parameters ??= { pointerType: \"mouse\" /* Input.PointerType.Mouse */ };\n                    action.parameters.pointerType ??= \"mouse\" /* Input.PointerType.Mouse */;\n                    const source = inputState.getOrCreate(action.id, \"pointer\" /* SourceType.Pointer */, action.parameters.pointerType);\n                    if (source.subtype !== action.parameters.pointerType) {\n                        throw new protocol_js_1.InvalidArgumentException(`Expected input source ${action.id} to be ${source.subtype}; got ${action.parameters.pointerType}.`);\n                    }\n                    break;\n                }\n                default:\n                    inputState.getOrCreate(action.id, action.type);\n            }\n            const actions = action.actions.map((item) => ({\n                id: action.id,\n                action: item,\n            }));\n            for (let i = 0; i < actions.length; i++) {\n                if (actionsByTick.length === i) {\n                    actionsByTick.push([]);\n                }\n                actionsByTick[i].push(actions[i]);\n            }\n        }\n        return actionsByTick;\n    }\n}\nexports.InputProcessor = InputProcessor;\n//# sourceMappingURL=InputProcessor.js.map","\"use strict\";var M=Object.defineProperty;var Se=Object.getOwnPropertyDescriptor;var ke=Object.getOwnPropertyNames;var Ee=Object.prototype.hasOwnProperty;var Re=(e,t)=>{for(var r in t)M(e,r,{get:t[r],enumerable:!0})},ye=(e,t,r,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let a of ke(t))!Ee.call(e,a)&&a!==r&&M(e,a,{get:()=>t[a],enumerable:!(n=Se(t,a))||n.enumerable});return e};var Oe=e=>ye(M({},\"__esModule\",{value:!0}),e);var Ne={};Re(Ne,{URLPattern:()=>Y});module.exports=Oe(Ne);var k=class{type=3;name=\"\";prefix=\"\";value=\"\";suffix=\"\";modifier=3;constructor(t,r,n,a,c,l){this.type=t,this.name=r,this.prefix=n,this.value=a,this.suffix=c,this.modifier=l}hasCustomName(){return this.name!==\"\"&&typeof this.name!=\"number\"}},Te=/[$_\\p{ID_Start}]/u,Ae=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,v=\".*\";function we(e,t){return(t?/^[\\x00-\\xFF]*$/:/^[\\x00-\\x7F]*$/).test(e)}function D(e,t=!1){let r=[],n=0;for(;n<e.length;){let a=e[n],c=function(l){if(!t)throw new TypeError(l);r.push({type:\"INVALID_CHAR\",index:n,value:e[n++]})};if(a===\"*\"){r.push({type:\"ASTERISK\",index:n,value:e[n++]});continue}if(a===\"+\"||a===\"?\"){r.push({type:\"OTHER_MODIFIER\",index:n,value:e[n++]});continue}if(a===\"\\\\\"){r.push({type:\"ESCAPED_CHAR\",index:n++,value:e[n++]});continue}if(a===\"{\"){r.push({type:\"OPEN\",index:n,value:e[n++]});continue}if(a===\"}\"){r.push({type:\"CLOSE\",index:n,value:e[n++]});continue}if(a===\":\"){let l=\"\",s=n+1;for(;s<e.length;){let i=e.substr(s,1);if(s===n+1&&Te.test(i)||s!==n+1&&Ae.test(i)){l+=e[s++];continue}break}if(!l){c(`Missing parameter name at ${n}`);continue}r.push({type:\"NAME\",index:n,value:l}),n=s;continue}if(a===\"(\"){let l=1,s=\"\",i=n+1,o=!1;if(e[i]===\"?\"){c(`Pattern cannot start with \"?\" at ${i}`);continue}for(;i<e.length;){if(!we(e[i],!1)){c(`Invalid character '${e[i]}' at ${i}.`),o=!0;break}if(e[i]===\"\\\\\"){s+=e[i++]+e[i++];continue}if(e[i]===\")\"){if(l--,l===0){i++;break}}else if(e[i]===\"(\"&&(l++,e[i+1]!==\"?\")){c(`Capturing groups are not allowed at ${i}`),o=!0;break}s+=e[i++]}if(o)continue;if(l){c(`Unbalanced pattern at ${n}`);continue}if(!s){c(`Missing pattern at ${n}`);continue}r.push({type:\"REGEX\",index:n,value:s}),n=i;continue}r.push({type:\"CHAR\",index:n,value:e[n++]})}return r.push({type:\"END\",index:n,value:\"\"}),r}function F(e,t={}){let r=D(e);t.delimiter??=\"/#?\",t.prefixes??=\"./\";let n=`[^${x(t.delimiter)}]+?`,a=[],c=0,l=0,s=\"\",i=new Set,o=f=>{if(l<r.length&&r[l].type===f)return r[l++].value},h=()=>o(\"OTHER_MODIFIER\")??o(\"ASTERISK\"),p=f=>{let u=o(f);if(u!==void 0)return u;let{type:d,index:T}=r[l];throw new TypeError(`Unexpected ${d} at ${T}, expected ${f}`)},O=()=>{let f=\"\",u;for(;u=o(\"CHAR\")??o(\"ESCAPED_CHAR\");)f+=u;return f},be=f=>f,L=t.encodePart||be,I=\"\",H=f=>{I+=f},$=()=>{I.length&&(a.push(new k(3,\"\",\"\",L(I),\"\",3)),I=\"\")},X=(f,u,d,T,Z)=>{let g=3;switch(Z){case\"?\":g=1;break;case\"*\":g=0;break;case\"+\":g=2;break}if(!u&&!d&&g===3){H(f);return}if($(),!u&&!d){if(!f)return;a.push(new k(3,\"\",\"\",L(f),\"\",g));return}let m;d?d===\"*\"?m=v:m=d:m=n;let R=2;m===n?(R=1,m=\"\"):m===v&&(R=0,m=\"\");let S;if(u?S=u:d&&(S=c++),i.has(S))throw new TypeError(`Duplicate name '${S}'.`);i.add(S),a.push(new k(R,S,L(f),m,L(T),g))};for(;l<r.length;){let f=o(\"CHAR\"),u=o(\"NAME\"),d=o(\"REGEX\");if(!u&&!d&&(d=o(\"ASTERISK\")),u||d){let g=f??\"\";t.prefixes.indexOf(g)===-1&&(H(g),g=\"\"),$();let m=h();X(g,u,d,\"\",m);continue}let T=f??o(\"ESCAPED_CHAR\");if(T){H(T);continue}if(o(\"OPEN\")){let g=O(),m=o(\"NAME\"),R=o(\"REGEX\");!m&&!R&&(R=o(\"ASTERISK\"));let S=O();p(\"CLOSE\");let Pe=h();X(g,m,R,S,Pe);continue}$(),p(\"END\")}return a}function x(e){return e.replace(/([.+*?^${}()[\\]|/\\\\])/g,\"\\\\$1\")}function B(e){return e&&e.ignoreCase?\"ui\":\"u\"}function q(e,t,r){return W(F(e,r),t,r)}function y(e){switch(e){case 0:return\"*\";case 1:return\"?\";case 2:return\"+\";case 3:return\"\"}}function W(e,t,r={}){r.delimiter??=\"/#?\",r.prefixes??=\"./\",r.sensitive??=!1,r.strict??=!1,r.end??=!0,r.start??=!0,r.endsWith=\"\";let n=r.start?\"^\":\"\";for(let s of e){if(s.type===3){s.modifier===3?n+=x(s.value):n+=`(?:${x(s.value)})${y(s.modifier)}`;continue}t&&t.push(s.name);let i=`[^${x(r.delimiter)}]+?`,o=s.value;if(s.type===1?o=i:s.type===0&&(o=v),!s.prefix.length&&!s.suffix.length){s.modifier===3||s.modifier===1?n+=`(${o})${y(s.modifier)}`:n+=`((?:${o})${y(s.modifier)})`;continue}if(s.modifier===3||s.modifier===1){n+=`(?:${x(s.prefix)}(${o})${x(s.suffix)})`,n+=y(s.modifier);continue}n+=`(?:${x(s.prefix)}`,n+=`((?:${o})(?:`,n+=x(s.suffix),n+=x(s.prefix),n+=`(?:${o}))*)${x(s.suffix)})`,s.modifier===0&&(n+=\"?\")}let a=`[${x(r.endsWith)}]|$`,c=`[${x(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${c}?`),r.endsWith.length?n+=`(?=${a})`:n+=\"$\",new RegExp(n,B(r));r.strict||(n+=`(?:${c}(?=${a}))?`);let l=!1;if(e.length){let s=e[e.length-1];s.type===3&&s.modifier===3&&(l=r.delimiter.indexOf(s)>-1)}return l||(n+=`(?=${c}|${a})`),new RegExp(n,B(r))}var b={delimiter:\"\",prefixes:\"\",sensitive:!0,strict:!0},J={delimiter:\".\",prefixes:\"\",sensitive:!0,strict:!0},Q={delimiter:\"/\",prefixes:\"/\",sensitive:!0,strict:!0};function ee(e,t){return e.length?e[0]===\"/\"?!0:!t||e.length<2?!1:(e[0]==\"\\\\\"||e[0]==\"{\")&&e[1]==\"/\":!1}function te(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function Ce(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function _(e){return!e||e.length<2?!1:e[0]===\"[\"||(e[0]===\"\\\\\"||e[0]===\"{\")&&e[1]===\"[\"}var re=[\"ftp\",\"file\",\"http\",\"https\",\"ws\",\"wss\"];function N(e){if(!e)return!0;for(let t of re)if(e.test(t))return!0;return!1}function ne(e,t){if(e=te(e,\"#\"),t||e===\"\")return e;let r=new URL(\"https://example.com\");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):\"\"}function se(e,t){if(e=te(e,\"?\"),t||e===\"\")return e;let r=new URL(\"https://example.com\");return r.search=e,r.search?r.search.substring(1,r.search.length):\"\"}function ie(e,t){return t||e===\"\"?e:_(e)?K(e):j(e)}function ae(e,t){if(t||e===\"\")return e;let r=new URL(\"https://example.com\");return r.password=e,r.password}function oe(e,t){if(t||e===\"\")return e;let r=new URL(\"https://example.com\");return r.username=e,r.username}function ce(e,t,r){if(r||e===\"\")return e;if(t&&!re.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]==\"/\";return e=new URL(n?e:\"/-\"+e,\"https://example.com\").pathname,n||(e=e.substring(2,e.length)),e}function le(e,t,r){return z(t)===e&&(e=\"\"),r||e===\"\"?e:V(e)}function he(e,t){return e=Ce(e,\":\"),t||e===\"\"?e:A(e)}function z(e){switch(e){case\"ws\":case\"http\":return\"80\";case\"wws\":case\"https\":return\"443\";case\"ftp\":return\"21\";default:return\"\"}}function A(e){if(e===\"\")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function fe(e){if(e===\"\")return e;let t=new URL(\"https://example.com\");return t.username=e,t.username}function ue(e){if(e===\"\")return e;let t=new URL(\"https://example.com\");return t.password=e,t.password}function j(e){if(e===\"\")return e;if(/[\\t\\n\\r #%/:<>?@[\\]^\\\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL(\"https://example.com\");return t.hostname=e,t.hostname}function K(e){if(e===\"\")return e;if(/[^0-9a-fA-F[\\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function V(e){if(e===\"\"||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function pe(e){if(e===\"\")return e;let t=new URL(\"https://example.com\");return t.pathname=e[0]!==\"/\"?\"/-\"+e:e,e[0]!==\"/\"?t.pathname.substring(2,t.pathname.length):t.pathname}function de(e){return e===\"\"?e:new URL(`data:${e}`).pathname}function ge(e){if(e===\"\")return e;let t=new URL(\"https://example.com\");return t.search=e,t.search.substring(1,t.search.length)}function me(e){if(e===\"\")return e;let t=new URL(\"https://example.com\");return t.hash=e,t.hash.substring(1,t.hash.length)}var U=class{#i;#n=[];#t={};#e=0;#s=1;#u=0;#c=0;#p=0;#d=0;#g=!1;constructor(t){this.#i=t}get result(){return this.#t}parse(){for(this.#n=D(this.#i,!0);this.#e<this.#n.length;this.#e+=this.#s){if(this.#s=1,this.#n[this.#e].type===\"END\"){if(this.#c===0){this.#P(),this.#l()?this.#r(9,1):this.#h()?(this.#r(8,1),this.#t.hash=\"\"):(this.#r(7,0),this.#t.search=\"\",this.#t.hash=\"\");continue}else if(this.#c===2){this.#f(5);continue}this.#r(10,0);break}if(this.#p>0)if(this.#T())this.#p-=1;else continue;if(this.#O()){this.#p+=1;continue}switch(this.#c){case 0:this.#S()&&(this.#t.username=\"\",this.#t.password=\"\",this.#t.hostname=\"\",this.#t.port=\"\",this.#t.pathname=\"\",this.#t.search=\"\",this.#t.hash=\"\",this.#f(1));break;case 1:if(this.#S()){this.#C();let t=7,r=1;this.#g&&(this.#t.pathname=\"/\"),this.#E()?(t=2,r=3):this.#g&&(t=2),this.#r(t,r)}break;case 2:this.#x()?this.#f(3):(this.#b()||this.#h()||this.#l())&&this.#f(5);break;case 3:this.#R()?this.#r(4,1):this.#x()&&this.#r(5,1);break;case 4:this.#x()&&this.#r(5,1);break;case 5:this.#A()?this.#d+=1:this.#w()&&(this.#d-=1),this.#y()&&!this.#d?this.#r(6,1):this.#b()?this.#r(7,0):this.#h()?this.#r(8,1):this.#l()&&this.#r(9,1);break;case 6:this.#b()?this.#r(7,0):this.#h()?this.#r(8,1):this.#l()&&this.#r(9,1);break;case 7:this.#h()?this.#r(8,1):this.#l()&&this.#r(9,1);break;case 8:this.#l()&&this.#r(9,1);break;case 9:break;case 10:break}}}#r(t,r){switch(this.#c){case 0:break;case 1:this.#t.protocol=this.#o();break;case 2:break;case 3:this.#t.username=this.#o();break;case 4:this.#t.password=this.#o();break;case 5:this.#t.hostname=this.#o();break;case 6:this.#t.port=this.#o();break;case 7:this.#t.pathname=this.#o();break;case 8:this.#t.search=this.#o();break;case 9:this.#t.hash=this.#o();break;case 10:break}this.#k(t,r)}#k(t,r){this.#c=t,this.#u=this.#e+r,this.#e+=r,this.#s=0}#P(){this.#e=this.#u,this.#s=0}#f(t){this.#P(),this.#c=t}#m(t){return t<0&&(t=this.#n.length-t),t<this.#n.length?this.#n[t]:this.#n[this.#n.length-1]}#a(t,r){let n=this.#m(t);return n.value===r&&(n.type===\"CHAR\"||n.type===\"ESCAPED_CHAR\"||n.type===\"INVALID_CHAR\")}#S(){return this.#a(this.#e,\":\")}#E(){return this.#a(this.#e+1,\"/\")&&this.#a(this.#e+2,\"/\")}#x(){return this.#a(this.#e,\"@\")}#R(){return this.#a(this.#e,\":\")}#y(){return this.#a(this.#e,\":\")}#b(){return this.#a(this.#e,\"/\")}#h(){if(this.#a(this.#e,\"?\"))return!0;if(this.#n[this.#e].value!==\"?\")return!1;let t=this.#m(this.#e-1);return t.type!==\"NAME\"&&t.type!==\"REGEX\"&&t.type!==\"CLOSE\"&&t.type!==\"ASTERISK\"}#l(){return this.#a(this.#e,\"#\")}#O(){return this.#n[this.#e].type==\"OPEN\"}#T(){return this.#n[this.#e].type==\"CLOSE\"}#A(){return this.#a(this.#e,\"[\")}#w(){return this.#a(this.#e,\"]\")}#o(){let t=this.#n[this.#e],r=this.#m(this.#u).index;return this.#i.substring(r,t.index)}#C(){let t={};Object.assign(t,b),t.encodePart=A;let r=q(this.#o(),void 0,t);this.#g=N(r)}};var G=[\"protocol\",\"username\",\"password\",\"hostname\",\"port\",\"pathname\",\"search\",\"hash\"],E=\"*\";function xe(e,t){if(typeof e!=\"string\")throw new TypeError(\"parameter 1 is not of type 'string'.\");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==\"\"?r.search.substring(1,r.search.length):void 0,hash:r.hash!==\"\"?r.hash.substring(1,r.hash.length):void 0}}function P(e,t){return t?C(e):e}function w(e,t,r){let n;if(typeof t.baseURL==\"string\")try{n=new URL(t.baseURL),e.protocol=P(n.protocol.substring(0,n.protocol.length-1),r),e.username=P(n.username,r),e.password=P(n.password,r),e.hostname=P(n.hostname,r),e.port=P(n.port,r),e.pathname=P(n.pathname,r),e.search=P(n.search.substring(1,n.search.length),r),e.hash=P(n.hash.substring(1,n.hash.length),r)}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol==\"string\"&&(e.protocol=he(t.protocol,r)),typeof t.username==\"string\"&&(e.username=oe(t.username,r)),typeof t.password==\"string\"&&(e.password=ae(t.password,r)),typeof t.hostname==\"string\"&&(e.hostname=ie(t.hostname,r)),typeof t.port==\"string\"&&(e.port=le(t.port,e.protocol,r)),typeof t.pathname==\"string\"){if(e.pathname=t.pathname,n&&!ee(e.pathname,r)){let a=n.pathname.lastIndexOf(\"/\");a>=0&&(e.pathname=P(n.pathname.substring(0,a+1),r)+e.pathname)}e.pathname=ce(e.pathname,e.protocol,r)}return typeof t.search==\"string\"&&(e.search=se(t.search,r)),typeof t.hash==\"string\"&&(e.hash=ne(t.hash,r)),e}function C(e){return e.replace(/([+*?:{}()\\\\])/g,\"\\\\$1\")}function Le(e){return e.replace(/([.+*?^${}()[\\]|/\\\\])/g,\"\\\\$1\")}function Ie(e,t){t.delimiter??=\"/#?\",t.prefixes??=\"./\",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith=\"\";let r=\".*\",n=`[^${Le(t.delimiter)}]+?`,a=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,c=\"\";for(let l=0;l<e.length;++l){let s=e[l];if(s.type===3){if(s.modifier===3){c+=C(s.value);continue}c+=`{${C(s.value)}}${y(s.modifier)}`;continue}let i=s.hasCustomName(),o=!!s.suffix.length||!!s.prefix.length&&(s.prefix.length!==1||!t.prefixes.includes(s.prefix)),h=l>0?e[l-1]:null,p=l<e.length-1?e[l+1]:null;if(!o&&i&&s.type===1&&s.modifier===3&&p&&!p.prefix.length&&!p.suffix.length)if(p.type===3){let O=p.value.length>0?p.value[0]:\"\";o=a.test(O)}else o=!p.hasCustomName();if(!o&&!s.prefix.length&&h&&h.type===3){let O=h.value[h.value.length-1];o=t.prefixes.includes(O)}o&&(c+=\"{\"),c+=C(s.prefix),i&&(c+=`:${s.name}`),s.type===2?c+=`(${s.value})`:s.type===1?i||(c+=`(${n})`):s.type===0&&(!i&&(!h||h.type===3||h.modifier!==3||o||s.prefix!==\"\")?c+=\"*\":c+=`(${r})`),s.type===1&&i&&s.suffix.length&&a.test(s.suffix[0])&&(c+=\"\\\\\"),c+=C(s.suffix),o&&(c+=\"}\"),s.modifier!==3&&(c+=y(s.modifier))}return c}var Y=class{#i;#n={};#t={};#e={};#s={};constructor(t={},r,n){try{let a;if(typeof r==\"string\"?a=r:n=r,typeof t==\"string\"){let i=new U(t);if(i.parse(),t=i.result,a===void 0&&typeof t.protocol!=\"string\")throw new TypeError(\"A base URL must be provided for a relative constructor string.\");t.baseURL=a}else{if(!t||typeof t!=\"object\")throw new TypeError(\"parameter 1 is not of type 'string' and cannot convert to dictionary.\");if(a)throw new TypeError(\"parameter 1 is not of type 'string'.\")}typeof n>\"u\"&&(n={ignoreCase:!1});let c={ignoreCase:n.ignoreCase===!0},l={pathname:E,protocol:E,username:E,password:E,hostname:E,port:E,search:E,hash:E};this.#i=w(l,t,!0),z(this.#i.protocol)===this.#i.port&&(this.#i.port=\"\");let s;for(s of G){if(!(s in this.#i))continue;let i={},o=this.#i[s];switch(this.#t[s]=[],s){case\"protocol\":Object.assign(i,b),i.encodePart=A;break;case\"username\":Object.assign(i,b),i.encodePart=fe;break;case\"password\":Object.assign(i,b),i.encodePart=ue;break;case\"hostname\":Object.assign(i,J),_(o)?i.encodePart=K:i.encodePart=j;break;case\"port\":Object.assign(i,b),i.encodePart=V;break;case\"pathname\":N(this.#n.protocol)?(Object.assign(i,Q,c),i.encodePart=pe):(Object.assign(i,b,c),i.encodePart=de);break;case\"search\":Object.assign(i,b,c),i.encodePart=ge;break;case\"hash\":Object.assign(i,b,c),i.encodePart=me;break}try{this.#s[s]=F(o,i),this.#n[s]=W(this.#s[s],this.#t[s],i),this.#e[s]=Ie(this.#s[s],i)}catch{throw new TypeError(`invalid ${s} pattern '${this.#i[s]}'.`)}}}catch(a){throw new TypeError(`Failed to construct 'URLPattern': ${a.message}`)}}test(t={},r){let n={pathname:\"\",protocol:\"\",username:\"\",password:\"\",hostname:\"\",port:\"\",search:\"\",hash:\"\"};if(typeof t!=\"string\"&&r)throw new TypeError(\"parameter 1 is not of type 'string'.\");if(typeof t>\"u\")return!1;try{typeof t==\"object\"?n=w(n,t,!1):n=w(n,xe(t,r),!1)}catch{return!1}let a;for(a of G)if(!this.#n[a].exec(n[a]))return!1;return!0}exec(t={},r){let n={pathname:\"\",protocol:\"\",username:\"\",password:\"\",hostname:\"\",port:\"\",search:\"\",hash:\"\"};if(typeof t!=\"string\"&&r)throw new TypeError(\"parameter 1 is not of type 'string'.\");if(typeof t>\"u\")return;try{typeof t==\"object\"?n=w(n,t,!1):n=w(n,xe(t,r),!1)}catch{return null}let a={};r?a.inputs=[t,r]:a.inputs=[t];let c;for(c of G){let l=this.#n[c].exec(n[c]);if(!l)return null;let s={};for(let[i,o]of this.#t[c].entries())if(typeof o==\"string\"||typeof o==\"number\"){let h=l[i+1];s[o]=h}a[c]={input:n[c]??\"\",groups:s}}return a}static compareComponent(t,r,n){let a=(i,o)=>{for(let h of[\"type\",\"modifier\",\"prefix\",\"value\",\"suffix\"]){if(i[h]<o[h])return-1;if(i[h]===o[h])continue;return 1}return 0},c=new k(3,\"\",\"\",\"\",\"\",3),l=new k(0,\"\",\"\",\"\",\"\",3),s=(i,o)=>{let h=0;for(;h<Math.min(i.length,o.length);++h){let p=a(i[h],o[h]);if(p)return p}return i.length===o.length?0:a(i[h]??c,o[h]??c)};return!r.#e[t]&&!n.#e[t]?0:r.#e[t]&&!n.#e[t]?s(r.#s[t],[l]):!r.#e[t]&&n.#e[t]?s([l],n.#s[t]):s(r.#s[t],n.#s[t])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}};\n","const { URLPattern } = require(\"./dist/urlpattern.cjs\");\n\nmodule.exports = { URLPattern };\n\nif (!globalThis.URLPattern) {\n  globalThis.URLPattern = URLPattern;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.URLPattern = void 0;\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst urlpattern_polyfill_1 = require(\"urlpattern-polyfill\");\nObject.defineProperty(exports, \"URLPattern\", { enumerable: true, get: function () { return urlpattern_polyfill_1.URLPattern; } });\n// XXX: Switch to native URLPattern when available.\n// https://github.com/nodejs/node/issues/40844\nif ('URLPattern' in globalThis) {\n    urlpattern_polyfill_1.URLPattern = globalThis.URLPattern;\n}\n//# sourceMappingURL=UrlPattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NetworkStorage = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst UrlPattern_js_1 = require(\"../../../utils/UrlPattern.js\");\nconst uuid_js_1 = require(\"../../../utils/uuid.js\");\n/** Stores network and intercept maps. */\nclass NetworkStorage {\n    /**\n     * A map from network request ID to Network Request objects.\n     * Needed as long as information about requests comes from different events.\n     */\n    #requestMap = new Map();\n    /** A map from intercept ID to track active network intercepts. */\n    #interceptMap = new Map();\n    /** A map from network request ID to track actively blocked requests. */\n    #blockedRequestMap = new Map();\n    disposeRequestMap() {\n        for (const request of this.#requestMap.values()) {\n            request.dispose();\n        }\n        this.#requestMap.clear();\n    }\n    /**\n     * Adds the given entry to the intercept map.\n     * URL patterns are assumed to be parsed.\n     *\n     * @return The intercept ID.\n     */\n    addIntercept(value) {\n        // Check if the given intercept entry already exists.\n        for (const [interceptId, { urlPatterns, phases },] of this.#interceptMap.entries()) {\n            if (JSON.stringify(value.urlPatterns) === JSON.stringify(urlPatterns) &&\n                JSON.stringify(value.phases) === JSON.stringify(phases)) {\n                return interceptId;\n            }\n        }\n        const interceptId = (0, uuid_js_1.uuidv4)();\n        this.#interceptMap.set(interceptId, value);\n        return interceptId;\n    }\n    /**\n     * Removes the given intercept from the intercept map.\n     * Throws NoSuchInterceptException if the intercept does not exist.\n     */\n    removeIntercept(intercept) {\n        if (!this.#interceptMap.has(intercept)) {\n            throw new protocol_js_1.NoSuchInterceptException(`Intercept '${intercept}' does not exist.`);\n        }\n        this.#interceptMap.delete(intercept);\n    }\n    /** Returns true if there's at least one added intercept. */\n    hasIntercepts() {\n        return this.#interceptMap.size > 0;\n    }\n    /** Gets parameters for CDP 'Fetch.enable' command from the intercept map. */\n    getFetchEnableParams() {\n        const patterns = [];\n        for (const value of this.#interceptMap.values()) {\n            for (const phase of value.phases) {\n                const requestStage = NetworkStorage.requestStageFromPhase(phase);\n                if (value.urlPatterns.length === 0) {\n                    patterns.push({\n                        urlPattern: '*',\n                        requestStage,\n                    });\n                    continue;\n                }\n                for (const urlPatternSpec of value.urlPatterns) {\n                    const urlPattern = NetworkStorage.cdpFromSpecUrlPattern(urlPatternSpec);\n                    patterns.push({\n                        urlPattern,\n                        requestStage,\n                    });\n                }\n            }\n        }\n        return {\n            patterns,\n            // If there's at least one intercept that requires auth, enable the\n            // 'Fetch.authRequired' event.\n            handleAuthRequests: [...this.#interceptMap.values()].some((param) => {\n                return param.phases.includes(\"authRequired\" /* Network.InterceptPhase.AuthRequired */);\n            }),\n        };\n    }\n    getRequest(id) {\n        return this.#requestMap.get(id);\n    }\n    addRequest(request) {\n        this.#requestMap.set(request.requestId, request);\n    }\n    deleteRequest(id) {\n        const request = this.#requestMap.get(id);\n        if (request) {\n            request.dispose();\n            this.#requestMap.delete(id);\n        }\n    }\n    /** Returns true if there's at least one network request. */\n    hasNetworkRequests() {\n        return this.#requestMap.size > 0;\n    }\n    /** Returns true if there's at least one blocked network request. */\n    hasBlockedRequests() {\n        return this.#blockedRequestMap.size > 0;\n    }\n    /** Converts a URL pattern from the spec to a CDP URL pattern. */\n    static cdpFromSpecUrlPattern(urlPattern) {\n        switch (urlPattern.type) {\n            case 'string':\n                return urlPattern.pattern;\n            case 'pattern':\n                return NetworkStorage.buildUrlPatternString(urlPattern);\n        }\n    }\n    static buildUrlPatternString({ protocol, hostname, port, pathname, search, }) {\n        if (!protocol && !hostname && !port && !pathname && !search) {\n            return '*';\n        }\n        let url = '';\n        if (protocol) {\n            url += `${protocol}`;\n            if (!protocol.endsWith(':')) {\n                url += ':';\n            }\n            if (NetworkStorage.isSpecialScheme(protocol)) {\n                url += '//';\n            }\n        }\n        if (hostname) {\n            url += hostname;\n        }\n        if (port) {\n            url += `:${port}`;\n        }\n        if (pathname) {\n            if (!pathname.startsWith('/')) {\n                url += '/';\n            }\n            url += pathname;\n        }\n        if (search) {\n            if (!search.startsWith('?')) {\n                url += '?';\n            }\n            url += `${search}`;\n        }\n        return url;\n    }\n    /**\n     * Maps spec Network.InterceptPhase to CDP Fetch.RequestStage.\n     * AuthRequired has no CDP equivalent..\n     */\n    static requestStageFromPhase(phase) {\n        switch (phase) {\n            case \"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */:\n                return 'Request';\n            case \"responseStarted\" /* Network.InterceptPhase.ResponseStarted */:\n            case \"authRequired\" /* Network.InterceptPhase.AuthRequired */:\n                return 'Response';\n        }\n    }\n    /**\n     * Returns true if the given protocol is special.\n     * Special protocols are those that have a default port.\n     *\n     * Example inputs: 'http', 'http:'\n     *\n     * @see https://url.spec.whatwg.org/#special-scheme\n     */\n    static isSpecialScheme(protocol) {\n        return ['ftp', 'file', 'http', 'https', 'ws', 'wss'].includes(protocol.replace(/:$/, ''));\n    }\n    addBlockedRequest(requestId, value) {\n        this.#blockedRequestMap.set(requestId, value);\n    }\n    removeBlockedRequest(requestId) {\n        this.#blockedRequestMap.delete(requestId);\n    }\n    /**\n     * Returns the blocked request associated with the given network ID, if any.\n     */\n    getBlockedRequest(networkId) {\n        return this.#blockedRequestMap.get(networkId);\n    }\n    /** #@see https://w3c.github.io/webdriver-bidi/#get-the-network-intercepts */\n    getNetworkIntercepts(requestId, phase) {\n        const request = this.#requestMap.get(requestId);\n        if (!request) {\n            return [];\n        }\n        const interceptIds = [];\n        for (const [interceptId, { phases, urlPatterns },] of this.#interceptMap.entries()) {\n            if (phase && phases.includes(phase)) {\n                if (urlPatterns.length === 0) {\n                    interceptIds.push(interceptId);\n                }\n                else if (urlPatterns.some((urlPattern) => NetworkStorage.matchUrlPattern(urlPattern, request.url))) {\n                    interceptIds.push(interceptId);\n                }\n            }\n        }\n        return interceptIds;\n    }\n    /** Matches the given URLPattern against the given URL. */\n    static matchUrlPattern(urlPattern, url) {\n        switch (urlPattern.type) {\n            case 'string':\n                return urlPattern.pattern === url;\n            case 'pattern': {\n                return (new UrlPattern_js_1.URLPattern({\n                    protocol: urlPattern.protocol,\n                    hostname: urlPattern.hostname,\n                    port: urlPattern.port,\n                    pathname: urlPattern.pathname,\n                    search: urlPattern.search,\n                }).exec(url) !== null);\n            }\n        }\n    }\n}\nexports.NetworkStorage = NetworkStorage;\n//# sourceMappingURL=NetworkStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NetworkProcessor = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst NetworkStorage_js_1 = require(\"./NetworkStorage.js\");\nconst NetworkUtils_js_1 = require(\"./NetworkUtils.js\");\n/** Dispatches Network domain commands. */\nclass NetworkProcessor {\n    #browsingContextStorage;\n    #networkStorage;\n    constructor(browsingContextStorage, networkStorage) {\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#networkStorage = networkStorage;\n    }\n    async addIntercept(params) {\n        if (params.phases.length === 0) {\n            throw new protocol_js_1.InvalidArgumentException('At least one phase must be specified.');\n        }\n        // If AuthRequired is specified, BeforeRequestSent must also be specified.\n        // This is a CDP quirk.\n        if (params.phases.includes(\"authRequired\" /* Network.InterceptPhase.AuthRequired */) &&\n            !params.phases.includes(\"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */)) {\n            params.phases.unshift(\"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */);\n        }\n        const urlPatterns = params.urlPatterns ?? [];\n        const parsedUrlPatterns = NetworkProcessor.parseUrlPatterns(urlPatterns);\n        const intercept = this.#networkStorage.addIntercept({\n            urlPatterns: parsedUrlPatterns,\n            phases: params.phases,\n        });\n        await this.#fetchApply();\n        return {\n            intercept,\n        };\n    }\n    async continueRequest(params) {\n        const networkId = params.request;\n        const { request: fetchId, phase } = this.#getBlockedRequest(networkId);\n        if (phase !== \"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */) {\n            throw new protocol_js_1.InvalidArgumentException(`Blocked request for network id '${networkId}' is not in 'BeforeRequestSent' phase`);\n        }\n        if (params.url !== undefined) {\n            NetworkProcessor.parseUrlString(params.url);\n        }\n        const { url, method, headers } = params;\n        // TODO: Set / expand.\n        // ; Step 9. cookies\n        // ; Step 10. body\n        const requestHeaders = (0, NetworkUtils_js_1.cdpFetchHeadersFromBidiNetworkHeaders)(headers);\n        const request = this.#networkStorage.getRequest(networkId);\n        (0, assert_js_1.assert)(request, `Network request with ID ${networkId} doesn't exist`);\n        await request.continueRequest(fetchId, url, method, requestHeaders);\n        this.#networkStorage.removeBlockedRequest(networkId);\n        return {};\n    }\n    async continueResponse(params) {\n        const networkId = params.request;\n        const { request: fetchId, phase } = this.#getBlockedRequest(networkId);\n        if (phase === \"beforeRequestSent\" /* Network.InterceptPhase.BeforeRequestSent */) {\n            throw new protocol_js_1.InvalidArgumentException(`Blocked request for network id '${networkId}' is in 'BeforeRequestSent' phase`);\n        }\n        const { statusCode, reasonPhrase, headers } = params;\n        const responseHeaders = (0, NetworkUtils_js_1.cdpFetchHeadersFromBidiNetworkHeaders)(headers);\n        // TODO: Set / expand.\n        // ; Step 10. cookies\n        // ; Step 11. credentials\n        const request = this.#networkStorage.getRequest(networkId);\n        (0, assert_js_1.assert)(request, `Network request with ID ${networkId} doesn't exist`);\n        await request.continueResponse(fetchId, statusCode, reasonPhrase, responseHeaders);\n        this.#networkStorage.removeBlockedRequest(networkId);\n        return {};\n    }\n    async continueWithAuth(params) {\n        const networkId = params.request;\n        const { request: fetchId, phase } = this.#getBlockedRequest(networkId);\n        if (phase !== \"authRequired\" /* Network.InterceptPhase.AuthRequired */) {\n            throw new protocol_js_1.InvalidArgumentException(`Blocked request for network id '${networkId}' is not in 'AuthRequired' phase`);\n        }\n        const request = this.#networkStorage.getRequest(networkId);\n        (0, assert_js_1.assert)(request, `Network request with ID ${networkId} doesn't exist`);\n        let username;\n        let password;\n        if (params.action === 'provideCredentials') {\n            const { credentials } = params;\n            username = params.credentials.username;\n            password = params.credentials.password;\n            (0, assert_js_1.assert)(credentials.type === 'password', `Credentials type ${credentials.type} must be 'password'`);\n        }\n        const response = (0, NetworkUtils_js_1.cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction)(params.action);\n        await request.continueWithAuth(fetchId, response, username, password);\n        return {};\n    }\n    async failRequest(params) {\n        const networkId = params.request;\n        const blockedRequest = this.#getBlockedRequest(networkId);\n        const { request: fetchId, phase } = blockedRequest;\n        if (phase === \"authRequired\" /* Network.InterceptPhase.AuthRequired */) {\n            throw new protocol_js_1.InvalidArgumentException(`Blocked request for network id '${networkId}' is in 'AuthRequired' phase`);\n        }\n        const request = this.#networkStorage.getRequest(networkId);\n        (0, assert_js_1.assert)(request, `Network request with ID ${networkId} doesn't exist`);\n        await request.failRequest(fetchId, 'Failed');\n        this.#networkStorage.removeBlockedRequest(networkId);\n        return {};\n    }\n    async provideResponse(params) {\n        const networkId = params.request;\n        const { request: fetchId } = this.#getBlockedRequest(networkId);\n        const { statusCode, reasonPhrase, headers, body } = params;\n        // TODO: Step 6\n        // https://w3c.github.io/webdriver-bidi/#command-network-continueResponse\n        const responseHeaders = (0, NetworkUtils_js_1.cdpFetchHeadersFromBidiNetworkHeaders)(headers);\n        // TODO: Set / expand.\n        // ; Step 10. cookies\n        // ; Step 11. credentials\n        const request = this.#networkStorage.getRequest(networkId);\n        (0, assert_js_1.assert)(request, `Network request with ID ${networkId} doesn't exist`);\n        await request.provideResponse(fetchId, statusCode ?? request.statusCode, reasonPhrase, responseHeaders, body?.value // TODO: Differ base64 / string\n        );\n        this.#networkStorage.removeBlockedRequest(networkId);\n        return {};\n    }\n    async removeIntercept(params) {\n        this.#networkStorage.removeIntercept(params.intercept);\n        await this.#fetchApply();\n        return {};\n    }\n    /** Applies all existing network intercepts to all CDP targets concurrently. */\n    async #fetchEnable() {\n        await Promise.all(this.#browsingContextStorage.getAllContexts().map(async (context) => {\n            await context.cdpTarget.fetchEnable();\n        }));\n    }\n    /** Removes all existing network intercepts from all CDP targets concurrently. */\n    async #fetchDisable() {\n        await Promise.all(this.#browsingContextStorage.getAllContexts().map(async (context) => {\n            await context.cdpTarget.fetchDisable();\n        }));\n    }\n    /**\n     * Either enables or disables the Fetch domain.\n     *\n     * If enabling, applies all existing network intercepts to all CDP targets.\n     * If disabling, removes all existing network intercepts from all CDP targets.\n     *\n     * Disabling is only performed when there are no remaining intercepts or\n     * // blocked requests.\n     */\n    async #fetchApply() {\n        if (this.#networkStorage.hasIntercepts() ||\n            this.#networkStorage.hasBlockedRequests() ||\n            this.#networkStorage.hasNetworkRequests()) {\n            // TODO: Add try/catch. Remove the intercept if CDP Fetch commands fail.\n            await this.#fetchEnable();\n        }\n        else {\n            // The last intercept has been removed, and there are no pending\n            // blocked requests.\n            // Disable the Fetch domain.\n            await this.#fetchDisable();\n        }\n    }\n    /**\n     * Returns the blocked request associated with the given network ID.\n     * If none, throws a NoSuchRequestException.\n     */\n    #getBlockedRequest(networkId) {\n        const blockedRequest = this.#networkStorage.getBlockedRequest(networkId);\n        if (!blockedRequest) {\n            throw new protocol_js_1.NoSuchRequestException(`No blocked request found for network id '${networkId}'`);\n        }\n        return blockedRequest;\n    }\n    /**\n     * Attempts to parse the given url.\n     * Throws an InvalidArgumentException if the url is invalid.\n     */\n    static parseUrlString(url) {\n        try {\n            return new URL(url);\n        }\n        catch (error) {\n            throw new protocol_js_1.InvalidArgumentException(`Invalid URL '${url}': ${error}`);\n        }\n    }\n    static parseUrlPatterns(urlPatterns) {\n        return urlPatterns.map((urlPattern) => {\n            switch (urlPattern.type) {\n                case 'string': {\n                    NetworkProcessor.parseUrlString(urlPattern.pattern);\n                    return urlPattern;\n                }\n                case 'pattern':\n                    // No params signifies intercept all\n                    if (urlPattern.protocol === undefined &&\n                        urlPattern.hostname === undefined &&\n                        urlPattern.port === undefined &&\n                        urlPattern.pathname === undefined &&\n                        urlPattern.search === undefined) {\n                        return urlPattern;\n                    }\n                    if (urlPattern.protocol === '') {\n                        throw new protocol_js_1.InvalidArgumentException(`URL pattern must specify a protocol`);\n                    }\n                    if (urlPattern.hostname === '') {\n                        throw new protocol_js_1.InvalidArgumentException(`URL pattern must specify a hostname`);\n                    }\n                    if ((urlPattern.hostname?.length ?? 0) > 0) {\n                        if (urlPattern.protocol?.match(/^file/i)) {\n                            throw new protocol_js_1.InvalidArgumentException(`URL pattern protocol cannot be 'file'`);\n                        }\n                        if (urlPattern.hostname?.includes(':')) {\n                            throw new protocol_js_1.InvalidArgumentException(`URL pattern hostname must not contain a colon`);\n                        }\n                    }\n                    if (urlPattern.port === '') {\n                        throw new protocol_js_1.InvalidArgumentException(`URL pattern must specify a port`);\n                    }\n                    try {\n                        new URL(NetworkStorage_js_1.NetworkStorage.buildUrlPatternString(urlPattern));\n                    }\n                    catch (error) {\n                        throw new protocol_js_1.InvalidArgumentException(`${error}`);\n                    }\n                    return urlPattern;\n            }\n        });\n    }\n}\nexports.NetworkProcessor = NetworkProcessor;\n//# sourceMappingURL=NetworkProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PreloadScriptStorage = void 0;\n/**\n * Container class for preload scripts.\n */\nclass PreloadScriptStorage {\n    /** Tracks all BiDi preload scripts.  */\n    #scripts = new Set();\n    /** Finds all entries that match the given filter. */\n    find(filter) {\n        if (!filter) {\n            return [...this.#scripts];\n        }\n        return [...this.#scripts].filter((script) => {\n            if (filter.id !== undefined && filter.id !== script.id) {\n                return false;\n            }\n            if (filter.targetId !== undefined &&\n                !script.targetIds.has(filter.targetId)) {\n                return false;\n            }\n            if (filter.global !== undefined &&\n                // Global scripts have no contexts\n                ((filter.global && script.contexts !== undefined) ||\n                    // Non global scripts always have contexts\n                    (!filter.global && script.contexts === undefined))) {\n                return false;\n            }\n            return true;\n        });\n    }\n    add(preloadScript) {\n        this.#scripts.add(preloadScript);\n    }\n    /** Deletes all BiDi preload script entries that match the given filter. */\n    remove(filter) {\n        for (const preloadScript of this.find(filter)) {\n            this.#scripts.delete(preloadScript);\n        }\n    }\n}\nexports.PreloadScriptStorage = PreloadScriptStorage;\n//# sourceMappingURL=PreloadScriptStorage.js.map","\"use strict\";\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PreloadScript = void 0;\nconst uuid_js_1 = require(\"../../../utils/uuid.js\");\nconst ChannelProxy_js_1 = require(\"./ChannelProxy.js\");\n/**\n * BiDi IDs are generated by the server and are unique within contexts.\n *\n * CDP preload script IDs are generated by the client and are unique\n * within sessions.\n *\n * The mapping between BiDi and CDP preload script IDs is 1:many.\n * BiDi IDs are needed by the mapper to keep track of potential multiple CDP IDs\n * in the client.\n */\nclass PreloadScript {\n    /** BiDi ID, an automatically generated UUID. */\n    #id = (0, uuid_js_1.uuidv4)();\n    /** CDP preload scripts. */\n    #cdpPreloadScripts = [];\n    /** The script itself, in a format expected by the spec i.e. a function. */\n    #functionDeclaration;\n    /** Targets, in which the preload script is initialized. */\n    #targetIds = new Set();\n    /** Channels to be added as arguments to functionDeclaration. */\n    #channels;\n    /** The script sandbox / world name. */\n    #sandbox;\n    /** The browsing contexts to execute the preload scripts in, if any. */\n    #contexts;\n    get id() {\n        return this.#id;\n    }\n    get targetIds() {\n        return this.#targetIds;\n    }\n    constructor(params, logger) {\n        this.#channels =\n            params.arguments?.map((a) => new ChannelProxy_js_1.ChannelProxy(a.value, logger)) ?? [];\n        this.#functionDeclaration = params.functionDeclaration;\n        this.#sandbox = params.sandbox;\n        this.#contexts = params.contexts;\n    }\n    /** Channels of the preload script. */\n    get channels() {\n        return this.#channels;\n    }\n    /** Contexts of the preload script, if any */\n    get contexts() {\n        return this.#contexts;\n    }\n    /**\n     * String to be evaluated. Wraps user-provided function so that the following\n     * steps are run:\n     * 1. Create channels.\n     * 2. Store the created channels in window.\n     * 3. Call the user-provided function with channels as arguments.\n     */\n    #getEvaluateString() {\n        const channelsArgStr = `[${this.channels\n            .map((c) => c.getEvalInWindowStr())\n            .join(', ')}]`;\n        return `(()=>{(${this.#functionDeclaration})(...${channelsArgStr})})()`;\n    }\n    /**\n     * Adds the script to the given CDP targets by calling the\n     * `Page.addScriptToEvaluateOnNewDocument` command.\n     */\n    async initInTargets(cdpTargets, runImmediately) {\n        await Promise.all(Array.from(cdpTargets).map((cdpTarget) => this.initInTarget(cdpTarget, runImmediately)));\n    }\n    /**\n     * Adds the script to the given CDP target by calling the\n     * `Page.addScriptToEvaluateOnNewDocument` command.\n     */\n    async initInTarget(cdpTarget, runImmediately) {\n        const addCdpPreloadScriptResult = await cdpTarget.cdpClient.sendCommand('Page.addScriptToEvaluateOnNewDocument', {\n            source: this.#getEvaluateString(),\n            worldName: this.#sandbox,\n            runImmediately,\n        });\n        this.#cdpPreloadScripts.push({\n            target: cdpTarget,\n            preloadScriptId: addCdpPreloadScriptResult.identifier,\n        });\n        this.#targetIds.add(cdpTarget.targetId);\n    }\n    /**\n     * Removes this script from all CDP targets.\n     */\n    async remove() {\n        for (const cdpPreloadScript of this.#cdpPreloadScripts) {\n            const cdpTarget = cdpPreloadScript.target;\n            const cdpPreloadScriptId = cdpPreloadScript.preloadScriptId;\n            await cdpTarget.cdpClient.sendCommand('Page.removeScriptToEvaluateOnNewDocument', {\n                identifier: cdpPreloadScriptId,\n            });\n        }\n    }\n    /** Removes the provided cdp target from the list of cdp preload scripts. */\n    dispose(cdpTargetId) {\n        this.#cdpPreloadScripts = this.#cdpPreloadScripts.filter((cdpPreloadScript) => cdpPreloadScript.target?.targetId !== cdpTargetId);\n        this.#targetIds.delete(cdpTargetId);\n    }\n}\nexports.PreloadScript = PreloadScript;\n//# sourceMappingURL=PreloadScript.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScriptProcessor = void 0;\nconst protocol_1 = require(\"../../../protocol/protocol\");\nconst PreloadScript_1 = require(\"./PreloadScript\");\nclass ScriptProcessor {\n    #browsingContextStorage;\n    #realmStorage;\n    #preloadScriptStorage;\n    #logger;\n    constructor(browsingContextStorage, realmStorage, preloadScriptStorage, logger) {\n        this.#browsingContextStorage = browsingContextStorage;\n        this.#realmStorage = realmStorage;\n        this.#preloadScriptStorage = preloadScriptStorage;\n        this.#logger = logger;\n    }\n    async addPreloadScript(params) {\n        const contexts = new Set();\n        if (params.contexts) {\n            // XXX: Remove once https://github.com/google/cddlconv/issues/16 is implemented\n            if (params.contexts.length === 0) {\n                throw new protocol_1.InvalidArgumentException('Contexts list is empty.');\n            }\n            for (const contextId of params.contexts) {\n                const context = this.#browsingContextStorage.getContext(contextId);\n                if (context.isTopLevelContext()) {\n                    contexts.add(context);\n                }\n                else {\n                    throw new protocol_1.InvalidArgumentException(`Non top-level context '${contextId}' given.`);\n                }\n            }\n        }\n        const preloadScript = new PreloadScript_1.PreloadScript(params, this.#logger);\n        this.#preloadScriptStorage.add(preloadScript);\n        const cdpTargets = contexts.size === 0\n            ? new Set(this.#browsingContextStorage\n                .getTopLevelContexts()\n                .map((context) => context.cdpTarget))\n            : new Set([...contexts.values()].map((context) => context.cdpTarget));\n        await preloadScript.initInTargets(cdpTargets, false);\n        return {\n            script: preloadScript.id,\n        };\n    }\n    async removePreloadScript(params) {\n        const bidiId = params.script;\n        const scripts = this.#preloadScriptStorage.find({\n            id: bidiId,\n        });\n        if (scripts.length === 0) {\n            throw new protocol_1.NoSuchScriptException(`No preload script with BiDi ID '${bidiId}'`);\n        }\n        await Promise.all(scripts.map((script) => script.remove()));\n        this.#preloadScriptStorage.remove({\n            id: bidiId,\n        });\n        return {};\n    }\n    async callFunction(params) {\n        const realm = await this.#getRealm(params.target);\n        return await realm.callFunction(params.functionDeclaration, params.this ?? {\n            type: 'undefined',\n        }, // `this` is `undefined` by default.\n        params.arguments ?? [], // `arguments` is `[]` by default.\n        params.awaitPromise, params.resultOwnership ?? \"none\" /* Script.ResultOwnership.None */, params.serializationOptions ?? {}, params.userActivation ?? false);\n    }\n    async evaluate(params) {\n        const realm = await this.#getRealm(params.target);\n        return await realm.evaluate(params.expression, params.awaitPromise, params.resultOwnership ?? \"none\" /* Script.ResultOwnership.None */, params.serializationOptions ?? {}, params.userActivation ?? false);\n    }\n    async disown(params) {\n        const realm = await this.#getRealm(params.target);\n        await Promise.all(params.handles.map(async (handle) => await realm.disown(handle)));\n        return {};\n    }\n    getRealms(params) {\n        if (params.context !== undefined) {\n            // Make sure the context is known.\n            this.#browsingContextStorage.getContext(params.context);\n        }\n        const realms = this.#realmStorage\n            .findRealms({\n            browsingContextId: params.context,\n            type: params.type,\n        })\n            .map((realm) => realm.realmInfo);\n        return { realms };\n    }\n    async #getRealm(target) {\n        if ('realm' in target) {\n            return this.#realmStorage.getRealm({\n                realmId: target.realm,\n            });\n        }\n        const context = this.#browsingContextStorage.getContext(target.context);\n        return await context.getOrCreateSandbox(target.sandbox);\n    }\n}\nexports.ScriptProcessor = ScriptProcessor;\n//# sourceMappingURL=ScriptProcessor.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionProcessor = void 0;\nclass SessionProcessor {\n    #eventManager;\n    constructor(eventManager) {\n        this.#eventManager = eventManager;\n    }\n    status() {\n        return { ready: false, message: 'already connected' };\n    }\n    subscribe(params, channel = null) {\n        this.#eventManager.subscribe(params.events, params.contexts ?? [null], channel);\n        return {};\n    }\n    unsubscribe(params, channel = null) {\n        this.#eventManager.unsubscribe(params.events, params.contexts ?? [null], channel);\n        return {};\n    }\n}\nexports.SessionProcessor = SessionProcessor;\n//# sourceMappingURL=SessionProcessor.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutgoingMessage = void 0;\nclass OutgoingMessage {\n    #message;\n    #channel;\n    constructor(message, channel = null) {\n        this.#message = message;\n        this.#channel = channel;\n    }\n    static createFromPromise(messagePromise, channel) {\n        return messagePromise.then((message) => {\n            if (message.kind === 'success') {\n                return {\n                    kind: 'success',\n                    value: new OutgoingMessage(message.value, channel),\n                };\n            }\n            return message;\n        });\n    }\n    static createResolved(message, channel) {\n        return Promise.resolve({\n            kind: 'success',\n            value: new OutgoingMessage(message, channel),\n        });\n    }\n    get message() {\n        return this.#message;\n    }\n    get channel() {\n        return this.#channel;\n    }\n}\nexports.OutgoingMessage = OutgoingMessage;\n//# sourceMappingURL=OutgoingMessage.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandProcessor = void 0;\nconst protocol_js_1 = require(\"../protocol/protocol.js\");\nconst EventEmitter_js_1 = require(\"../utils/EventEmitter.js\");\nconst log_js_1 = require(\"../utils/log.js\");\nconst BidiNoOpParser_js_1 = require(\"./BidiNoOpParser.js\");\nconst BrowserProcessor_js_1 = require(\"./domains/browser/BrowserProcessor.js\");\nconst CdpProcessor_js_1 = require(\"./domains/cdp/CdpProcessor.js\");\nconst BrowsingContextProcessor_js_1 = require(\"./domains/context/BrowsingContextProcessor.js\");\nconst InputProcessor_js_1 = require(\"./domains/input/InputProcessor.js\");\nconst NetworkProcessor_js_1 = require(\"./domains/network/NetworkProcessor.js\");\nconst NetworkStorage_js_1 = require(\"./domains/network/NetworkStorage.js\");\nconst PreloadScriptStorage_js_1 = require(\"./domains/script/PreloadScriptStorage.js\");\nconst ScriptProcessor_js_1 = require(\"./domains/script/ScriptProcessor.js\");\nconst SessionProcessor_js_1 = require(\"./domains/session/SessionProcessor.js\");\nconst OutgoingMessage_js_1 = require(\"./OutgoingMessage.js\");\nclass CommandProcessor extends EventEmitter_js_1.EventEmitter {\n    // keep-sorted start\n    #browserProcessor;\n    #browsingContextProcessor;\n    #cdpProcessor;\n    #inputProcessor;\n    #networkProcessor;\n    #scriptProcessor;\n    #sessionProcessor;\n    // keep-sorted end\n    #parser;\n    #logger;\n    constructor(cdpConnection, browserCdpClient, eventManager, selfTargetId, browsingContextStorage, realmStorage, parser = new BidiNoOpParser_js_1.BidiNoOpParser(), logger) {\n        super();\n        this.#parser = parser;\n        this.#logger = logger;\n        const networkStorage = new NetworkStorage_js_1.NetworkStorage();\n        const preloadScriptStorage = new PreloadScriptStorage_js_1.PreloadScriptStorage();\n        // keep-sorted start block=yes\n        this.#browserProcessor = new BrowserProcessor_js_1.BrowserProcessor(browserCdpClient);\n        this.#browsingContextProcessor = new BrowsingContextProcessor_js_1.BrowsingContextProcessor(cdpConnection, browserCdpClient, selfTargetId, eventManager, browsingContextStorage, realmStorage, networkStorage, preloadScriptStorage, logger);\n        this.#cdpProcessor = new CdpProcessor_js_1.CdpProcessor(browsingContextStorage, cdpConnection, browserCdpClient);\n        this.#inputProcessor = new InputProcessor_js_1.InputProcessor(browsingContextStorage);\n        this.#networkProcessor = new NetworkProcessor_js_1.NetworkProcessor(browsingContextStorage, networkStorage);\n        this.#scriptProcessor = new ScriptProcessor_js_1.ScriptProcessor(browsingContextStorage, realmStorage, preloadScriptStorage, logger);\n        this.#sessionProcessor = new SessionProcessor_js_1.SessionProcessor(eventManager);\n        // keep-sorted end\n    }\n    async #processCommand(command) {\n        switch (command.method) {\n            case 'session.end':\n            case 'session.new':\n                // TODO: Implement.\n                break;\n            // Browser domain\n            // keep-sorted start block=yes\n            case 'browser.close':\n                return this.#browserProcessor.close();\n            // keep-sorted end\n            // Browsing Context domain\n            // keep-sorted start block=yes\n            case 'browsingContext.activate':\n                return await this.#browsingContextProcessor.activate(this.#parser.parseActivateParams(command.params));\n            case 'browsingContext.captureScreenshot':\n                return await this.#browsingContextProcessor.captureScreenshot(this.#parser.parseCaptureScreenshotParams(command.params));\n            case 'browsingContext.close':\n                return await this.#browsingContextProcessor.close(this.#parser.parseCloseParams(command.params));\n            case 'browsingContext.create':\n                return await this.#browsingContextProcessor.create(this.#parser.parseCreateParams(command.params));\n            case 'browsingContext.getTree':\n                return this.#browsingContextProcessor.getTree(this.#parser.parseGetTreeParams(command.params));\n            case 'browsingContext.handleUserPrompt':\n                return await this.#browsingContextProcessor.handleUserPrompt(this.#parser.parseHandleUserPromptParams(command.params));\n            case 'browsingContext.locateNodes':\n                throw new protocol_js_1.UnsupportedOperationException(`Command '${command.method}' not yet implemented.`);\n            case 'browsingContext.navigate':\n                return await this.#browsingContextProcessor.navigate(this.#parser.parseNavigateParams(command.params));\n            case 'browsingContext.print':\n                return await this.#browsingContextProcessor.print(this.#parser.parsePrintParams(command.params));\n            case 'browsingContext.reload':\n                return await this.#browsingContextProcessor.reload(this.#parser.parseReloadParams(command.params));\n            case 'browsingContext.setViewport':\n                return await this.#browsingContextProcessor.setViewport(this.#parser.parseSetViewportParams(command.params));\n            case 'browsingContext.traverseHistory':\n                return await this.#browsingContextProcessor.traverseHistory(this.#parser.parseTraverseHistoryParams(command.params));\n            // keep-sorted end\n            // CDP domain\n            // keep-sorted start block=yes\n            case 'cdp.getSession':\n                return this.#cdpProcessor.getSession(this.#parser.parseGetSessionParams(command.params));\n            case 'cdp.sendCommand':\n                return await this.#cdpProcessor.sendCommand(this.#parser.parseSendCommandParams(command.params));\n            // keep-sorted end\n            // Input domain\n            // keep-sorted start block=yes\n            case 'input.performActions':\n                return await this.#inputProcessor.performActions(this.#parser.parsePerformActionsParams(command.params));\n            case 'input.releaseActions':\n                return await this.#inputProcessor.releaseActions(this.#parser.parseReleaseActionsParams(command.params));\n            // keep-sorted end\n            // Network domain\n            // keep-sorted start block=yes\n            case 'network.addIntercept':\n                return await this.#networkProcessor.addIntercept(this.#parser.parseAddInterceptParams(command.params));\n            case 'network.continueRequest':\n                return await this.#networkProcessor.continueRequest(this.#parser.parseContinueRequestParams(command.params));\n            case 'network.continueResponse':\n                return await this.#networkProcessor.continueResponse(this.#parser.parseContinueResponseParams(command.params));\n            case 'network.continueWithAuth':\n                return await this.#networkProcessor.continueWithAuth(this.#parser.parseContinueWithAuthParams(command.params));\n            case 'network.failRequest':\n                return await this.#networkProcessor.failRequest(this.#parser.parseFailRequestParams(command.params));\n            case 'network.provideResponse':\n                return await this.#networkProcessor.provideResponse(this.#parser.parseProvideResponseParams(command.params));\n            case 'network.removeIntercept':\n                return await this.#networkProcessor.removeIntercept(this.#parser.parseRemoveInterceptParams(command.params));\n            // keep-sorted end\n            // Script domain\n            // keep-sorted start block=yes\n            case 'script.addPreloadScript':\n                return await this.#scriptProcessor.addPreloadScript(this.#parser.parseAddPreloadScriptParams(command.params));\n            case 'script.callFunction':\n                return await this.#scriptProcessor.callFunction(this.#parser.parseCallFunctionParams(command.params));\n            case 'script.disown':\n                return await this.#scriptProcessor.disown(this.#parser.parseDisownParams(command.params));\n            case 'script.evaluate':\n                return await this.#scriptProcessor.evaluate(this.#parser.parseEvaluateParams(command.params));\n            case 'script.getRealms':\n                return this.#scriptProcessor.getRealms(this.#parser.parseGetRealmsParams(command.params));\n            case 'script.removePreloadScript':\n                return await this.#scriptProcessor.removePreloadScript(this.#parser.parseRemovePreloadScriptParams(command.params));\n            // keep-sorted end\n            // Session domain\n            // keep-sorted start block=yes\n            case 'session.status':\n                return this.#sessionProcessor.status();\n            case 'session.subscribe':\n                return this.#sessionProcessor.subscribe(this.#parser.parseSubscribeParams(command.params), command.channel);\n            case 'session.unsubscribe':\n                return this.#sessionProcessor.unsubscribe(this.#parser.parseSubscribeParams(command.params), command.channel);\n            // keep-sorted end\n        }\n        // Intentionally kept outside of the switch statement to ensure that\n        // ESLint @typescript-eslint/switch-exhaustiveness-check triggers if a new\n        // command is added.\n        throw new protocol_js_1.UnknownCommandException(`Unknown command '${command.method}'.`);\n    }\n    async processCommand(command) {\n        try {\n            const result = await this.#processCommand(command);\n            const response = {\n                type: 'success',\n                id: command.id,\n                result,\n            };\n            this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n                message: OutgoingMessage_js_1.OutgoingMessage.createResolved(response, command.channel),\n                event: command.method,\n            });\n        }\n        catch (e) {\n            if (e instanceof protocol_js_1.Exception) {\n                this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n                    message: OutgoingMessage_js_1.OutgoingMessage.createResolved(e.toErrorResponse(command.id), command.channel),\n                    event: command.method,\n                });\n            }\n            else {\n                const error = e;\n                this.#logger?.(log_js_1.LogType.bidi, error);\n                this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n                    message: OutgoingMessage_js_1.OutgoingMessage.createResolved(new protocol_js_1.UnknownErrorException(error.message, error.stack).toErrorResponse(command.id), command.channel),\n                    event: command.method,\n                });\n            }\n        }\n    }\n}\nexports.CommandProcessor = CommandProcessor;\n//# sourceMappingURL=CommandProcessor.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowsingContextStorage = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\n/** Container class for browsing contexts. */\nclass BrowsingContextStorage {\n    /** Map from context ID to context implementation. */\n    #contexts = new Map();\n    /** Gets all top-level contexts, i.e. those with no parent. */\n    getTopLevelContexts() {\n        return this.getAllContexts().filter((context) => context.isTopLevelContext());\n    }\n    /** Gets all contexts. */\n    getAllContexts() {\n        return Array.from(this.#contexts.values());\n    }\n    /** Deletes the context with the given ID. */\n    deleteContextById(id) {\n        this.#contexts.delete(id);\n    }\n    /** Deletes the given context. */\n    deleteContext(context) {\n        this.#contexts.delete(context.id);\n    }\n    /** Tracks the given context. */\n    addContext(context) {\n        this.#contexts.set(context.id, context);\n    }\n    /** Returns true whether there is an existing context with the given ID. */\n    hasContext(id) {\n        return this.#contexts.has(id);\n    }\n    /** Gets the context with the given ID, if any. */\n    findContext(id) {\n        return this.#contexts.get(id);\n    }\n    /** Returns the top-level context ID of the given context, if any. */\n    findTopLevelContextId(id) {\n        if (id === null) {\n            return null;\n        }\n        const maybeContext = this.findContext(id);\n        const parentId = maybeContext?.parentId ?? null;\n        if (parentId === null) {\n            return id;\n        }\n        return this.findTopLevelContextId(parentId);\n    }\n    /** Gets the context with the given ID, if any, otherwise throws. */\n    getContext(id) {\n        const result = this.findContext(id);\n        if (result === undefined) {\n            throw new protocol_js_1.NoSuchFrameException(`Context ${id} not found`);\n        }\n        return result;\n    }\n}\nexports.BrowsingContextStorage = BrowsingContextStorage;\n//# sourceMappingURL=BrowsingContextStorage.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Buffer = void 0;\n/** Implements a FIFO buffer with a fixed size. */\nclass Buffer {\n    #capacity;\n    #entries = [];\n    #onItemRemoved;\n    /**\n     * @param capacity The buffer capacity.\n     * @param onItemRemoved Delegate called for each removed element.\n     */\n    constructor(capacity, onItemRemoved) {\n        this.#capacity = capacity;\n        this.#onItemRemoved = onItemRemoved;\n    }\n    get() {\n        return this.#entries;\n    }\n    add(value) {\n        this.#entries.push(value);\n        while (this.#entries.length > this.#capacity) {\n            const item = this.#entries.shift();\n            if (item !== undefined) {\n                this.#onItemRemoved?.(item);\n            }\n        }\n    }\n}\nexports.Buffer = Buffer;\n//# sourceMappingURL=Buffer.js.map","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultMap = void 0;\n/**\n * A subclass of Map whose functionality is almost the same as its parent\n * except for the fact that DefaultMap never returns undefined. It provides a\n * default value for keys that do not exist.\n */\nclass DefaultMap extends Map {\n    /** The default value to return whenever a key is not present in the map. */\n    #getDefaultValue;\n    constructor(getDefaultValue, entries) {\n        super(entries);\n        this.#getDefaultValue = getDefaultValue;\n    }\n    get(key) {\n        if (!this.has(key)) {\n            this.set(key, this.#getDefaultValue(key));\n        }\n        return super.get(key);\n    }\n}\nexports.DefaultMap = DefaultMap;\n//# sourceMappingURL=DefaultMap.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdWrapper = void 0;\n/**\n * Creates an object with a positive unique incrementing id.\n */\nclass IdWrapper {\n    static #counter = 0;\n    #id;\n    constructor() {\n        this.#id = ++IdWrapper.#counter;\n    }\n    get id() {\n        return this.#id;\n    }\n}\nexports.IdWrapper = IdWrapper;\n//# sourceMappingURL=IdWrapper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertSupportedEvent = exports.isCdpEvent = void 0;\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\n/**\n * Returns true if the given event is a CDP event.\n * @see https://chromedevtools.github.io/devtools-protocol/\n */\nfunction isCdpEvent(name) {\n    return (name.split('.').at(0)?.startsWith(protocol_js_1.ChromiumBidi.BiDiModule.Cdp) ?? false);\n}\nexports.isCdpEvent = isCdpEvent;\n/**\n * Asserts that the given event is known to BiDi or BiDi+, or throws otherwise.\n */\nfunction assertSupportedEvent(name) {\n    if (!protocol_js_1.ChromiumBidi.EVENT_NAMES.has(name) && !isCdpEvent(name)) {\n        throw new protocol_js_1.InvalidArgumentException(`Unknown event: ${name}`);\n    }\n}\nexports.assertSupportedEvent = assertSupportedEvent;\n//# sourceMappingURL=events.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = exports.unrollEvents = exports.cartesianProduct = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst events_js_1 = require(\"./events.js\");\n/**\n * Returns the cartesian product of the given arrays.\n *\n * Example:\n *   cartesian([1, 2], ['a', 'b']); => [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]\n */\nfunction cartesianProduct(...a) {\n    return a.reduce((a, b) => a.flatMap((d) => b.map((e) => [d, e].flat())));\n}\nexports.cartesianProduct = cartesianProduct;\n/** Expands \"AllEvents\" events into atomic events. */\nfunction unrollEvents(events) {\n    const allEvents = new Set();\n    function addEvents(events) {\n        for (const event of events) {\n            allEvents.add(event);\n        }\n    }\n    for (const event of events) {\n        switch (event) {\n            case protocol_js_1.ChromiumBidi.BiDiModule.BrowsingContext:\n                addEvents(Object.values(protocol_js_1.ChromiumBidi.BrowsingContext.EventNames));\n                break;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Log:\n                addEvents(Object.values(protocol_js_1.ChromiumBidi.Log.EventNames));\n                break;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Network:\n                addEvents(Object.values(protocol_js_1.ChromiumBidi.Network.EventNames));\n                break;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Script:\n                addEvents(Object.values(protocol_js_1.ChromiumBidi.Script.EventNames));\n                break;\n            default:\n                allEvents.add(event);\n        }\n    }\n    return [...allEvents.values()];\n}\nexports.unrollEvents = unrollEvents;\nclass SubscriptionManager {\n    #subscriptionPriority = 0;\n    // BrowsingContext `null` means the event has subscription across all the\n    // browsing contexts.\n    // Channel `null` means no `channel` should be added.\n    #channelToContextToEventMap = new Map();\n    #browsingContextStorage;\n    constructor(browsingContextStorage) {\n        this.#browsingContextStorage = browsingContextStorage;\n    }\n    getChannelsSubscribedToEvent(eventMethod, contextId) {\n        const prioritiesAndChannels = Array.from(this.#channelToContextToEventMap.keys())\n            .map((channel) => ({\n            priority: this.#getEventSubscriptionPriorityForChannel(eventMethod, contextId, channel),\n            channel,\n        }))\n            .filter(({ priority }) => priority !== null);\n        // Sort channels by priority.\n        return prioritiesAndChannels\n            .sort((a, b) => a.priority - b.priority)\n            .map(({ channel }) => channel);\n    }\n    #getEventSubscriptionPriorityForChannel(eventMethod, contextId, channel) {\n        const contextToEventMap = this.#channelToContextToEventMap.get(channel);\n        if (contextToEventMap === undefined) {\n            return null;\n        }\n        const maybeTopLevelContextId = this.#browsingContextStorage.findTopLevelContextId(contextId);\n        // `null` covers global subscription.\n        const relevantContexts = [...new Set([null, maybeTopLevelContextId])];\n        // Get all the subscription priorities.\n        const priorities = relevantContexts\n            .map((context) => {\n            // Get the priority for exact event name\n            const priority = contextToEventMap.get(context)?.get(eventMethod);\n            // For CDP we can't provide specific event name when subscribing\n            // to the module directly.\n            // Because of that we need to see event `cdp` exits in the map.\n            if ((0, events_js_1.isCdpEvent)(eventMethod)) {\n                const cdpPriority = contextToEventMap\n                    .get(context)\n                    ?.get(protocol_js_1.ChromiumBidi.BiDiModule.Cdp);\n                // If we subscribe to the event directly and `cdp` module as well\n                // priority will be different we take minimal priority\n                return priority && cdpPriority\n                    ? Math.min(priority, cdpPriority)\n                    : // At this point we know that we have subscribed\n                        // to only one of the two\n                        priority ?? cdpPriority;\n            }\n            return priority;\n        })\n            .filter((p) => p !== undefined);\n        if (priorities.length === 0) {\n            // Not subscribed, return null.\n            return null;\n        }\n        // Return minimal priority.\n        return Math.min(...priorities);\n    }\n    subscribe(event, contextId, channel) {\n        // All the subscriptions are handled on the top-level contexts.\n        contextId = this.#browsingContextStorage.findTopLevelContextId(contextId);\n        // Check if subscribed event is a whole module\n        switch (event) {\n            case protocol_js_1.ChromiumBidi.BiDiModule.BrowsingContext:\n                Object.values(protocol_js_1.ChromiumBidi.BrowsingContext.EventNames).map((specificEvent) => this.subscribe(specificEvent, contextId, channel));\n                return;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Log:\n                Object.values(protocol_js_1.ChromiumBidi.Log.EventNames).map((specificEvent) => this.subscribe(specificEvent, contextId, channel));\n                return;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Network:\n                Object.values(protocol_js_1.ChromiumBidi.Network.EventNames).map((specificEvent) => this.subscribe(specificEvent, contextId, channel));\n                return;\n            case protocol_js_1.ChromiumBidi.BiDiModule.Script:\n                Object.values(protocol_js_1.ChromiumBidi.Script.EventNames).map((specificEvent) => this.subscribe(specificEvent, contextId, channel));\n                return;\n            default:\n            // Intentionally left empty.\n        }\n        if (!this.#channelToContextToEventMap.has(channel)) {\n            this.#channelToContextToEventMap.set(channel, new Map());\n        }\n        const contextToEventMap = this.#channelToContextToEventMap.get(channel);\n        if (!contextToEventMap.has(contextId)) {\n            contextToEventMap.set(contextId, new Map());\n        }\n        const eventMap = contextToEventMap.get(contextId);\n        // Do not re-subscribe to events to keep the priority.\n        if (eventMap.has(event)) {\n            return;\n        }\n        eventMap.set(event, this.#subscriptionPriority++);\n    }\n    /**\n     * Unsubscribes atomically from all events in the given contexts and channel.\n     */\n    unsubscribeAll(events, contextIds, channel) {\n        // Assert all contexts are known.\n        for (const contextId of contextIds) {\n            if (contextId !== null) {\n                this.#browsingContextStorage.getContext(contextId);\n            }\n        }\n        const eventContextPairs = cartesianProduct(unrollEvents(events), contextIds);\n        // Assert all unsubscriptions are valid.\n        // If any of the unsubscriptions are invalid, do not unsubscribe from anything.\n        eventContextPairs\n            .map(([event, contextId]) => this.#checkUnsubscribe(event, contextId, channel))\n            .forEach((unsubscribe) => unsubscribe());\n    }\n    /**\n     * Unsubscribes from the event in the given context and channel.\n     * Syntactic sugar for \"unsubscribeAll\".\n     */\n    unsubscribe(eventName, contextId, channel) {\n        this.unsubscribeAll([eventName], [contextId], channel);\n    }\n    #checkUnsubscribe(event, contextId, channel) {\n        // All the subscriptions are handled on the top-level contexts.\n        contextId = this.#browsingContextStorage.findTopLevelContextId(contextId);\n        if (!this.#channelToContextToEventMap.has(channel)) {\n            throw new protocol_js_1.InvalidArgumentException(`Cannot unsubscribe from ${event}, ${contextId === null ? 'null' : contextId}. No subscription found.`);\n        }\n        const contextToEventMap = this.#channelToContextToEventMap.get(channel);\n        if (!contextToEventMap.has(contextId)) {\n            throw new protocol_js_1.InvalidArgumentException(`Cannot unsubscribe from ${event}, ${contextId === null ? 'null' : contextId}. No subscription found.`);\n        }\n        const eventMap = contextToEventMap.get(contextId);\n        if (!eventMap.has(event)) {\n            throw new protocol_js_1.InvalidArgumentException(`Cannot unsubscribe from ${event}, ${contextId === null ? 'null' : contextId}. No subscription found.`);\n        }\n        return () => {\n            eventMap.delete(event);\n            // Clean up maps if empty.\n            if (eventMap.size === 0) {\n                contextToEventMap.delete(event);\n            }\n            if (contextToEventMap.size === 0) {\n                this.#channelToContextToEventMap.delete(channel);\n            }\n        };\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n//# sourceMappingURL=SubscriptionManager.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventManager = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst Buffer_js_1 = require(\"../../../utils/Buffer.js\");\nconst DefaultMap_js_1 = require(\"../../../utils/DefaultMap.js\");\nconst IdWrapper_js_1 = require(\"../../../utils/IdWrapper.js\");\nconst OutgoingMessage_js_1 = require(\"../../OutgoingMessage.js\");\nconst events_js_1 = require(\"./events.js\");\nconst SubscriptionManager_js_1 = require(\"./SubscriptionManager.js\");\nclass EventWrapper {\n    #idWrapper = new IdWrapper_js_1.IdWrapper();\n    #contextId;\n    #event;\n    constructor(event, contextId) {\n        this.#event = event;\n        this.#contextId = contextId;\n    }\n    get id() {\n        return this.#idWrapper.id;\n    }\n    get contextId() {\n        return this.#contextId;\n    }\n    get event() {\n        return this.#event;\n    }\n}\n/**\n * Maps event name to a desired buffer length.\n */\nconst eventBufferLength = new Map([[protocol_js_1.ChromiumBidi.Log.EventNames.LogEntryAdded, 100]]);\nclass EventManager {\n    /**\n     * Maps event name to a set of contexts where this event already happened.\n     * Needed for getting buffered events from all the contexts in case of\n     * subscripting to all contexts.\n     */\n    #eventToContextsMap = new DefaultMap_js_1.DefaultMap(() => new Set());\n    /**\n     * Maps `eventName` + `browsingContext` to buffer. Used to get buffered events\n     * during subscription. Channel-agnostic.\n     */\n    #eventBuffers = new Map();\n    /**\n     * Maps `eventName` + `browsingContext` + `channel` to last sent event id.\n     * Used to avoid sending duplicated events when user\n     * subscribes -> unsubscribes -> subscribes.\n     */\n    #lastMessageSent = new Map();\n    #subscriptionManager;\n    #bidiServer;\n    constructor(bidiServer) {\n        this.#bidiServer = bidiServer;\n        this.#subscriptionManager = new SubscriptionManager_js_1.SubscriptionManager(bidiServer.getBrowsingContextStorage());\n    }\n    /**\n     * Returns consistent key to be used to access value maps.\n     */\n    static #getMapKey(eventName, browsingContext, channel) {\n        return JSON.stringify({ eventName, browsingContext, channel });\n    }\n    registerEvent(event, contextId) {\n        this.registerPromiseEvent(Promise.resolve({\n            kind: 'success',\n            value: event,\n        }), contextId, event.method);\n    }\n    registerPromiseEvent(event, contextId, eventName) {\n        const eventWrapper = new EventWrapper(event, contextId);\n        const sortedChannels = this.#subscriptionManager.getChannelsSubscribedToEvent(eventName, contextId);\n        this.#bufferEvent(eventWrapper, eventName);\n        // Send events to channels in the subscription priority.\n        for (const channel of sortedChannels) {\n            this.#bidiServer.emitOutgoingMessage(OutgoingMessage_js_1.OutgoingMessage.createFromPromise(event, channel), eventName);\n            this.#markEventSent(eventWrapper, channel, eventName);\n        }\n    }\n    subscribe(eventNames, contextIds, channel) {\n        for (const name of eventNames) {\n            (0, events_js_1.assertSupportedEvent)(name);\n        }\n        // First check if all the contexts are known.\n        for (const contextId of contextIds) {\n            if (contextId !== null) {\n                // Assert the context is known. Throw exception otherwise.\n                this.#bidiServer.getBrowsingContextStorage().getContext(contextId);\n            }\n        }\n        for (const eventName of eventNames) {\n            for (const contextId of contextIds) {\n                this.#subscriptionManager.subscribe(eventName, contextId, channel);\n                for (const eventWrapper of this.#getBufferedEvents(eventName, contextId, channel)) {\n                    // The order of the events is important.\n                    this.#bidiServer.emitOutgoingMessage(OutgoingMessage_js_1.OutgoingMessage.createFromPromise(eventWrapper.event, channel), eventName);\n                    this.#markEventSent(eventWrapper, channel, eventName);\n                }\n            }\n        }\n    }\n    unsubscribe(eventNames, contextIds, channel) {\n        for (const name of eventNames) {\n            (0, events_js_1.assertSupportedEvent)(name);\n        }\n        this.#subscriptionManager.unsubscribeAll(eventNames, contextIds, channel);\n    }\n    /**\n     * If the event is buffer-able, put it in the buffer.\n     */\n    #bufferEvent(eventWrapper, eventName) {\n        if (!eventBufferLength.has(eventName)) {\n            // Do nothing if the event is no buffer-able.\n            return;\n        }\n        const bufferMapKey = EventManager.#getMapKey(eventName, eventWrapper.contextId);\n        if (!this.#eventBuffers.has(bufferMapKey)) {\n            this.#eventBuffers.set(bufferMapKey, new Buffer_js_1.Buffer(eventBufferLength.get(eventName)));\n        }\n        this.#eventBuffers.get(bufferMapKey).add(eventWrapper);\n        // Add the context to the list of contexts having `eventName` events.\n        this.#eventToContextsMap.get(eventName).add(eventWrapper.contextId);\n    }\n    /**\n     * If the event is buffer-able, mark it as sent to the given contextId and channel.\n     */\n    #markEventSent(eventWrapper, channel, eventName) {\n        if (!eventBufferLength.has(eventName)) {\n            // Do nothing if the event is no buffer-able.\n            return;\n        }\n        const lastSentMapKey = EventManager.#getMapKey(eventName, eventWrapper.contextId, channel);\n        this.#lastMessageSent.set(lastSentMapKey, Math.max(this.#lastMessageSent.get(lastSentMapKey) ?? 0, eventWrapper.id));\n    }\n    /**\n     * Returns events which are buffered and not yet sent to the given channel events.\n     */\n    #getBufferedEvents(eventName, contextId, channel) {\n        const bufferMapKey = EventManager.#getMapKey(eventName, contextId);\n        const lastSentMapKey = EventManager.#getMapKey(eventName, contextId, channel);\n        const lastSentMessageId = this.#lastMessageSent.get(lastSentMapKey) ?? -Infinity;\n        const result = this.#eventBuffers\n            .get(bufferMapKey)\n            ?.get()\n            .filter((wrapper) => wrapper.id > lastSentMessageId) ?? [];\n        if (contextId === null) {\n            // For global subscriptions, events buffered in each context should be sent back.\n            Array.from(this.#eventToContextsMap.get(eventName).keys())\n                .filter((_contextId) => \n            // Events without context are already in the result.\n            _contextId !== null &&\n                // Events from deleted contexts should not be sent.\n                this.#bidiServer.getBrowsingContextStorage().hasContext(_contextId))\n                .map((_contextId) => this.#getBufferedEvents(eventName, _contextId, channel))\n                .forEach((events) => result.push(...events));\n        }\n        return result.sort((e1, e2) => e1.id - e2.id);\n    }\n}\nexports.EventManager = EventManager;\n//# sourceMappingURL=EventManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RealmStorage = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\n/** Container class for browsing realms. */\nclass RealmStorage {\n    /** Tracks handles and their realms sent to the client. */\n    #knownHandlesToRealmMap = new Map();\n    /** Map from realm ID to Realm. */\n    #realmMap = new Map();\n    get knownHandlesToRealmMap() {\n        return this.#knownHandlesToRealmMap;\n    }\n    addRealm(realm) {\n        this.#realmMap.set(realm.realmId, realm);\n    }\n    /** Finds all realms that match the given filter. */\n    findRealms(filter) {\n        return Array.from(this.#realmMap.values()).filter((realm) => {\n            if (filter.realmId !== undefined && filter.realmId !== realm.realmId) {\n                return false;\n            }\n            if (filter.browsingContextId !== undefined &&\n                filter.browsingContextId !== realm.browsingContextId) {\n                return false;\n            }\n            if (filter.navigableId !== undefined &&\n                filter.navigableId !== realm.navigableId) {\n                return false;\n            }\n            if (filter.executionContextId !== undefined &&\n                filter.executionContextId !== realm.executionContextId) {\n                return false;\n            }\n            if (filter.origin !== undefined && filter.origin !== realm.origin) {\n                return false;\n            }\n            if (filter.type !== undefined && filter.type !== realm.type) {\n                return false;\n            }\n            if (filter.sandbox !== undefined && filter.sandbox !== realm.sandbox) {\n                return false;\n            }\n            if (filter.cdpSessionId !== undefined &&\n                filter.cdpSessionId !== realm.cdpClient.sessionId) {\n                return false;\n            }\n            return true;\n        });\n    }\n    findRealm(filter) {\n        const maybeRealms = this.findRealms(filter);\n        if (maybeRealms.length !== 1) {\n            return undefined;\n        }\n        return maybeRealms[0];\n    }\n    /** Gets the only realm that matches the given filter, if any, otherwise throws. */\n    getRealm(filter) {\n        const maybeRealm = this.findRealm(filter);\n        if (maybeRealm === undefined) {\n            throw new protocol_js_1.NoSuchFrameException(`Realm ${JSON.stringify(filter)} not found`);\n        }\n        return maybeRealm;\n    }\n    /** Deletes all realms that match the given filter. */\n    deleteRealms(filter) {\n        this.findRealms(filter).map((realm) => {\n            realm.dispose();\n            this.#realmMap.delete(realm.realmId);\n            Array.from(this.knownHandlesToRealmMap.entries())\n                .filter(([, r]) => r === realm.realmId)\n                .map(([handle]) => this.knownHandlesToRealmMap.delete(handle));\n        });\n    }\n}\nexports.RealmStorage = RealmStorage;\n//# sourceMappingURL=RealmStorage.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BidiServer = void 0;\nconst EventEmitter_js_1 = require(\"../utils/EventEmitter.js\");\nconst log_js_1 = require(\"../utils/log.js\");\nconst ProcessingQueue_js_1 = require(\"../utils/ProcessingQueue.js\");\nconst CommandProcessor_js_1 = require(\"./CommandProcessor.js\");\nconst BrowsingContextStorage_js_1 = require(\"./domains/context/BrowsingContextStorage.js\");\nconst EventManager_js_1 = require(\"./domains/events/EventManager.js\");\nconst RealmStorage_js_1 = require(\"./domains/script/RealmStorage.js\");\nclass BidiServer extends EventEmitter_js_1.EventEmitter {\n    #messageQueue;\n    #transport;\n    #commandProcessor;\n    #browsingContextStorage = new BrowsingContextStorage_js_1.BrowsingContextStorage();\n    #logger;\n    #handleIncomingMessage = (message) => {\n        void this.#commandProcessor.processCommand(message).catch((error) => {\n            this.#logger?.(log_js_1.LogType.debugError, error);\n        });\n    };\n    #processOutgoingMessage = async (messageEntry) => {\n        const message = messageEntry.message;\n        if (messageEntry.channel !== null) {\n            message['channel'] = messageEntry.channel;\n        }\n        await this.#transport.sendMessage(message);\n    };\n    constructor(bidiTransport, cdpConnection, browserCdpClient, selfTargetId, parser, logger) {\n        super();\n        this.#logger = logger;\n        this.#messageQueue = new ProcessingQueue_js_1.ProcessingQueue(this.#processOutgoingMessage, this.#logger);\n        this.#transport = bidiTransport;\n        this.#transport.setOnMessage(this.#handleIncomingMessage);\n        this.#commandProcessor = new CommandProcessor_js_1.CommandProcessor(cdpConnection, browserCdpClient, new EventManager_js_1.EventManager(this), selfTargetId, this.#browsingContextStorage, new RealmStorage_js_1.RealmStorage(), parser, this.#logger);\n        this.#commandProcessor.on(\"response\" /* CommandProcessorEvents.Response */, ({ message, event }) => {\n            this.emitOutgoingMessage(message, event);\n        });\n    }\n    static async createAndStart(bidiTransport, cdpConnection, browserCdpClient, selfTargetId, parser, logger) {\n        const server = new BidiServer(bidiTransport, cdpConnection, browserCdpClient, selfTargetId, parser, logger);\n        // Needed to get events about new targets.\n        await browserCdpClient.sendCommand('Target.setDiscoverTargets', {\n            discover: true,\n        });\n        // Needed to automatically attach to new targets.\n        await browserCdpClient.sendCommand('Target.setAutoAttach', {\n            autoAttach: true,\n            waitForDebuggerOnStart: true,\n            flatten: true,\n        });\n        await server.#topLevelContextsLoaded();\n        return server;\n    }\n    /**\n     * Sends BiDi message.\n     */\n    emitOutgoingMessage(messageEntry, event) {\n        this.#messageQueue.add(messageEntry, event);\n    }\n    close() {\n        this.#transport.close();\n    }\n    getBrowsingContextStorage() {\n        return this.#browsingContextStorage;\n    }\n    async #topLevelContextsLoaded() {\n        await Promise.all(this.#browsingContextStorage\n            .getTopLevelContexts()\n            .map((c) => c.lifecycleLoaded()));\n    }\n}\nexports.BidiServer = BidiServer;\n//# sourceMappingURL=BidiServer.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutgoingMessage = exports.EventEmitter = exports.BidiServer = void 0;\n/**\n * @fileoverview The entry point to the BiDi Mapper namespace.\n * Other modules should only access exports defined in this file.\n * XXX: Add ESlint rule for this (https://github.com/import-js/eslint-plugin-import/blob/main/docs/rules/no-restricted-paths.md)\n */\nvar BidiServer_js_1 = require(\"./BidiServer.js\");\nObject.defineProperty(exports, \"BidiServer\", { enumerable: true, get: function () { return BidiServer_js_1.BidiServer; } });\nvar EventEmitter_js_1 = require(\"../utils/EventEmitter.js\");\nObject.defineProperty(exports, \"EventEmitter\", { enumerable: true, get: function () { return EventEmitter_js_1.EventEmitter; } });\nvar OutgoingMessage_js_1 = require(\"./OutgoingMessage.js\");\nObject.defineProperty(exports, \"OutgoingMessage\", { enumerable: true, get: function () { return OutgoingMessage_js_1.OutgoingMessage; } });\n//# sourceMappingURL=BidiMapper.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CdpClient = exports.CloseError = void 0;\nconst EventEmitter_js_1 = require(\"../utils/EventEmitter.js\");\n/** A error that will be thrown if/when the connection is closed. */\nclass CloseError extends Error {\n}\nexports.CloseError = CloseError;\n/** Represents a high-level CDP connection to the browser. */\nclass CdpClient extends EventEmitter_js_1.EventEmitter {\n    #cdpConnection;\n    #sessionId;\n    constructor(cdpConnection, sessionId) {\n        super();\n        this.#cdpConnection = cdpConnection;\n        this.#sessionId = sessionId;\n    }\n    get sessionId() {\n        return this.#sessionId;\n    }\n    sendCommand(method, ...params) {\n        return this.#cdpConnection.sendCommand(method, params[0], this.#sessionId);\n    }\n    isCloseError(error) {\n        return error instanceof CloseError;\n    }\n}\nexports.CdpClient = CdpClient;\n//# sourceMappingURL=CdpClient.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CdpConnection = void 0;\nconst log_js_1 = require(\"../utils/log.js\");\nconst CdpClient_js_1 = require(\"./CdpClient.js\");\n/**\n * Represents a high-level CDP connection to the browser backend.\n *\n * Manages all CdpClients (each backed by a Session ID) instance for each active\n * CDP session.\n */\nclass CdpConnection {\n    static LOGGER_PREFIX_RECV = `${log_js_1.LogType.cdp}:RECV ◂`;\n    static LOGGER_PREFIX_SEND = `${log_js_1.LogType.cdp}:SEND ▸`;\n    #mainBrowserCdpClient;\n    #transport;\n    /** Map from session ID to CdpClient.\n     * `undefined` points to the main browser session. */\n    #sessionCdpClients = new Map();\n    #commandCallbacks = new Map();\n    #logger;\n    #nextId = 0;\n    constructor(transport, logger) {\n        this.#transport = transport;\n        this.#logger = logger;\n        this.#transport.setOnMessage(this.#onMessage);\n        // Create default Browser CDP Session.\n        this.#mainBrowserCdpClient = this.#createCdpClient(undefined);\n    }\n    /** Closes the connection to the browser. */\n    close() {\n        this.#transport.close();\n        for (const [, { reject, error }] of this.#commandCallbacks) {\n            reject(error);\n        }\n        this.#commandCallbacks.clear();\n        this.#sessionCdpClients.clear();\n    }\n    async createBrowserSession() {\n        const { sessionId } = await this.#mainBrowserCdpClient.sendCommand('Target.attachToBrowserTarget');\n        return this.#createCdpClient(sessionId);\n    }\n    /**\n     * Gets a CdpClient instance attached to the given session ID,\n     * or null if the session is not attached.\n     */\n    getCdpClient(sessionId) {\n        const cdpClient = this.#sessionCdpClients.get(sessionId);\n        if (!cdpClient) {\n            throw new Error(`Unknown CDP session ID: ${sessionId}`);\n        }\n        return cdpClient;\n    }\n    sendCommand(method, params, sessionId) {\n        return new Promise((resolve, reject) => {\n            const id = this.#nextId++;\n            this.#commandCallbacks.set(id, {\n                resolve,\n                reject,\n                error: new CdpClient_js_1.CloseError(`${method} ${JSON.stringify(params)} ${sessionId ?? ''} call rejected because the connection has been closed.`),\n            });\n            const cdpMessage = { id, method, params };\n            if (sessionId) {\n                cdpMessage.sessionId = sessionId;\n            }\n            void this.#transport\n                .sendMessage(JSON.stringify(cdpMessage))\n                ?.catch((error) => {\n                this.#logger?.(log_js_1.LogType.debugError, error);\n                this.#transport.close();\n            });\n            this.#logger?.(CdpConnection.LOGGER_PREFIX_SEND, cdpMessage);\n        });\n    }\n    #onMessage = (json) => {\n        const message = JSON.parse(json);\n        this.#logger?.(CdpConnection.LOGGER_PREFIX_RECV, message);\n        // Update client map if a session is attached\n        // Listen for these events on every session.\n        if (message.method === 'Target.attachedToTarget') {\n            const { sessionId } = message.params;\n            this.#createCdpClient(sessionId);\n        }\n        if (message.id !== undefined) {\n            // Handle command response.\n            const callbacks = this.#commandCallbacks.get(message.id);\n            this.#commandCallbacks.delete(message.id);\n            if (callbacks) {\n                if (message.result) {\n                    callbacks.resolve(message.result);\n                }\n                else if (message.error) {\n                    callbacks.reject(message.error);\n                }\n            }\n        }\n        else if (message.method) {\n            const client = this.#sessionCdpClients.get(message.sessionId ?? undefined);\n            client?.emit(message.method, message.params || {});\n            // Update client map if a session is detached\n            // But emit on that session\n            if (message.method === 'Target.detachedFromTarget') {\n                const { sessionId } = message.params;\n                const client = this.#sessionCdpClients.get(sessionId);\n                if (client) {\n                    this.#sessionCdpClients.delete(sessionId);\n                    client.removeAllListeners();\n                }\n            }\n        }\n    };\n    /**\n     * Creates a new CdpClient instance for the given session ID.\n     * @param sessionId either a string, or undefined for the main browser session.\n     * The main browser session is used only to create new browser sessions.\n     * @private\n     */\n    #createCdpClient(sessionId) {\n        const cdpClient = new CdpClient_js_1.CdpClient(this, sessionId);\n        this.#sessionCdpClients.set(sessionId, cdpClient);\n        return cdpClient;\n    }\n}\nexports.CdpConnection = CdpConnection;\n//# sourceMappingURL=CdpConnection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getParsedType = exports.ZodParsedType = exports.objectUtil = exports.util = void 0;\nvar util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util = exports.util || (exports.util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil = exports.objectUtil || (exports.objectUtil = {}));\nexports.ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return exports.ZodParsedType.undefined;\n        case \"string\":\n            return exports.ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? exports.ZodParsedType.nan : exports.ZodParsedType.number;\n        case \"boolean\":\n            return exports.ZodParsedType.boolean;\n        case \"function\":\n            return exports.ZodParsedType.function;\n        case \"bigint\":\n            return exports.ZodParsedType.bigint;\n        case \"symbol\":\n            return exports.ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return exports.ZodParsedType.array;\n            }\n            if (data === null) {\n                return exports.ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return exports.ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return exports.ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return exports.ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return exports.ZodParsedType.date;\n            }\n            return exports.ZodParsedType.object;\n        default:\n            return exports.ZodParsedType.unknown;\n    }\n};\nexports.getParsedType = getParsedType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ZodError = exports.quotelessJson = exports.ZodIssueCode = void 0;\nconst util_1 = require(\"./helpers/util\");\nexports.ZodIssueCode = util_1.util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexports.quotelessJson = quotelessJson;\nclass ZodError extends Error {\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    get errors() {\n        return this.issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util_1.util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nexports.ZodError = ZodError;\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../helpers/util\");\nconst ZodError_1 = require(\"../ZodError\");\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodError_1.ZodIssueCode.invalid_type:\n            if (issue.received === util_1.ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodError_1.ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util_1.util.jsonStringifyReplacer)}`;\n            break;\n        case ZodError_1.ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util_1.util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util_1.util.joinValues(issue.options)}`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util_1.util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util_1.util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodError_1.ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodError_1.ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodError_1.ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodError_1.ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodError_1.ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodError_1.ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util_1.util.assertNever(issue);\n    }\n    return { message };\n};\nexports.default = errorMap;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorMap = exports.setErrorMap = exports.defaultErrorMap = void 0;\nconst en_1 = __importDefault(require(\"./locales/en\"));\nexports.defaultErrorMap = en_1.default;\nlet overrideErrorMap = en_1.default;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexports.setErrorMap = setErrorMap;\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\nexports.getErrorMap = getErrorMap;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.addIssueToContext = exports.EMPTY_PATH = exports.makeIssue = void 0;\nconst errors_1 = require(\"../errors\");\nconst en_1 = __importDefault(require(\"../locales/en\"));\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: issueData.message || errorMessage,\n    };\n};\nexports.makeIssue = makeIssue;\nexports.EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const issue = (0, exports.makeIssue)({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            (0, errors_1.getErrorMap)(),\n            en_1.default, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexports.addIssueToContext = addIssueToContext;\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return exports.INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            syncPairs.push({\n                key: await pair.key,\n                value: await pair.value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return exports.INVALID;\n            if (value.status === \"aborted\")\n                return exports.INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexports.ParseStatus = ParseStatus;\nexports.INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nexports.DIRTY = DIRTY;\nconst OK = (value) => ({ status: \"valid\", value });\nexports.OK = OK;\nconst isAborted = (x) => x.status === \"aborted\";\nexports.isAborted = isAborted;\nconst isDirty = (x) => x.status === \"dirty\";\nexports.isDirty = isDirty;\nconst isValid = (x) => x.status === \"valid\";\nexports.isValid = isValid;\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\nexports.isAsync = isAsync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorUtil = void 0;\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil = exports.errorUtil || (exports.errorUtil = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.date = exports.boolean = exports.bigint = exports.array = exports.any = exports.coerce = exports.ZodFirstPartyTypeKind = exports.late = exports.ZodSchema = exports.Schema = exports.custom = exports.ZodReadonly = exports.ZodPipeline = exports.ZodBranded = exports.BRAND = exports.ZodNaN = exports.ZodCatch = exports.ZodDefault = exports.ZodNullable = exports.ZodOptional = exports.ZodTransformer = exports.ZodEffects = exports.ZodPromise = exports.ZodNativeEnum = exports.ZodEnum = exports.ZodLiteral = exports.ZodLazy = exports.ZodFunction = exports.ZodSet = exports.ZodMap = exports.ZodRecord = exports.ZodTuple = exports.ZodIntersection = exports.ZodDiscriminatedUnion = exports.ZodUnion = exports.ZodObject = exports.ZodArray = exports.ZodVoid = exports.ZodNever = exports.ZodUnknown = exports.ZodAny = exports.ZodNull = exports.ZodUndefined = exports.ZodSymbol = exports.ZodDate = exports.ZodBoolean = exports.ZodBigInt = exports.ZodNumber = exports.ZodString = exports.ZodType = void 0;\nexports.NEVER = exports.void = exports.unknown = exports.union = exports.undefined = exports.tuple = exports.transformer = exports.symbol = exports.string = exports.strictObject = exports.set = exports.record = exports.promise = exports.preprocess = exports.pipeline = exports.ostring = exports.optional = exports.onumber = exports.oboolean = exports.object = exports.number = exports.nullable = exports.null = exports.never = exports.nativeEnum = exports.nan = exports.map = exports.literal = exports.lazy = exports.intersection = exports.instanceof = exports.function = exports.enum = exports.effect = exports.discriminatedUnion = void 0;\nconst errors_1 = require(\"./errors\");\nconst errorUtil_1 = require(\"./helpers/errorUtil\");\nconst parseUtil_1 = require(\"./helpers/parseUtil\");\nconst util_1 = require(\"./helpers/util\");\nconst ZodError_1 = require(\"./ZodError\");\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if ((0, parseUtil_1.isValid)(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError_1.ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        if (typeof ctx.data === \"undefined\") {\n            return { message: required_error !== null && required_error !== void 0 ? required_error : ctx.defaultError };\n        }\n        return { message: invalid_type_error !== null && invalid_type_error !== void 0 ? invalid_type_error : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n    }\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return (0, util_1.getParsedType)(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: (0, util_1.getParsedType)(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new parseUtil_1.ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: (0, util_1.getParsedType)(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if ((0, parseUtil_1.isAsync)(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: (0, util_1.getParsedType)(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: (0, util_1.getParsedType)(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await ((0, parseUtil_1.isAsync)(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodError_1.ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this, this._def);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nexports.ZodType = ZodType;\nexports.Schema = ZodType;\nexports.ZodSchema = ZodType;\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[a-z][a-z0-9]*$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_+-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\nconst ipv4Regex = /^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;\nconst ipv6Regex = /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\n// Adapted from https://stackoverflow.com/a/3143231\nconst datetimeRegex = (args) => {\n    if (args.precision) {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}Z$`);\n        }\n    }\n    else if (args.precision === 0) {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$`);\n        }\n    }\n    else {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$`);\n        }\n    }\n};\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.string,\n                received: ctx.parsedType,\n            }\n            //\n            );\n            return parseUtil_1.INVALID;\n        }\n        const status = new parseUtil_1.ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        (0, parseUtil_1.addIssueToContext)(ctx, {\n                            code: ZodError_1.ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        (0, parseUtil_1.addIssueToContext)(ctx, {\n                            code: ZodError_1.ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"email\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"emoji\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"uuid\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"cuid\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"ulid\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"url\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"regex\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        validation: \"ip\",\n                        code: ZodError_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodError_1.ZodIssueCode.invalid_string,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil_1.errorUtil.errToObj(message) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil_1.errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil_1.errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * @deprecated Use z.string().min(1) instead.\n     * @see {@link ZodString.min}\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil_1.errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nexports.ZodString = ZodString;\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        let ctx = undefined;\n        const status = new parseUtil_1.ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util_1.util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_1.errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_1.errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_1.errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_1.errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil_1.errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil_1.errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util_1.util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nexports.ZodNumber = ZodNumber;\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = BigInt(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.bigint) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.bigint,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        let ctx = undefined;\n        const status = new parseUtil_1.ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_1.errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_1.errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_1.errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_1.errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil_1.errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nexports.ZodBigInt = ZodBigInt;\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodBoolean = ZodBoolean;\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_date,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const status = new parseUtil_1.ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_1.util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil_1.errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nexports.ZodDate = ZodDate;\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodSymbol = ZodSymbol;\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodUndefined = ZodUndefined;\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodNull = ZodNull;\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodAny = ZodAny;\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodUnknown = ZodUnknown;\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return parseUtil_1.INVALID;\n    }\n}\nexports.ZodNever = ZodNever;\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n}\nexports.ZodVoid = ZodVoid;\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== util_1.ZodParsedType.array) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: tooBig ? ZodError_1.ZodIssueCode.too_big : ZodError_1.ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: ZodError_1.ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: ZodError_1.ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return parseUtil_1.ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return parseUtil_1.ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil_1.errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil_1.errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil_1.errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nexports.ZodArray = ZodArray;\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util_1.util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    (0, parseUtil_1.addIssueToContext)(ctx, {\n                        code: ZodError_1.ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    syncPairs.push({\n                        key,\n                        value: await pair.value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return parseUtil_1.ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil_1.errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil_1.errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util_1.util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util_1.util.objectKeys(this.shape));\n    }\n}\nexports.ZodObject = ZodObject;\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError_1.ZodError(result.ctx.common.issues));\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError_1.ZodError(issues));\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return parseUtil_1.INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nexports.ZodUnion = ZodUnion;\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return Object.keys(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else {\n        return null;\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.object) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nexports.ZodDiscriminatedUnion = ZodDiscriminatedUnion;\nfunction mergeValues(a, b) {\n    const aType = (0, util_1.getParsedType)(a);\n    const bType = (0, util_1.getParsedType)(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === util_1.ZodParsedType.object && bType === util_1.ZodParsedType.object) {\n        const bKeys = util_1.util.objectKeys(b);\n        const sharedKeys = util_1.util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === util_1.ZodParsedType.array && bType === util_1.ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === util_1.ZodParsedType.date &&\n        bType === util_1.ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if ((0, parseUtil_1.isAborted)(parsedLeft) || (0, parseUtil_1.isAborted)(parsedRight)) {\n                return parseUtil_1.INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: ZodError_1.ZodIssueCode.invalid_intersection_types,\n                });\n                return parseUtil_1.INVALID;\n            }\n            if ((0, parseUtil_1.isDirty)(parsedLeft) || (0, parseUtil_1.isDirty)(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nexports.ZodIntersection = ZodIntersection;\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.array) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return parseUtil_1.INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return parseUtil_1.ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return parseUtil_1.ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nexports.ZodTuple = ZodTuple;\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.object) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n            });\n        }\n        if (ctx.common.async) {\n            return parseUtil_1.ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexports.ZodRecord = ZodRecord;\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.map) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return parseUtil_1.INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return parseUtil_1.INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nexports.ZodMap = ZodMap;\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.set) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: ZodError_1.ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                    code: ZodError_1.ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return parseUtil_1.INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil_1.errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil_1.errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nexports.ZodSet = ZodSet;\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.function) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return (0, parseUtil_1.makeIssue)({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    (0, errors_1.getErrorMap)(),\n                    errors_1.defaultErrorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodError_1.ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return (0, parseUtil_1.makeIssue)({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    (0, errors_1.getErrorMap)(),\n                    errors_1.defaultErrorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodError_1.ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return (0, parseUtil_1.OK)(async function (...args) {\n                const error = new ZodError_1.ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return (0, parseUtil_1.OK)(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError_1.ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError_1.ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexports.ZodFunction = ZodFunction;\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nexports.ZodLazy = ZodLazy;\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_1.ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nexports.ZodLiteral = ZodLiteral;\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                expected: util_1.util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodError_1.ZodIssueCode.invalid_type,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (this._def.values.indexOf(input.data) === -1) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_1.ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values) {\n        return ZodEnum.create(values);\n    }\n    exclude(values) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)));\n    }\n}\nexports.ZodEnum = ZodEnum;\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util_1.util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.string &&\n            ctx.parsedType !== util_1.ZodParsedType.number) {\n            const expectedValues = util_1.util.objectValues(nativeEnumValues);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                expected: util_1.util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodError_1.ZodIssueCode.invalid_type,\n            });\n            return parseUtil_1.INVALID;\n        }\n        if (nativeEnumValues.indexOf(input.data) === -1) {\n            const expectedValues = util_1.util.objectValues(nativeEnumValues);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_1.ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nexports.ZodNativeEnum = ZodNativeEnum;\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.promise &&\n            ctx.common.async === false) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        const promisified = ctx.parsedType === util_1.ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return (0, parseUtil_1.OK)(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nexports.ZodPromise = ZodPromise;\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                (0, parseUtil_1.addIssueToContext)(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.issues.length) {\n                return {\n                    status: \"dirty\",\n                    value: ctx.data,\n                };\n            }\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then((processed) => {\n                    return this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                });\n            }\n            else {\n                return this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc\n            // effect: RefinementEffect<any>\n            ) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return parseUtil_1.INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return parseUtil_1.INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!(0, parseUtil_1.isValid)(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!(0, parseUtil_1.isValid)(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util_1.util.assertNever(effect);\n    }\n}\nexports.ZodEffects = ZodEffects;\nexports.ZodTransformer = ZodEffects;\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_1.ZodParsedType.undefined) {\n            return (0, parseUtil_1.OK)(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nexports.ZodOptional = ZodOptional;\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_1.ZodParsedType.null) {\n            return (0, parseUtil_1.OK)(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nexports.ZodNullable = ZodNullable;\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === util_1.ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nexports.ZodDefault = ZodDefault;\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if ((0, parseUtil_1.isAsync)(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError_1.ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError_1.ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nexports.ZodCatch = ZodCatch;\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: util_1.ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return parseUtil_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nexports.ZodNaN = ZodNaN;\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexports.BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexports.ZodBranded = ZodBranded;\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return parseUtil_1.INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return (0, parseUtil_1.DIRTY)(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return parseUtil_1.INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexports.ZodPipeline = ZodPipeline;\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        if ((0, parseUtil_1.isValid)(result)) {\n            result.value = Object.freeze(result.value);\n        }\n        return result;\n    }\n}\nexports.ZodReadonly = ZodReadonly;\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nconst custom = (check, params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) => {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n};\nexports.custom = custom;\nexports.late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind = exports.ZodFirstPartyTypeKind || (exports.ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => (0, exports.custom)((data) => data instanceof cls, params);\nexports.instanceof = instanceOfType;\nconst stringType = ZodString.create;\nexports.string = stringType;\nconst numberType = ZodNumber.create;\nexports.number = numberType;\nconst nanType = ZodNaN.create;\nexports.nan = nanType;\nconst bigIntType = ZodBigInt.create;\nexports.bigint = bigIntType;\nconst booleanType = ZodBoolean.create;\nexports.boolean = booleanType;\nconst dateType = ZodDate.create;\nexports.date = dateType;\nconst symbolType = ZodSymbol.create;\nexports.symbol = symbolType;\nconst undefinedType = ZodUndefined.create;\nexports.undefined = undefinedType;\nconst nullType = ZodNull.create;\nexports.null = nullType;\nconst anyType = ZodAny.create;\nexports.any = anyType;\nconst unknownType = ZodUnknown.create;\nexports.unknown = unknownType;\nconst neverType = ZodNever.create;\nexports.never = neverType;\nconst voidType = ZodVoid.create;\nexports.void = voidType;\nconst arrayType = ZodArray.create;\nexports.array = arrayType;\nconst objectType = ZodObject.create;\nexports.object = objectType;\nconst strictObjectType = ZodObject.strictCreate;\nexports.strictObject = strictObjectType;\nconst unionType = ZodUnion.create;\nexports.union = unionType;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nexports.discriminatedUnion = discriminatedUnionType;\nconst intersectionType = ZodIntersection.create;\nexports.intersection = intersectionType;\nconst tupleType = ZodTuple.create;\nexports.tuple = tupleType;\nconst recordType = ZodRecord.create;\nexports.record = recordType;\nconst mapType = ZodMap.create;\nexports.map = mapType;\nconst setType = ZodSet.create;\nexports.set = setType;\nconst functionType = ZodFunction.create;\nexports.function = functionType;\nconst lazyType = ZodLazy.create;\nexports.lazy = lazyType;\nconst literalType = ZodLiteral.create;\nexports.literal = literalType;\nconst enumType = ZodEnum.create;\nexports.enum = enumType;\nconst nativeEnumType = ZodNativeEnum.create;\nexports.nativeEnum = nativeEnumType;\nconst promiseType = ZodPromise.create;\nexports.promise = promiseType;\nconst effectsType = ZodEffects.create;\nexports.effect = effectsType;\nexports.transformer = effectsType;\nconst optionalType = ZodOptional.create;\nexports.optional = optionalType;\nconst nullableType = ZodNullable.create;\nexports.nullable = nullableType;\nconst preprocessType = ZodEffects.createWithPreprocess;\nexports.preprocess = preprocessType;\nconst pipelineType = ZodPipeline.create;\nexports.pipeline = pipelineType;\nconst ostring = () => stringType().optional();\nexports.ostring = ostring;\nconst onumber = () => numberType().optional();\nexports.onumber = onumber;\nconst oboolean = () => booleanType().optional();\nexports.oboolean = oboolean;\nexports.coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexports.NEVER = parseUtil_1.INVALID;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./helpers/parseUtil\"), exports);\n__exportStar(require(\"./helpers/typeAliases\"), exports);\n__exportStar(require(\"./helpers/util\"), exports);\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./ZodError\"), exports);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.z = void 0;\nconst z = __importStar(require(\"./external\"));\nexports.z = z;\n__exportStar(require(\"./external\"), exports);\nexports.default = z;\n","\"use strict\";\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Input = exports.InputCommandSchema = exports.Log = exports.LogEventSchema = exports.Script = exports.ScriptResultSchema = exports.ScriptCommandSchema = exports.ScriptEventSchema = exports.Network = exports.NetworkResultSchema = exports.NetworkEventSchema = exports.NetworkCommandSchema = exports.BrowsingContext = exports.BrowsingContextResultSchema = exports.BrowsingContextEventSchema = exports.BrowsingContextCommandSchema = exports.Browser = exports.BrowserCommandSchema = exports.Session = exports.SessionResultSchema = exports.SessionCommandSchema = exports.ErrorCodeSchema = exports.JsUintSchema = exports.JsIntSchema = exports.ExtensibleSchema = exports.EmptyResultSchema = exports.ErrorResponseSchema = exports.MessageSchema = exports.EmptyParamsSchema = exports.ResultDataSchema = exports.CommandDataSchema = exports.EventDataSchema = exports.CommandResponseSchema = exports.CommandSchema = exports.EventSchema = void 0;\n/**\n * THIS FILE IS AUTOGENERATED. Run `npm run bidi-types` to regenerate.\n * @see https://github.com/w3c/webdriver-bidi/blob/master/index.bs\n */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck Some types may be circular.\nconst zod_1 = __importDefault(require(\"zod\"));\nexports.EventSchema = zod_1.default.lazy(() => zod_1.default\n    .object({\n    type: zod_1.default.literal('event'),\n})\n    .and(exports.EventDataSchema)\n    .and(exports.ExtensibleSchema));\nexports.CommandSchema = zod_1.default.lazy(() => zod_1.default\n    .object({\n    id: exports.JsUintSchema,\n})\n    .and(exports.CommandDataSchema)\n    .and(exports.ExtensibleSchema));\nexports.CommandResponseSchema = zod_1.default.lazy(() => zod_1.default\n    .object({\n    type: zod_1.default.literal('success'),\n    id: exports.JsUintSchema,\n    result: exports.ResultDataSchema,\n})\n    .and(exports.ExtensibleSchema));\nexports.EventDataSchema = zod_1.default.lazy(() => zod_1.default.union([\n    exports.BrowsingContextEventSchema,\n    exports.LogEventSchema,\n    exports.NetworkEventSchema,\n    exports.ScriptEventSchema,\n]));\nexports.CommandDataSchema = zod_1.default.lazy(() => zod_1.default.union([\n    exports.BrowserCommandSchema,\n    exports.BrowsingContextCommandSchema,\n    exports.InputCommandSchema,\n    exports.NetworkCommandSchema,\n    exports.ScriptCommandSchema,\n    exports.SessionCommandSchema,\n]));\nexports.ResultDataSchema = zod_1.default.lazy(() => zod_1.default.union([\n    exports.BrowsingContextResultSchema,\n    exports.EmptyResultSchema,\n    exports.NetworkResultSchema,\n    exports.ScriptResultSchema,\n    exports.SessionResultSchema,\n]));\nexports.EmptyParamsSchema = zod_1.default.lazy(() => exports.ExtensibleSchema);\nexports.MessageSchema = zod_1.default.lazy(() => zod_1.default.union([exports.CommandResponseSchema, exports.ErrorResponseSchema, exports.EventSchema]));\nexports.ErrorResponseSchema = zod_1.default.lazy(() => zod_1.default\n    .object({\n    type: zod_1.default.literal('error'),\n    id: zod_1.default.union([exports.JsUintSchema, zod_1.default.null()]),\n    error: exports.ErrorCodeSchema,\n    message: zod_1.default.string(),\n    stacktrace: zod_1.default.string().optional(),\n})\n    .and(exports.ExtensibleSchema));\nexports.EmptyResultSchema = zod_1.default.lazy(() => exports.ExtensibleSchema);\nexports.ExtensibleSchema = zod_1.default.lazy(() => zod_1.default.record(zod_1.default.string(), zod_1.default.any()));\nexports.JsIntSchema = zod_1.default.lazy(() => zod_1.default.number().int().gte(-9007199254740991).lte(9007199254740991));\nexports.JsUintSchema = zod_1.default.lazy(() => zod_1.default.number().int().nonnegative().gte(0).lte(9007199254740991));\nexports.ErrorCodeSchema = zod_1.default.lazy(() => zod_1.default.enum([\n    'invalid argument',\n    'invalid session id',\n    'move target out of bounds',\n    'no such alert',\n    'no such element',\n    'no such frame',\n    'no such handle',\n    'no such history entry',\n    'no such intercept',\n    'no such node',\n    'no such request',\n    'no such script',\n    'session not created',\n    'unable to capture screen',\n    'unable to close browser',\n    'unknown command',\n    'unknown error',\n    'unsupported operation',\n]));\nexports.SessionCommandSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Session.EndSchema,\n    Session.NewSchema,\n    Session.StatusSchema,\n    Session.SubscribeSchema,\n    Session.UnsubscribeSchema,\n]));\nexports.SessionResultSchema = zod_1.default.lazy(() => zod_1.default.union([Session.NewResultSchema, Session.StatusResultSchema]));\nvar Session;\n(function (Session) {\n    Session.CapabilitiesRequestSchema = zod_1.default.lazy(() => zod_1.default.object({\n        alwaysMatch: Session.CapabilityRequestSchema.optional(),\n        firstMatch: zod_1.default.array(Session.CapabilityRequestSchema).optional(),\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.CapabilityRequestSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        acceptInsecureCerts: zod_1.default.boolean().optional(),\n        browserName: zod_1.default.string().optional(),\n        browserVersion: zod_1.default.string().optional(),\n        platformName: zod_1.default.string().optional(),\n        proxy: zod_1.default\n            .object({\n            proxyType: zod_1.default\n                .enum(['pac', 'direct', 'autodetect', 'system', 'manual'])\n                .optional(),\n            proxyAutoconfigUrl: zod_1.default.string().optional(),\n            ftpProxy: zod_1.default.string().optional(),\n            httpProxy: zod_1.default.string().optional(),\n            noProxy: zod_1.default.array(zod_1.default.string()).optional(),\n            sslProxy: zod_1.default.string().optional(),\n            socksProxy: zod_1.default.string().optional(),\n            socksVersion: zod_1.default\n                .number()\n                .int()\n                .nonnegative()\n                .gte(0)\n                .lte(255)\n                .optional(),\n        })\n            .optional(),\n    })\n        .and(exports.ExtensibleSchema));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.SubscriptionRequestSchema = zod_1.default.lazy(() => zod_1.default.object({\n        events: zod_1.default.array(zod_1.default.string()),\n        contexts: zod_1.default.array(BrowsingContext.BrowsingContextSchema).optional(),\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.StatusSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('session.status'),\n        params: exports.EmptyParamsSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.StatusResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        ready: zod_1.default.boolean(),\n        message: zod_1.default.string(),\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.NewSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('session.new'),\n        params: Session.NewParametersSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.NewParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        capabilities: Session.CapabilitiesRequestSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.NewResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        sessionId: zod_1.default.string(),\n        capabilities: zod_1.default\n            .object({\n            acceptInsecureCerts: zod_1.default.boolean(),\n            browserName: zod_1.default.string(),\n            browserVersion: zod_1.default.string(),\n            platformName: zod_1.default.string(),\n            proxy: zod_1.default.object({\n                proxyType: zod_1.default\n                    .enum(['pac', 'direct', 'autodetect', 'system', 'manual'])\n                    .optional(),\n                proxyAutoconfigUrl: zod_1.default.string().optional(),\n                ftpProxy: zod_1.default.string().optional(),\n                httpProxy: zod_1.default.string().optional(),\n                noProxy: zod_1.default.array(zod_1.default.string()).optional(),\n                sslProxy: zod_1.default.string().optional(),\n                socksProxy: zod_1.default.string().optional(),\n                socksVersion: zod_1.default\n                    .number()\n                    .int()\n                    .nonnegative()\n                    .gte(0)\n                    .lte(255)\n                    .optional(),\n            }),\n            setWindowRect: zod_1.default.boolean(),\n        })\n            .and(exports.ExtensibleSchema),\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.EndSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('session.end'),\n        params: exports.EmptyParamsSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.SubscribeSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('session.subscribe'),\n        params: Session.SubscriptionRequestSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\n(function (Session) {\n    Session.UnsubscribeSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('session.unsubscribe'),\n        params: Session.SubscriptionRequestSchema,\n    }));\n})(Session || (exports.Session = Session = {}));\nexports.BrowserCommandSchema = zod_1.default.lazy(() => Browser.CloseSchema);\nvar Browser;\n(function (Browser) {\n    Browser.CloseSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browser.close'),\n        params: exports.EmptyParamsSchema,\n    }));\n})(Browser || (exports.Browser = Browser = {}));\nexports.BrowsingContextCommandSchema = zod_1.default.lazy(() => zod_1.default.union([\n    BrowsingContext.ActivateSchema,\n    BrowsingContext.CaptureScreenshotSchema,\n    BrowsingContext.CloseSchema,\n    BrowsingContext.CreateSchema,\n    BrowsingContext.GetTreeSchema,\n    BrowsingContext.HandleUserPromptSchema,\n    BrowsingContext.LocateNodesSchema,\n    BrowsingContext.NavigateSchema,\n    BrowsingContext.PrintSchema,\n    BrowsingContext.ReloadSchema,\n    BrowsingContext.SetViewportSchema,\n    BrowsingContext.TraverseHistorySchema,\n]));\nexports.BrowsingContextEventSchema = zod_1.default.lazy(() => zod_1.default.union([\n    BrowsingContext.ContextCreatedSchema,\n    BrowsingContext.ContextDestroyedSchema,\n    BrowsingContext.DomContentLoadedSchema,\n    BrowsingContext.DownloadWillBeginSchema,\n    BrowsingContext.FragmentNavigatedSchema,\n    BrowsingContext.LoadSchema,\n    BrowsingContext.NavigationAbortedSchema,\n    BrowsingContext.NavigationFailedSchema,\n    BrowsingContext.NavigationStartedSchema,\n    BrowsingContext.UserPromptClosedSchema,\n    BrowsingContext.UserPromptOpenedSchema,\n]));\nexports.BrowsingContextResultSchema = zod_1.default.lazy(() => zod_1.default.union([\n    BrowsingContext.CaptureScreenshotResultSchema,\n    BrowsingContext.CreateResultSchema,\n    BrowsingContext.GetTreeResultSchema,\n    BrowsingContext.LocateNodesResultSchema,\n    BrowsingContext.NavigateResultSchema,\n    BrowsingContext.PrintResultSchema,\n    BrowsingContext.TraverseHistoryResultSchema,\n]));\nvar BrowsingContext;\n(function (BrowsingContext) {\n    BrowsingContext.BrowsingContextSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.InfoListSchema = zod_1.default.lazy(() => zod_1.default.array(BrowsingContext.InfoSchema));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.InfoSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        url: zod_1.default.string(),\n        children: zod_1.default.union([BrowsingContext.InfoListSchema, zod_1.default.null()]),\n        parent: zod_1.default\n            .union([BrowsingContext.BrowsingContextSchema, zod_1.default.null()])\n            .optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.LocatorSchema = zod_1.default.lazy(() => zod_1.default.union([\n        BrowsingContext.CssLocatorSchema,\n        BrowsingContext.InnerTextLocatorSchema,\n        BrowsingContext.XPathLocatorSchema,\n    ]));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CssLocatorSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('css'),\n        value: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.InnerTextLocatorSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('innerText'),\n        value: zod_1.default.string(),\n        ignoreCase: zod_1.default.boolean().optional(),\n        matchType: zod_1.default.enum(['full', 'partial']).optional(),\n        maxDepth: exports.JsUintSchema.optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.XPathLocatorSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('xpath'),\n        value: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigationSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigationInfoSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        navigation: zod_1.default.union([BrowsingContext.NavigationSchema, zod_1.default.null()]),\n        timestamp: exports.JsUintSchema,\n        url: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ReadinessStateSchema = zod_1.default.lazy(() => zod_1.default.enum(['none', 'interactive', 'complete']));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ActivateSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.activate'),\n        params: BrowsingContext.ActivateParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ActivateParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CaptureScreenshotParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        origin: zod_1.default.enum(['viewport', 'document']).default('viewport').optional(),\n        format: BrowsingContext.ImageFormatSchema.optional(),\n        clip: BrowsingContext.ClipRectangleSchema.optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CaptureScreenshotSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.captureScreenshot'),\n        params: BrowsingContext.CaptureScreenshotParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ImageFormatSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.string(),\n        quality: zod_1.default.number().gte(0).lte(1).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ClipRectangleSchema = zod_1.default.lazy(() => zod_1.default.union([\n        BrowsingContext.BoxClipRectangleSchema,\n        BrowsingContext.ElementClipRectangleSchema,\n    ]));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ElementClipRectangleSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('element'),\n        element: Script.SharedReferenceSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.BoxClipRectangleSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('box'),\n        x: zod_1.default.number(),\n        y: zod_1.default.number(),\n        width: zod_1.default.number(),\n        height: zod_1.default.number(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CaptureScreenshotResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        data: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CloseSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.close'),\n        params: BrowsingContext.CloseParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CloseParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        promptUnload: zod_1.default.boolean().default(false).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CreateSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.create'),\n        params: BrowsingContext.CreateParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CreateTypeSchema = zod_1.default.lazy(() => zod_1.default.enum(['tab', 'window']));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CreateParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: BrowsingContext.CreateTypeSchema,\n        referenceContext: BrowsingContext.BrowsingContextSchema.optional(),\n        background: zod_1.default.boolean().default(false).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.CreateResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.GetTreeSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.getTree'),\n        params: BrowsingContext.GetTreeParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.GetTreeParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        maxDepth: exports.JsUintSchema.optional(),\n        root: BrowsingContext.BrowsingContextSchema.optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.GetTreeResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        contexts: BrowsingContext.InfoListSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.HandleUserPromptSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.handleUserPrompt'),\n        params: BrowsingContext.HandleUserPromptParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.HandleUserPromptParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        accept: zod_1.default.boolean().optional(),\n        userText: zod_1.default.string().optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.LocateNodesParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        locator: BrowsingContext.LocatorSchema,\n        maxNodeCount: exports.JsUintSchema.gte(1).optional(),\n        ownership: Script.ResultOwnershipSchema.optional(),\n        sandbox: zod_1.default.string().optional(),\n        serializationOptions: Script.SerializationOptionsSchema.optional(),\n        startNodes: zod_1.default.array(Script.SharedReferenceSchema).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.LocateNodesSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.locateNodes'),\n        params: BrowsingContext.LocateNodesParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.LocateNodesResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        nodes: zod_1.default.array(Script.NodeRemoteValueSchema),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigateSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.navigate'),\n        params: BrowsingContext.NavigateParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigateParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        url: zod_1.default.string(),\n        wait: BrowsingContext.ReadinessStateSchema.optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigateResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        navigation: zod_1.default.union([BrowsingContext.NavigationSchema, zod_1.default.null()]),\n        url: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.PrintSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.print'),\n        params: BrowsingContext.PrintParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.PrintParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        background: zod_1.default.boolean().default(false).optional(),\n        margin: BrowsingContext.PrintMarginParametersSchema.optional(),\n        orientation: zod_1.default\n            .enum(['portrait', 'landscape'])\n            .default('portrait')\n            .optional(),\n        page: BrowsingContext.PrintPageParametersSchema.optional(),\n        pageRanges: zod_1.default.array(zod_1.default.union([exports.JsUintSchema, zod_1.default.string()])).optional(),\n        scale: zod_1.default.number().gte(0.1).lte(2).default(1).optional(),\n        shrinkToFit: zod_1.default.boolean().default(true).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.PrintMarginParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        bottom: zod_1.default.number().gte(0).default(1).optional(),\n        left: zod_1.default.number().gte(0).default(1).optional(),\n        right: zod_1.default.number().gte(0).default(1).optional(),\n        top: zod_1.default.number().gte(0).default(1).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.PrintPageParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        height: zod_1.default.number().gte(0.0352).default(27.94).optional(),\n        width: zod_1.default.number().gte(0.0352).default(21.59).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.PrintResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        data: zod_1.default.string(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ReloadSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.reload'),\n        params: BrowsingContext.ReloadParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ReloadParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        ignoreCache: zod_1.default.boolean().optional(),\n        wait: BrowsingContext.ReadinessStateSchema.optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.SetViewportSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.setViewport'),\n        params: BrowsingContext.SetViewportParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.SetViewportParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        viewport: zod_1.default.union([BrowsingContext.ViewportSchema, zod_1.default.null()]).optional(),\n        devicePixelRatio: zod_1.default.union([zod_1.default.number().gt(0), zod_1.default.null()]).optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ViewportSchema = zod_1.default.lazy(() => zod_1.default.object({\n        width: exports.JsUintSchema,\n        height: exports.JsUintSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.TraverseHistorySchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.traverseHistory'),\n        params: BrowsingContext.TraverseHistoryParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.TraverseHistoryParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        delta: exports.JsIntSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.TraverseHistoryResultSchema = zod_1.default.lazy(() => zod_1.default.object({}));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ContextCreatedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.contextCreated'),\n        params: BrowsingContext.InfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.ContextDestroyedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.contextDestroyed'),\n        params: BrowsingContext.InfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigationStartedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.navigationStarted'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.FragmentNavigatedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.fragmentNavigated'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.DomContentLoadedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.domContentLoaded'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.LoadSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.load'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.DownloadWillBeginSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.downloadWillBegin'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigationAbortedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.navigationAborted'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.NavigationFailedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.navigationFailed'),\n        params: BrowsingContext.NavigationInfoSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.UserPromptClosedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.userPromptClosed'),\n        params: BrowsingContext.UserPromptClosedParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.UserPromptClosedParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        accepted: zod_1.default.boolean(),\n        userText: zod_1.default.string().optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.UserPromptOpenedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('browsingContext.userPromptOpened'),\n        params: BrowsingContext.UserPromptOpenedParametersSchema,\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n(function (BrowsingContext) {\n    BrowsingContext.UserPromptOpenedParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        type: zod_1.default.enum(['alert', 'confirm', 'prompt', 'beforeunload']),\n        message: zod_1.default.string(),\n        defaultValue: zod_1.default.string().optional(),\n    }));\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\nexports.NetworkCommandSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Network.AddInterceptSchema,\n    Network.ContinueRequestSchema,\n    Network.ContinueResponseSchema,\n    Network.ContinueWithAuthSchema,\n    Network.FailRequestSchema,\n    Network.ProvideResponseSchema,\n    Network.RemoveInterceptSchema,\n]));\nexports.NetworkEventSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Network.AuthRequiredSchema,\n    Network.BeforeRequestSentSchema,\n    Network.FetchErrorSchema,\n    Network.ResponseCompletedSchema,\n    Network.ResponseStartedSchema,\n]));\nexports.NetworkResultSchema = zod_1.default.lazy(() => Network.AddInterceptResultSchema);\nvar Network;\n(function (Network) {\n    Network.AuthChallengeSchema = zod_1.default.lazy(() => zod_1.default.object({\n        scheme: zod_1.default.string(),\n        realm: zod_1.default.string(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.AuthCredentialsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('password'),\n        username: zod_1.default.string(),\n        password: zod_1.default.string(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.BaseParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: zod_1.default.union([BrowsingContext.BrowsingContextSchema, zod_1.default.null()]),\n        isBlocked: zod_1.default.boolean(),\n        navigation: zod_1.default.union([BrowsingContext.NavigationSchema, zod_1.default.null()]),\n        redirectCount: exports.JsUintSchema,\n        request: Network.RequestDataSchema,\n        timestamp: exports.JsUintSchema,\n        intercepts: zod_1.default.array(Network.InterceptSchema).optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.BytesValueSchema = zod_1.default.lazy(() => zod_1.default.union([Network.StringValueSchema, Network.Base64ValueSchema]));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.StringValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('string'),\n        value: zod_1.default.string(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.Base64ValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('base64'),\n        value: zod_1.default.string(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.CookieSchema = zod_1.default.lazy(() => zod_1.default.object({\n        name: zod_1.default.string(),\n        value: Network.BytesValueSchema,\n        domain: zod_1.default.string(),\n        path: zod_1.default.string(),\n        size: exports.JsUintSchema,\n        httpOnly: zod_1.default.boolean(),\n        secure: zod_1.default.boolean(),\n        sameSite: zod_1.default.enum(['strict', 'lax', 'none']),\n        expiry: exports.JsUintSchema.optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.CookieHeaderSchema = zod_1.default.lazy(() => zod_1.default.object({\n        name: zod_1.default.string(),\n        value: Network.BytesValueSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.FetchTimingInfoSchema = zod_1.default.lazy(() => zod_1.default.object({\n        timeOrigin: zod_1.default.number(),\n        requestTime: zod_1.default.number(),\n        redirectStart: zod_1.default.number(),\n        redirectEnd: zod_1.default.number(),\n        fetchStart: zod_1.default.number(),\n        dnsStart: zod_1.default.number(),\n        dnsEnd: zod_1.default.number(),\n        connectStart: zod_1.default.number(),\n        connectEnd: zod_1.default.number(),\n        tlsStart: zod_1.default.number(),\n        requestStart: zod_1.default.number(),\n        responseStart: zod_1.default.number(),\n        responseEnd: zod_1.default.number(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.HeaderSchema = zod_1.default.lazy(() => zod_1.default.object({\n        name: zod_1.default.string(),\n        value: Network.BytesValueSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.InitiatorSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.enum(['parser', 'script', 'preflight', 'other']),\n        columnNumber: exports.JsUintSchema.optional(),\n        lineNumber: exports.JsUintSchema.optional(),\n        stackTrace: Script.StackTraceSchema.optional(),\n        request: Network.RequestSchema.optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.InterceptSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.RequestSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.RequestDataSchema = zod_1.default.lazy(() => zod_1.default.object({\n        request: Network.RequestSchema,\n        url: zod_1.default.string(),\n        method: zod_1.default.string(),\n        headers: zod_1.default.array(Network.HeaderSchema),\n        cookies: zod_1.default.array(Network.CookieSchema),\n        headersSize: exports.JsUintSchema,\n        bodySize: zod_1.default.union([exports.JsUintSchema, zod_1.default.null()]),\n        timings: Network.FetchTimingInfoSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseContentSchema = zod_1.default.lazy(() => zod_1.default.object({\n        size: exports.JsUintSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseDataSchema = zod_1.default.lazy(() => zod_1.default.object({\n        url: zod_1.default.string(),\n        protocol: zod_1.default.string(),\n        status: exports.JsUintSchema,\n        statusText: zod_1.default.string(),\n        fromCache: zod_1.default.boolean(),\n        headers: zod_1.default.array(Network.HeaderSchema),\n        mimeType: zod_1.default.string(),\n        bytesReceived: exports.JsUintSchema,\n        headersSize: zod_1.default.union([exports.JsUintSchema, zod_1.default.null()]),\n        bodySize: zod_1.default.union([exports.JsUintSchema, zod_1.default.null()]),\n        content: Network.ResponseContentSchema,\n        authChallenge: Network.AuthChallengeSchema.optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.SetCookieHeaderSchema = zod_1.default.lazy(() => zod_1.default.object({\n        name: zod_1.default.string(),\n        value: Network.BytesValueSchema,\n        domain: zod_1.default.string().optional(),\n        httpOnly: zod_1.default.boolean().optional(),\n        expiry: zod_1.default.string().optional(),\n        maxAge: exports.JsIntSchema.optional(),\n        path: zod_1.default.string().optional(),\n        sameSite: zod_1.default.enum(['strict', 'lax', 'none']).optional(),\n        secure: zod_1.default.boolean().optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.UrlPatternSchema = zod_1.default.lazy(() => zod_1.default.union([Network.UrlPatternPatternSchema, Network.UrlPatternStringSchema]));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.UrlPatternPatternSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('pattern'),\n        protocol: zod_1.default.string().optional(),\n        hostname: zod_1.default.string().optional(),\n        port: zod_1.default.string().optional(),\n        pathname: zod_1.default.string().optional(),\n        search: zod_1.default.string().optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.UrlPatternStringSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('string'),\n        pattern: zod_1.default.string(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.AddInterceptParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        phases: zod_1.default.array(Network.InterceptPhaseSchema),\n        urlPatterns: zod_1.default.array(Network.UrlPatternSchema).optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.AddInterceptSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.addIntercept'),\n        params: Network.AddInterceptParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.InterceptPhaseSchema = zod_1.default.lazy(() => zod_1.default.enum(['beforeRequestSent', 'responseStarted', 'authRequired']));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.AddInterceptResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        intercept: Network.InterceptSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueRequestSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.continueRequest'),\n        params: Network.ContinueRequestParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueRequestParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        request: Network.RequestSchema,\n        body: Network.BytesValueSchema.optional(),\n        cookies: zod_1.default.array(Network.CookieHeaderSchema).optional(),\n        headers: zod_1.default.array(Network.HeaderSchema).optional(),\n        method: zod_1.default.string().optional(),\n        url: zod_1.default.string().optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueResponseSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.continueResponse'),\n        params: Network.ContinueResponseParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueResponseParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        request: Network.RequestSchema,\n        cookies: zod_1.default.array(Network.SetCookieHeaderSchema).optional(),\n        credentials: Network.AuthCredentialsSchema.optional(),\n        headers: zod_1.default.array(Network.HeaderSchema).optional(),\n        reasonPhrase: zod_1.default.string().optional(),\n        statusCode: exports.JsUintSchema.optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueWithAuthSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.continueWithAuth'),\n        params: Network.ContinueWithAuthParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueWithAuthParametersSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        request: Network.RequestSchema,\n    })\n        .and(zod_1.default.union([\n        Network.ContinueWithAuthCredentialsSchema,\n        Network.ContinueWithAuthNoCredentialsSchema,\n    ])));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueWithAuthCredentialsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        action: zod_1.default.literal('provideCredentials'),\n        credentials: Network.AuthCredentialsSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ContinueWithAuthNoCredentialsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        action: zod_1.default.enum(['default', 'cancel']),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.FailRequestSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.failRequest'),\n        params: Network.FailRequestParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.FailRequestParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        request: Network.RequestSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ProvideResponseSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.provideResponse'),\n        params: Network.ProvideResponseParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ProvideResponseParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        request: Network.RequestSchema,\n        body: Network.BytesValueSchema.optional(),\n        cookies: zod_1.default.array(Network.SetCookieHeaderSchema).optional(),\n        headers: zod_1.default.array(Network.HeaderSchema).optional(),\n        reasonPhrase: zod_1.default.string().optional(),\n        statusCode: exports.JsUintSchema.optional(),\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.RemoveInterceptSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.removeIntercept'),\n        params: Network.RemoveInterceptParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.RemoveInterceptParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        intercept: Network.InterceptSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\nexports.ScriptEventSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Script.MessageSchema,\n    Script.RealmCreatedSchema,\n    Script.RealmDestroyedSchema,\n]));\n(function (Network) {\n    Network.AuthRequiredParametersSchema = zod_1.default.lazy(() => Network.BaseParametersSchema.and(zod_1.default.object({\n        response: Network.ResponseDataSchema,\n    })));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.BeforeRequestSentParametersSchema = zod_1.default.lazy(() => Network.BaseParametersSchema.and(zod_1.default.object({\n        initiator: Network.InitiatorSchema,\n    })));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.FetchErrorParametersSchema = zod_1.default.lazy(() => Network.BaseParametersSchema.and(zod_1.default.object({\n        errorText: zod_1.default.string(),\n    })));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseCompletedParametersSchema = zod_1.default.lazy(() => Network.BaseParametersSchema.and(zod_1.default.object({\n        response: Network.ResponseDataSchema,\n    })));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseStartedParametersSchema = zod_1.default.lazy(() => Network.BaseParametersSchema.and(zod_1.default.object({\n        response: Network.ResponseDataSchema,\n    })));\n})(Network || (exports.Network = Network = {}));\nexports.ScriptCommandSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Script.AddPreloadScriptSchema,\n    Script.CallFunctionSchema,\n    Script.DisownSchema,\n    Script.EvaluateSchema,\n    Script.GetRealmsSchema,\n    Script.RemovePreloadScriptSchema,\n]));\nexports.ScriptResultSchema = zod_1.default.lazy(() => zod_1.default.union([\n    Script.AddPreloadScriptResultSchema,\n    Script.EvaluateResultSchema,\n    Script.GetRealmsResultSchema,\n]));\n(function (Network) {\n    Network.AuthRequiredSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.authRequired'),\n        params: Network.AuthRequiredParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.BeforeRequestSentSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.beforeRequestSent'),\n        params: Network.BeforeRequestSentParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.FetchErrorSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.fetchError'),\n        params: Network.FetchErrorParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseCompletedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.responseCompleted'),\n        params: Network.ResponseCompletedParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\n(function (Network) {\n    Network.ResponseStartedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('network.responseStarted'),\n        params: Network.ResponseStartedParametersSchema,\n    }));\n})(Network || (exports.Network = Network = {}));\nvar Script;\n(function (Script) {\n    Script.ChannelSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.EvaluateResultSuccessSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('success'),\n        result: Script.RemoteValueSchema,\n        realm: Script.RealmSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ExceptionDetailsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        columnNumber: exports.JsUintSchema,\n        exception: Script.RemoteValueSchema,\n        lineNumber: exports.JsUintSchema,\n        stackTrace: Script.StackTraceSchema,\n        text: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ChannelValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('channel'),\n        value: Script.ChannelPropertiesSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ChannelPropertiesSchema = zod_1.default.lazy(() => zod_1.default.object({\n        channel: Script.ChannelSchema,\n        serializationOptions: Script.SerializationOptionsSchema.optional(),\n        ownership: Script.ResultOwnershipSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.EvaluateResultSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Script.EvaluateResultSuccessSchema,\n        Script.EvaluateResultExceptionSchema,\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.EvaluateResultExceptionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('exception'),\n        exceptionDetails: Script.ExceptionDetailsSchema,\n        realm: Script.RealmSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.HandleSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.InternalIdSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ListLocalValueSchema = zod_1.default.lazy(() => zod_1.default.array(Script.LocalValueSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.LocalValueSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Script.RemoteReferenceSchema,\n        Script.PrimitiveProtocolValueSchema,\n        Script.ChannelValueSchema,\n        Script.ArrayLocalValueSchema,\n        Script.DateLocalValueSchema,\n        Script.MapLocalValueSchema,\n        Script.ObjectLocalValueSchema,\n        Script.RegExpLocalValueSchema,\n        Script.SetLocalValueSchema,\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ArrayLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('array'),\n        value: Script.ListLocalValueSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.DateLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('date'),\n        value: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MappingLocalValueSchema = zod_1.default.lazy(() => zod_1.default.array(zod_1.default.tuple([\n        zod_1.default.union([Script.LocalValueSchema, zod_1.default.string()]),\n        Script.LocalValueSchema,\n    ])));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MapLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('map'),\n        value: Script.MappingLocalValueSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ObjectLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('object'),\n        value: Script.MappingLocalValueSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RegExpValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        pattern: zod_1.default.string(),\n        flags: zod_1.default.string().optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RegExpLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('regexp'),\n        value: Script.RegExpValueSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SetLocalValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('set'),\n        value: Script.ListLocalValueSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.PreloadScriptSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.PrimitiveProtocolValueSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Script.UndefinedValueSchema,\n        Script.NullValueSchema,\n        Script.StringValueSchema,\n        Script.NumberValueSchema,\n        Script.BooleanValueSchema,\n        Script.BigIntValueSchema,\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.UndefinedValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('undefined'),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.NullValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('null'),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.StringValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('string'),\n        value: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SpecialNumberSchema = zod_1.default.lazy(() => zod_1.default.enum(['NaN', '-0', 'Infinity', '-Infinity']));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.NumberValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('number'),\n        value: zod_1.default.union([zod_1.default.number(), Script.SpecialNumberSchema]),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.BooleanValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('boolean'),\n        value: zod_1.default.boolean(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.BigIntValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('bigint'),\n        value: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmInfoSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Script.WindowRealmInfoSchema,\n        Script.DedicatedWorkerRealmInfoSchema,\n        Script.SharedWorkerRealmInfoSchema,\n        Script.ServiceWorkerRealmInfoSchema,\n        Script.WorkerRealmInfoSchema,\n        Script.PaintWorkletRealmInfoSchema,\n        Script.AudioWorkletRealmInfoSchema,\n        Script.WorkletRealmInfoSchema,\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.BaseRealmInfoSchema = zod_1.default.lazy(() => zod_1.default.object({\n        realm: Script.RealmSchema,\n        origin: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WindowRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('window'),\n        context: BrowsingContext.BrowsingContextSchema,\n        sandbox: zod_1.default.string().optional(),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.DedicatedWorkerRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('dedicated-worker'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SharedWorkerRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('shared-worker'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ServiceWorkerRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('service-worker'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WorkerRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('worker'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.PaintWorkletRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('paint-worklet'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.AudioWorkletRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('audio-worklet'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WorkletRealmInfoSchema = zod_1.default.lazy(() => Script.BaseRealmInfoSchema.and(zod_1.default.object({\n        type: zod_1.default.literal('worklet'),\n    })));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmTypeSchema = zod_1.default.lazy(() => zod_1.default.enum([\n        'window',\n        'dedicated-worker',\n        'shared-worker',\n        'service-worker',\n        'worker',\n        'paint-worklet',\n        'audio-worklet',\n        'worklet',\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ListRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.array(Script.RemoteValueSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MappingRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.array(zod_1.default.tuple([\n        zod_1.default.union([Script.RemoteValueSchema, zod_1.default.string()]),\n        Script.RemoteValueSchema,\n    ])));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RemoteValueSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Script.PrimitiveProtocolValueSchema,\n        Script.SymbolRemoteValueSchema,\n        Script.ArrayRemoteValueSchema,\n        Script.ObjectRemoteValueSchema,\n        Script.FunctionRemoteValueSchema,\n        Script.RegExpRemoteValueSchema,\n        Script.DateRemoteValueSchema,\n        Script.MapRemoteValueSchema,\n        Script.SetRemoteValueSchema,\n        Script.WeakMapRemoteValueSchema,\n        Script.WeakSetRemoteValueSchema,\n        Script.IteratorRemoteValueSchema,\n        Script.GeneratorRemoteValueSchema,\n        Script.ErrorRemoteValueSchema,\n        Script.ProxyRemoteValueSchema,\n        Script.PromiseRemoteValueSchema,\n        Script.TypedArrayRemoteValueSchema,\n        Script.ArrayBufferRemoteValueSchema,\n        Script.NodeListRemoteValueSchema,\n        Script.HtmlCollectionRemoteValueSchema,\n        Script.NodeRemoteValueSchema,\n        Script.WindowProxyRemoteValueSchema,\n    ]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RemoteReferenceSchema = zod_1.default.lazy(() => zod_1.default.union([Script.SharedReferenceSchema, Script.RemoteObjectReferenceSchema]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SharedReferenceSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        sharedId: Script.SharedIdSchema,\n        handle: Script.HandleSchema.optional(),\n    })\n        .and(exports.ExtensibleSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RemoteObjectReferenceSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        handle: Script.HandleSchema,\n        sharedId: Script.SharedIdSchema.optional(),\n    })\n        .and(exports.ExtensibleSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SymbolRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('symbol'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ArrayRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('array'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.ListRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ObjectRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('object'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.MappingRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.FunctionRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('function'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RegExpRemoteValueSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    })\n        .and(Script.RegExpLocalValueSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.DateRemoteValueSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    })\n        .and(Script.DateLocalValueSchema));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MapRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('map'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.MappingRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SetRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('set'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.ListRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WeakMapRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('weakmap'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WeakSetRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('weakset'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.IteratorRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('iterator'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.GeneratorRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('generator'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ErrorRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('error'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ProxyRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('proxy'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.PromiseRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('promise'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.TypedArrayRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('typedarray'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ArrayBufferRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('arraybuffer'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.NodeListRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('nodelist'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.ListRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.HtmlCollectionRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('htmlcollection'),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.ListRemoteValueSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.NodeRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('node'),\n        sharedId: Script.SharedIdSchema.optional(),\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n        value: Script.NodePropertiesSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.NodePropertiesSchema = zod_1.default.lazy(() => zod_1.default.object({\n        nodeType: exports.JsUintSchema,\n        childNodeCount: exports.JsUintSchema,\n        attributes: zod_1.default.record(zod_1.default.string(), zod_1.default.string()).optional(),\n        children: zod_1.default.array(Script.NodeRemoteValueSchema).optional(),\n        localName: zod_1.default.string().optional(),\n        mode: zod_1.default.enum(['open', 'closed']).optional(),\n        namespaceURI: zod_1.default.string().optional(),\n        nodeValue: zod_1.default.string().optional(),\n        shadowRoot: zod_1.default.union([Script.NodeRemoteValueSchema, zod_1.default.null()]).optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WindowProxyRemoteValueSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('window'),\n        value: Script.WindowProxyPropertiesSchema,\n        handle: Script.HandleSchema.optional(),\n        internalId: Script.InternalIdSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.WindowProxyPropertiesSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ResultOwnershipSchema = zod_1.default.lazy(() => zod_1.default.enum(['root', 'none']));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SerializationOptionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        maxDomDepth: zod_1.default.union([exports.JsUintSchema, zod_1.default.null()]).default(0).optional(),\n        maxObjectDepth: zod_1.default\n            .union([exports.JsUintSchema, zod_1.default.null()])\n            .default(null)\n            .optional(),\n        includeShadowTree: zod_1.default\n            .enum(['none', 'open', 'all'])\n            .default('none')\n            .optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SharedIdSchema = zod_1.default.lazy(() => zod_1.default.string());\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.StackFrameSchema = zod_1.default.lazy(() => zod_1.default.object({\n        columnNumber: exports.JsUintSchema,\n        functionName: zod_1.default.string(),\n        lineNumber: exports.JsUintSchema,\n        url: zod_1.default.string(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.StackTraceSchema = zod_1.default.lazy(() => zod_1.default.object({\n        callFrames: zod_1.default.array(Script.StackFrameSchema),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.SourceSchema = zod_1.default.lazy(() => zod_1.default.object({\n        realm: Script.RealmSchema,\n        context: BrowsingContext.BrowsingContextSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmTargetSchema = zod_1.default.lazy(() => zod_1.default.object({\n        realm: Script.RealmSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.ContextTargetSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        sandbox: zod_1.default.string().optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.TargetSchema = zod_1.default.lazy(() => zod_1.default.union([Script.RealmTargetSchema, Script.ContextTargetSchema]));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.AddPreloadScriptSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.addPreloadScript'),\n        params: Script.AddPreloadScriptParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.AddPreloadScriptParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        functionDeclaration: zod_1.default.string(),\n        arguments: zod_1.default.array(Script.ChannelValueSchema).optional(),\n        contexts: zod_1.default.array(BrowsingContext.BrowsingContextSchema).optional(),\n        sandbox: zod_1.default.string().optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.AddPreloadScriptResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        script: Script.PreloadScriptSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.DisownSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.disown'),\n        params: Script.DisownParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.DisownParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        handles: zod_1.default.array(Script.HandleSchema),\n        target: Script.TargetSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.CallFunctionParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        functionDeclaration: zod_1.default.string(),\n        awaitPromise: zod_1.default.boolean(),\n        target: Script.TargetSchema,\n        arguments: zod_1.default.array(Script.LocalValueSchema).optional(),\n        resultOwnership: Script.ResultOwnershipSchema.optional(),\n        serializationOptions: Script.SerializationOptionsSchema.optional(),\n        this: Script.LocalValueSchema.optional(),\n        userActivation: zod_1.default.boolean().default(false).optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.CallFunctionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.callFunction'),\n        params: Script.CallFunctionParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.EvaluateSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.evaluate'),\n        params: Script.EvaluateParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.EvaluateParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        expression: zod_1.default.string(),\n        target: Script.TargetSchema,\n        awaitPromise: zod_1.default.boolean(),\n        resultOwnership: Script.ResultOwnershipSchema.optional(),\n        serializationOptions: Script.SerializationOptionsSchema.optional(),\n        userActivation: zod_1.default.boolean().default(false).optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.GetRealmsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.getRealms'),\n        params: Script.GetRealmsParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.GetRealmsParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema.optional(),\n        type: Script.RealmTypeSchema.optional(),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.GetRealmsResultSchema = zod_1.default.lazy(() => zod_1.default.object({\n        realms: zod_1.default.array(Script.RealmInfoSchema),\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RemovePreloadScriptSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.removePreloadScript'),\n        params: Script.RemovePreloadScriptParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RemovePreloadScriptParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        script: Script.PreloadScriptSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MessageParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        channel: Script.ChannelSchema,\n        data: Script.RemoteValueSchema,\n        source: Script.SourceSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmCreatedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.realmCreated'),\n        params: Script.RealmInfoSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.MessageSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.message'),\n        params: Script.MessageParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmDestroyedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('script.realmDestroyed'),\n        params: Script.RealmDestroyedParametersSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\n(function (Script) {\n    Script.RealmDestroyedParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        realm: Script.RealmSchema,\n    }));\n})(Script || (exports.Script = Script = {}));\nexports.LogEventSchema = zod_1.default.lazy(() => Log.EntryAddedSchema);\nvar Log;\n(function (Log) {\n    Log.LevelSchema = zod_1.default.lazy(() => zod_1.default.enum(['debug', 'info', 'warn', 'error']));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.EntrySchema = zod_1.default.lazy(() => zod_1.default.union([\n        Log.GenericLogEntrySchema,\n        Log.ConsoleLogEntrySchema,\n        Log.JavascriptLogEntrySchema,\n    ]));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.BaseLogEntrySchema = zod_1.default.lazy(() => zod_1.default.object({\n        level: Log.LevelSchema,\n        source: Script.SourceSchema,\n        text: zod_1.default.union([zod_1.default.string(), zod_1.default.null()]),\n        timestamp: exports.JsUintSchema,\n        stackTrace: Script.StackTraceSchema.optional(),\n    }));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.GenericLogEntrySchema = zod_1.default.lazy(() => Log.BaseLogEntrySchema.and(zod_1.default.object({\n        type: zod_1.default.string(),\n    })));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.ConsoleLogEntrySchema = zod_1.default.lazy(() => Log.BaseLogEntrySchema.and(zod_1.default.object({\n        type: zod_1.default.literal('console'),\n        method: zod_1.default.string(),\n        args: zod_1.default.array(Script.RemoteValueSchema),\n    })));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.JavascriptLogEntrySchema = zod_1.default.lazy(() => Log.BaseLogEntrySchema.and(zod_1.default.object({\n        type: zod_1.default.literal('javascript'),\n    })));\n})(Log || (exports.Log = Log = {}));\n(function (Log) {\n    Log.EntryAddedSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('log.entryAdded'),\n        params: Log.EntrySchema,\n    }));\n})(Log || (exports.Log = Log = {}));\nexports.InputCommandSchema = zod_1.default.lazy(() => zod_1.default.union([Input.PerformActionsSchema, Input.ReleaseActionsSchema]));\nvar Input;\n(function (Input) {\n    Input.ElementOriginSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('element'),\n        element: Script.SharedReferenceSchema,\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PerformActionsParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n        actions: zod_1.default.array(Input.SourceActionsSchema),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.NoneSourceActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('none'),\n        id: zod_1.default.string(),\n        actions: zod_1.default.array(Input.NoneSourceActionSchema),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.KeySourceActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('key'),\n        id: zod_1.default.string(),\n        actions: zod_1.default.array(Input.KeySourceActionSchema),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerSourceActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('pointer'),\n        id: zod_1.default.string(),\n        parameters: Input.PointerParametersSchema.optional(),\n        actions: zod_1.default.array(Input.PointerSourceActionSchema),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PerformActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('input.performActions'),\n        params: Input.PerformActionsParametersSchema,\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.SourceActionsSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Input.NoneSourceActionsSchema,\n        Input.KeySourceActionsSchema,\n        Input.PointerSourceActionsSchema,\n        Input.WheelSourceActionsSchema,\n    ]));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.NoneSourceActionSchema = zod_1.default.lazy(() => Input.PauseActionSchema);\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.KeySourceActionSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Input.PauseActionSchema,\n        Input.KeyDownActionSchema,\n        Input.KeyUpActionSchema,\n    ]));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerTypeSchema = zod_1.default.lazy(() => zod_1.default.enum(['mouse', 'pen', 'touch']));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        pointerType: Input.PointerTypeSchema.default('mouse').optional(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.WheelSourceActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('wheel'),\n        id: zod_1.default.string(),\n        actions: zod_1.default.array(Input.WheelSourceActionSchema),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerSourceActionSchema = zod_1.default.lazy(() => zod_1.default.union([\n        Input.PauseActionSchema,\n        Input.PointerDownActionSchema,\n        Input.PointerUpActionSchema,\n        Input.PointerMoveActionSchema,\n    ]));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.WheelSourceActionSchema = zod_1.default.lazy(() => zod_1.default.union([Input.PauseActionSchema, Input.WheelScrollActionSchema]));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PauseActionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('pause'),\n        duration: exports.JsUintSchema.optional(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.KeyDownActionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('keyDown'),\n        value: zod_1.default.string(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.KeyUpActionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('keyUp'),\n        value: zod_1.default.string(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerUpActionSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        type: zod_1.default.literal('pointerUp'),\n        button: exports.JsUintSchema,\n    })\n        .and(Input.PointerCommonPropertiesSchema));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerDownActionSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        type: zod_1.default.literal('pointerDown'),\n        button: exports.JsUintSchema,\n    })\n        .and(Input.PointerCommonPropertiesSchema));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerMoveActionSchema = zod_1.default.lazy(() => zod_1.default\n        .object({\n        type: zod_1.default.literal('pointerMove'),\n        x: exports.JsIntSchema,\n        y: exports.JsIntSchema,\n        duration: exports.JsUintSchema.optional(),\n        origin: Input.OriginSchema.optional(),\n    })\n        .and(Input.PointerCommonPropertiesSchema));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.WheelScrollActionSchema = zod_1.default.lazy(() => zod_1.default.object({\n        type: zod_1.default.literal('scroll'),\n        x: exports.JsIntSchema,\n        y: exports.JsIntSchema,\n        deltaX: exports.JsIntSchema,\n        deltaY: exports.JsIntSchema,\n        duration: exports.JsUintSchema.optional(),\n        origin: Input.OriginSchema.default('viewport').optional(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.PointerCommonPropertiesSchema = zod_1.default.lazy(() => zod_1.default.object({\n        width: exports.JsUintSchema.default(1).optional(),\n        height: exports.JsUintSchema.default(1).optional(),\n        pressure: zod_1.default.number().default(0).optional(),\n        tangentialPressure: zod_1.default.number().default(0).optional(),\n        twist: zod_1.default\n            .number()\n            .int()\n            .nonnegative()\n            .gte(0)\n            .lte(359)\n            .default(0)\n            .optional(),\n        altitudeAngle: zod_1.default\n            .number()\n            .gte(0)\n            .lte(1.5707963267948966)\n            .default(0)\n            .optional(),\n        azimuthAngle: zod_1.default\n            .number()\n            .gte(0)\n            .lte(6.283185307179586)\n            .default(0)\n            .optional(),\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.OriginSchema = zod_1.default.lazy(() => zod_1.default.union([\n        zod_1.default.literal('viewport'),\n        zod_1.default.literal('pointer'),\n        Input.ElementOriginSchema,\n    ]));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.ReleaseActionsSchema = zod_1.default.lazy(() => zod_1.default.object({\n        method: zod_1.default.literal('input.releaseActions'),\n        params: Input.ReleaseActionsParametersSchema,\n    }));\n})(Input || (exports.Input = Input = {}));\n(function (Input) {\n    Input.ReleaseActionsParametersSchema = zod_1.default.lazy(() => zod_1.default.object({\n        context: BrowsingContext.BrowsingContextSchema,\n    }));\n})(Input || (exports.Input = Input = {}));\n//# sourceMappingURL=webdriver-bidi.js.map","\"use strict\";\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cdp = exports.Input = exports.Session = exports.BrowsingContext = exports.Script = exports.Network = exports.parseObject = void 0;\n/**\n * @fileoverview Provides parsing and validator for WebDriver BiDi protocol.\n * Parser types should match the `../protocol` types.\n */\nconst zod_1 = require(\"zod\");\nconst protocol_js_1 = require(\"../protocol/protocol.js\");\nconst WebDriverBidi = __importStar(require(\"./webdriver-bidi.js\"));\nfunction parseObject(obj, schema) {\n    const parseResult = schema.safeParse(obj);\n    if (parseResult.success) {\n        return parseResult.data;\n    }\n    const errorMessage = parseResult.error.errors\n        .map((e) => `${e.message} in ` +\n        `${e.path.map((p) => JSON.stringify(p)).join('/')}.`)\n        .join(' ');\n    throw new protocol_js_1.InvalidArgumentException(errorMessage);\n}\nexports.parseObject = parseObject;\n/** @see https://w3c.github.io/webdriver-bidi/#module-network */\nvar Network;\n(function (Network) {\n    function parseAddInterceptParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.AddInterceptParametersSchema);\n    }\n    Network.parseAddInterceptParameters = parseAddInterceptParameters;\n    function parseContinueRequestParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.ContinueRequestParametersSchema);\n    }\n    Network.parseContinueRequestParameters = parseContinueRequestParameters;\n    function parseContinueResponseParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.ContinueResponseParametersSchema);\n    }\n    Network.parseContinueResponseParameters = parseContinueResponseParameters;\n    function parseContinueWithAuthParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.ContinueWithAuthParametersSchema);\n    }\n    Network.parseContinueWithAuthParameters = parseContinueWithAuthParameters;\n    function parseFailRequestParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.FailRequestParametersSchema);\n    }\n    Network.parseFailRequestParameters = parseFailRequestParameters;\n    function parseProvideResponseParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.ProvideResponseParametersSchema);\n    }\n    Network.parseProvideResponseParameters = parseProvideResponseParameters;\n    function parseRemoveInterceptParameters(params) {\n        return parseObject(params, WebDriverBidi.Network.RemoveInterceptParametersSchema);\n    }\n    Network.parseRemoveInterceptParameters = parseRemoveInterceptParameters;\n})(Network || (exports.Network = Network = {}));\n/** @see https://w3c.github.io/webdriver-bidi/#module-script */\nvar Script;\n(function (Script) {\n    function parseGetRealmsParams(params) {\n        return parseObject(params, WebDriverBidi.Script.GetRealmsParametersSchema);\n    }\n    Script.parseGetRealmsParams = parseGetRealmsParams;\n    function parseEvaluateParams(params) {\n        return parseObject(params, WebDriverBidi.Script.EvaluateParametersSchema);\n    }\n    Script.parseEvaluateParams = parseEvaluateParams;\n    function parseDisownParams(params) {\n        return parseObject(params, WebDriverBidi.Script.DisownParametersSchema);\n    }\n    Script.parseDisownParams = parseDisownParams;\n    function parseAddPreloadScriptParams(params) {\n        return parseObject(params, WebDriverBidi.Script.AddPreloadScriptParametersSchema);\n    }\n    Script.parseAddPreloadScriptParams = parseAddPreloadScriptParams;\n    function parseRemovePreloadScriptParams(params) {\n        return parseObject(params, WebDriverBidi.Script.RemovePreloadScriptParametersSchema);\n    }\n    Script.parseRemovePreloadScriptParams = parseRemovePreloadScriptParams;\n    function parseCallFunctionParams(params) {\n        return parseObject(params, WebDriverBidi.Script.CallFunctionParametersSchema);\n    }\n    Script.parseCallFunctionParams = parseCallFunctionParams;\n})(Script || (exports.Script = Script = {}));\n/** @see https://w3c.github.io/webdriver-bidi/#module-browsingContext */\nvar BrowsingContext;\n(function (BrowsingContext) {\n    function parseActivateParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.ActivateParametersSchema);\n    }\n    BrowsingContext.parseActivateParams = parseActivateParams;\n    function parseGetTreeParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.GetTreeParametersSchema);\n    }\n    BrowsingContext.parseGetTreeParams = parseGetTreeParams;\n    function parseNavigateParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.NavigateParametersSchema);\n    }\n    BrowsingContext.parseNavigateParams = parseNavigateParams;\n    function parseReloadParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.ReloadParametersSchema);\n    }\n    BrowsingContext.parseReloadParams = parseReloadParams;\n    function parseCreateParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.CreateParametersSchema);\n    }\n    BrowsingContext.parseCreateParams = parseCreateParams;\n    function parseCloseParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.CloseParametersSchema);\n    }\n    BrowsingContext.parseCloseParams = parseCloseParams;\n    function parseCaptureScreenshotParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.CaptureScreenshotParametersSchema);\n    }\n    BrowsingContext.parseCaptureScreenshotParams = parseCaptureScreenshotParams;\n    function parsePrintParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.PrintParametersSchema);\n    }\n    BrowsingContext.parsePrintParams = parsePrintParams;\n    function parseSetViewportParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.SetViewportParametersSchema);\n    }\n    BrowsingContext.parseSetViewportParams = parseSetViewportParams;\n    function parseTraverseHistoryParams(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.TraverseHistoryParametersSchema);\n    }\n    BrowsingContext.parseTraverseHistoryParams = parseTraverseHistoryParams;\n    function parseHandleUserPromptParameters(params) {\n        return parseObject(params, WebDriverBidi.BrowsingContext.HandleUserPromptParametersSchema);\n    }\n    BrowsingContext.parseHandleUserPromptParameters = parseHandleUserPromptParameters;\n})(BrowsingContext || (exports.BrowsingContext = BrowsingContext = {}));\n/** @see https://w3c.github.io/webdriver-bidi/#module-session */\nvar Session;\n(function (Session) {\n    function parseSubscribeParams(params) {\n        return parseObject(params, WebDriverBidi.Session.SubscriptionRequestSchema);\n    }\n    Session.parseSubscribeParams = parseSubscribeParams;\n})(Session || (exports.Session = Session = {}));\nvar Input;\n(function (Input) {\n    function parsePerformActionsParams(params) {\n        return parseObject(params, WebDriverBidi.Input.PerformActionsParametersSchema);\n    }\n    Input.parsePerformActionsParams = parsePerformActionsParams;\n    function parseReleaseActionsParams(params) {\n        return parseObject(params, WebDriverBidi.Input.ReleaseActionsParametersSchema);\n    }\n    Input.parseReleaseActionsParams = parseReleaseActionsParams;\n})(Input || (exports.Input = Input = {}));\nvar Cdp;\n(function (Cdp) {\n    const SendCommandRequestSchema = zod_1.z.object({\n        // Allowing any cdpMethod, and casting to proper type later on.\n        method: zod_1.z.string(),\n        // `passthrough` allows object to have any fields.\n        // https://github.com/colinhacks/zod#passthrough\n        params: zod_1.z.object({}).passthrough().optional(),\n        session: zod_1.z.string().optional(),\n    });\n    const GetSessionRequestSchema = zod_1.z.object({\n        context: WebDriverBidi.BrowsingContext.BrowsingContextSchema,\n    });\n    function parseSendCommandRequest(params) {\n        return parseObject(params, SendCommandRequestSchema);\n    }\n    Cdp.parseSendCommandRequest = parseSendCommandRequest;\n    function parseGetSessionRequest(params) {\n        return parseObject(params, GetSessionRequestSchema);\n    }\n    Cdp.parseGetSessionRequest = parseGetSessionRequest;\n})(Cdp || (exports.Cdp = Cdp = {}));\n//# sourceMappingURL=protocol-parser.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BidiParser = void 0;\nconst Parser = __importStar(require(\"../protocol-parser/protocol-parser.js\"));\nclass BidiParser {\n    // Browsing Context domain\n    // keep-sorted start block=yes\n    parseActivateParams(params) {\n        return Parser.BrowsingContext.parseActivateParams(params);\n    }\n    parseCaptureScreenshotParams(params) {\n        return Parser.BrowsingContext.parseCaptureScreenshotParams(params);\n    }\n    parseCloseParams(params) {\n        return Parser.BrowsingContext.parseCloseParams(params);\n    }\n    parseCreateParams(params) {\n        return Parser.BrowsingContext.parseCreateParams(params);\n    }\n    parseGetTreeParams(params) {\n        return Parser.BrowsingContext.parseGetTreeParams(params);\n    }\n    parseHandleUserPromptParams(params) {\n        return Parser.BrowsingContext.parseHandleUserPromptParameters(params);\n    }\n    parseNavigateParams(params) {\n        return Parser.BrowsingContext.parseNavigateParams(params);\n    }\n    parsePrintParams(params) {\n        return Parser.BrowsingContext.parsePrintParams(params);\n    }\n    parseReloadParams(params) {\n        return Parser.BrowsingContext.parseReloadParams(params);\n    }\n    parseSetViewportParams(params) {\n        return Parser.BrowsingContext.parseSetViewportParams(params);\n    }\n    parseTraverseHistoryParams(params) {\n        return Parser.BrowsingContext.parseTraverseHistoryParams(params);\n    }\n    // keep-sorted end\n    // CDP domain\n    // keep-sorted start block=yes\n    parseGetSessionParams(params) {\n        return Parser.Cdp.parseGetSessionRequest(params);\n    }\n    parseSendCommandParams(params) {\n        return Parser.Cdp.parseSendCommandRequest(params);\n    }\n    // keep-sorted end\n    // Input domain\n    // keep-sorted start block=yes\n    parsePerformActionsParams(params) {\n        return Parser.Input.parsePerformActionsParams(params);\n    }\n    parseReleaseActionsParams(params) {\n        return Parser.Input.parseReleaseActionsParams(params);\n    }\n    // keep-sorted end\n    // Network domain\n    // keep-sorted start block=yes\n    parseAddInterceptParams(params) {\n        return Parser.Network.parseAddInterceptParameters(params);\n    }\n    parseContinueRequestParams(params) {\n        return Parser.Network.parseContinueRequestParameters(params);\n    }\n    parseContinueResponseParams(params) {\n        return Parser.Network.parseContinueResponseParameters(params);\n    }\n    parseContinueWithAuthParams(params) {\n        return Parser.Network.parseContinueWithAuthParameters(params);\n    }\n    parseFailRequestParams(params) {\n        return Parser.Network.parseFailRequestParameters(params);\n    }\n    parseProvideResponseParams(params) {\n        return Parser.Network.parseProvideResponseParameters(params);\n    }\n    parseRemoveInterceptParams(params) {\n        return Parser.Network.parseRemoveInterceptParameters(params);\n    }\n    // keep-sorted end\n    // Script domain\n    // keep-sorted start block=yes\n    parseAddPreloadScriptParams(params) {\n        return Parser.Script.parseAddPreloadScriptParams(params);\n    }\n    parseCallFunctionParams(params) {\n        return Parser.Script.parseCallFunctionParams(params);\n    }\n    parseDisownParams(params) {\n        return Parser.Script.parseDisownParams(params);\n    }\n    parseEvaluateParams(params) {\n        return Parser.Script.parseEvaluateParams(params);\n    }\n    parseGetRealmsParams(params) {\n        return Parser.Script.parseGetRealmsParams(params);\n    }\n    parseRemovePreloadScriptParams(params) {\n        return Parser.Script.parseRemovePreloadScriptParams(params);\n    }\n    // keep-sorted end\n    // Session domain\n    // keep-sorted start block=yes\n    parseSubscribeParams(params) {\n        return Parser.Session.parseSubscribeParams(params);\n    }\n}\nexports.BidiParser = BidiParser;\n//# sourceMappingURL=BidiParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.log = exports.generatePage = void 0;\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst log_js_1 = require(\"../utils/log.js\");\n/** HTML source code for the user-facing Mapper tab. */\nconst mapperPageSource = '<!DOCTYPE html><title>BiDi-CDP Mapper</title><style>body{font-family: Roboto, serif; font-size: 13px; color: #202124;}.log{padding: 12px; font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace; font-size: 11px; line-height: 180%; background: #f1f3f4; border-radius: 4px;}.pre{overflow-wrap: break-word; padding: 10px;}.card{margin: 60px auto; padding: 2px 0; max-width: 900px; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15), 0 1px 6px rgba(0, 0, 0, 0.2); border-radius: 8px;}.divider{height: 1px; background: #f0f0f0;}.item{padding: 16px 20px;}</style><div class=\"card\"><div class=\"item\"><h1>BiDi-CDP Mapper is controlling this tab</h1><p>Closing or reloading it will stop the BiDi process. <a target=\"_blank\" title=\"BiDi-CDP Mapper GitHub Repository\" href=\"https://github.com/GoogleChromeLabs/chromium-bidi\">Details.</a></p></div><div class=\"divider\"></div><details id=\"details\"><summary class=\"item\">Debug information</summary></details></div>';\n/**\n * The following piece of HTML should be added to the `debug` element:\n *\n * <div class=\"divider\"></div>\n * <div class=\"item\">\n * <h3>${name}</h3>\n * <div id=\"${name}_log\" class=\"log\">\n */\nfunction findOrCreateTypeLogContainer(logPrefix) {\n    const logType = logPrefix.split(':')[0];\n    const containerId = `${logType}_log`;\n    const existingContainer = document.getElementById(containerId);\n    if (existingContainer) {\n        return existingContainer;\n    }\n    const debugElement = document.getElementById('details');\n    const divider = document.createElement('div');\n    divider.className = 'divider';\n    debugElement.appendChild(divider);\n    const htmlItem = document.createElement('div');\n    htmlItem.className = 'item';\n    htmlItem.innerHTML = `<h3>${logType}</h3><div id=\"${containerId}\" class=\"log\"></div>`;\n    debugElement.appendChild(htmlItem);\n    return document.getElementById(containerId);\n}\nfunction generatePage() {\n    // If run not in browser (e.g. unit test), do nothing.\n    if (!globalThis.document.documentElement) {\n        return;\n    }\n    globalThis.document.documentElement.innerHTML = mapperPageSource;\n    // Create main log containers in proper order.\n    findOrCreateTypeLogContainer(log_js_1.LogType.debugInfo);\n    findOrCreateTypeLogContainer(log_js_1.LogType.bidi);\n    findOrCreateTypeLogContainer(log_js_1.LogType.cdp);\n}\nexports.generatePage = generatePage;\nfunction stringify(message) {\n    if (typeof message === 'object') {\n        return JSON.stringify(message, null, 2);\n    }\n    return message;\n}\nfunction log(logPrefix, ...messages) {\n    // If run not in browser (e.g. unit test), do nothing.\n    if (!globalThis.document.documentElement) {\n        return;\n    }\n    // Skip sending BiDi logs as they are logged once by `bidi:server:*`\n    if (!logPrefix.startsWith(log_js_1.LogType.bidi)) {\n        // If `sendDebugMessage` is defined, send the log message there.\n        global.window?.sendDebugMessage?.(JSON.stringify({ logType: logPrefix, messages }));\n    }\n    const typeLogContainer = findOrCreateTypeLogContainer(logPrefix);\n    // This piece of HTML should be added:\n    // <div class=\"pre\">...log message...</div>\n    const lineElement = document.createElement('div');\n    lineElement.className = 'pre';\n    lineElement.textContent = [logPrefix, ...messages].map(stringify).join(' ');\n    typeLogContainer.appendChild(lineElement);\n}\nexports.log = log;\n//# sourceMappingURL=mapperTabPage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowCdpTransport = exports.WindowBidiTransport = void 0;\nconst log_js_1 = require(\"../utils/log.js\");\nconst mapperTabPage_js_1 = require(\"./mapperTabPage.js\");\nclass WindowBidiTransport {\n    static LOGGER_PREFIX_RECV = `${log_js_1.LogType.bidi}:RECV ◂`;\n    static LOGGER_PREFIX_SEND = `${log_js_1.LogType.bidi}:SEND ▸`;\n    #onMessage = null;\n    constructor() {\n        window.onBidiMessage = (message) => {\n            (0, mapperTabPage_js_1.log)(WindowBidiTransport.LOGGER_PREFIX_RECV, message);\n            try {\n                const command = WindowBidiTransport.#parseBidiMessage(message);\n                this.#onMessage?.call(null, command);\n            }\n            catch (e) {\n                const error = e instanceof Error ? e : new Error(e);\n                // Transport-level error does not provide channel.\n                this.#respondWithError(message, \"invalid argument\" /* ErrorCode.InvalidArgument */, error, null);\n            }\n        };\n    }\n    setOnMessage(onMessage) {\n        this.#onMessage = onMessage;\n    }\n    sendMessage(message) {\n        (0, mapperTabPage_js_1.log)(WindowBidiTransport.LOGGER_PREFIX_SEND, message);\n        const json = JSON.stringify(message);\n        window.sendBidiResponse(json);\n    }\n    close() {\n        this.#onMessage = null;\n        window.onBidiMessage = null;\n    }\n    #respondWithError(plainCommandData, errorCode, error, channel) {\n        const errorResponse = WindowBidiTransport.#getErrorResponse(plainCommandData, errorCode, error);\n        if (channel) {\n            this.sendMessage({\n                ...errorResponse,\n                channel,\n            });\n        }\n        else {\n            this.sendMessage(errorResponse);\n        }\n    }\n    static #getJsonType(value) {\n        if (value === null) {\n            return 'null';\n        }\n        if (Array.isArray(value)) {\n            return 'array';\n        }\n        return typeof value;\n    }\n    static #getErrorResponse(message, errorCode, error) {\n        // XXX: this is bizarre per spec. We reparse the payload and\n        // extract the ID, regardless of what kind of value it was.\n        let messageId;\n        try {\n            const command = JSON.parse(message);\n            if (WindowBidiTransport.#getJsonType(command) === 'object' &&\n                'id' in command) {\n                messageId = command.id;\n            }\n        }\n        catch { }\n        return {\n            type: 'error',\n            id: messageId,\n            error: errorCode,\n            message: error.message,\n        };\n    }\n    static #parseBidiMessage(message) {\n        let command;\n        try {\n            command = JSON.parse(message);\n        }\n        catch {\n            throw new Error('Cannot parse data as JSON');\n        }\n        const type = WindowBidiTransport.#getJsonType(command);\n        if (type !== 'object') {\n            throw new Error(`Expected JSON object but got ${type}`);\n        }\n        // Extract and validate id, method and params.\n        const { id, method, params } = command;\n        const idType = WindowBidiTransport.#getJsonType(id);\n        if (idType !== 'number' || !Number.isInteger(id) || id < 0) {\n            // TODO: should uint64_t be the upper limit?\n            // https://tools.ietf.org/html/rfc7049#section-2.1\n            throw new Error(`Expected unsigned integer but got ${idType}`);\n        }\n        const methodType = WindowBidiTransport.#getJsonType(method);\n        if (methodType !== 'string') {\n            throw new Error(`Expected string method but got ${methodType}`);\n        }\n        const paramsType = WindowBidiTransport.#getJsonType(params);\n        if (paramsType !== 'object') {\n            throw new Error(`Expected object params but got ${paramsType}`);\n        }\n        let channel = command.channel;\n        if (channel !== undefined) {\n            const channelType = WindowBidiTransport.#getJsonType(channel);\n            if (channelType !== 'string') {\n                throw new Error(`Expected string channel but got ${channelType}`);\n            }\n            // Empty string channel is considered as no channel provided.\n            if (channel === '') {\n                channel = undefined;\n            }\n        }\n        return { id, method, params, channel };\n    }\n}\nexports.WindowBidiTransport = WindowBidiTransport;\nclass WindowCdpTransport {\n    #onMessage = null;\n    constructor() {\n        window.cdp.onmessage = (message) => {\n            this.#onMessage?.call(null, message);\n        };\n    }\n    setOnMessage(onMessage) {\n        this.#onMessage = onMessage;\n    }\n    sendMessage(message) {\n        window.cdp.send(message);\n    }\n    close() {\n        this.#onMessage = null;\n        window.cdp.onmessage = null;\n    }\n}\nexports.WindowCdpTransport = WindowCdpTransport;\n//# sourceMappingURL=Transport.js.map","\"use strict\";\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BidiMapper_js_1 = require(\"../bidiMapper/BidiMapper.js\");\nconst CdpConnection_js_1 = require(\"../cdp/CdpConnection.js\");\nconst log_js_1 = require(\"../utils/log.js\");\nconst BidiParser_js_1 = require(\"./BidiParser.js\");\nconst mapperTabPage_js_1 = require(\"./mapperTabPage.js\");\nconst Transport_js_1 = require(\"./Transport.js\");\n(0, mapperTabPage_js_1.generatePage)();\nconst mapperTabToServerTransport = new Transport_js_1.WindowBidiTransport();\nconst cdpTransport = new Transport_js_1.WindowCdpTransport();\n/**\n * A CdpTransport implementation that uses the window.cdp bindings\n * injected by Target.exposeDevToolsProtocol.\n */\nconst cdpConnection = new CdpConnection_js_1.CdpConnection(cdpTransport, mapperTabPage_js_1.log);\n/**\n * Launches the BiDi mapper instance.\n * @param {string} selfTargetId\n */\nasync function runMapperInstance(selfTargetId) {\n    // eslint-disable-next-line no-console\n    console.log('Launching Mapper instance with selfTargetId:', selfTargetId);\n    const bidiServer = await BidiMapper_js_1.BidiServer.createAndStart(mapperTabToServerTransport, cdpConnection, \n    /**\n     * Create a Browser CDP Session per Mapper instance.\n     */\n    await cdpConnection.createBrowserSession(), selfTargetId, new BidiParser_js_1.BidiParser(), mapperTabPage_js_1.log);\n    (0, mapperTabPage_js_1.log)(log_js_1.LogType.debugInfo, 'Mapper instance has been launched');\n    return bidiServer;\n}\n/**\n * Set `window.runMapper` to a function which launches the BiDi mapper instance.\n * @param selfTargetId Needed to filter out info related to BiDi target.\n */\nwindow.runMapperInstance = async (selfTargetId) => {\n    await runMapperInstance(selfTargetId);\n};\n/**\n * @deprecated Use `runMapperInstance` instead. Used for backward compatibility\n * with ChromeDriver.\n */\n// TODO: Remove this after https://crrev.com/c/4952609 reaches stable.\nwindow.setSelfTargetId = async (selfTargetId) => {\n    const bidiServer = await runMapperInstance(selfTargetId);\n    bidiServer.emitOutgoingMessage(BidiMapper_js_1.OutgoingMessage.createResolved({\n        launched: true,\n    }), 'launched');\n};\n//# sourceMappingURL=bidiTab.js.map"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","__importDefault","this","mod","__esModule","default","Object","defineProperty","EventEmitter_1","value","EventEmitter","mitt_1","require$$0","EventEmitter$1","emitter","type","handler","once","event","onceHandler","eventData","removeAllListeners","delete","clear","LogType","log","ProcessingQueue_1","ProcessingQueue","log_js_1","static","debug","logger","processor","queue","isProcessing","constructor","add","entry","name","processIfNeeded","length","arrayEntry","shift","entryPromise","LOGGER_PREFIX","then","kind","debugError","error","message","stack","catch","ProcessingQueue$1","cdp","BiDiModule","Script","Log","BrowsingContext","Network","chromiumBidi","EVENT_NAMES","EventNames","Set","values","webdriverBidi","ErrorResponse","UnsupportedOperationException","UnableToCloseBrowserException","UnableToCaptureScreenException","UnknownCommandException","SessionNotCreatedException","NoSuchScriptException","NoSuchNodeException","NoSuchInterceptException","NoSuchHistoryEntryException","NoSuchFrameException","NoSuchElementException","MoveTargetOutOfBoundsException","InvalidSessionIdException","InvalidArgumentException","Exception","stacktrace","toErrorResponse","commandId","id","super","NoSuchAlertException","NoSuchHandleException","NoSuchRequestException","UnknownErrorException","Error","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","configurable","enumerable","__setModuleDefault","v","__importStar","result","prototype","hasOwnProperty","call","__exportStar","exports","p","ChromiumBidi","Cdp","require$$1","require$$2","require$$3","BidiNoOpParser_1","BidiNoOpParser","BidiNoOpParser$1","parseActivateParams","params","parseCaptureScreenshotParams","parseCloseParams","parseCreateParams","parseGetTreeParams","parseHandleUserPromptParams","parseNavigateParams","parsePrintParams","parseReloadParams","parseSetViewportParams","parseTraverseHistoryParams","parseGetSessionParams","parseSendCommandParams","parseAddPreloadScriptParams","parseCallFunctionParams","parseDisownParams","parseEvaluateParams","parseGetRealmsParams","parseRemovePreloadScriptParams","parsePerformActionsParams","parseReleaseActionsParams","parseAddInterceptParams","parseContinueRequestParams","parseContinueResponseParams","parseContinueWithAuthParams","parseFailRequestParams","parseProvideResponseParams","parseRemoveInterceptParams","parseSubscribeParams","BrowserProcessor_1","BrowserProcessor","BrowserProcessor$1","browserCdpClient","close","setTimeout","sendCommand","CdpProcessor_1","CdpProcessor","CdpProcessor$1","browsingContextStorage","cdpConnection","getSession","context","sessionId","getContext","cdpTarget","cdpSessionId","session","client","getCdpClient","method","assert_1","assert","assert$1","predicate","Deferred_1","Deferred","isFinished","promise","resolve","reject","Promise","_error","onFulfilled","onRejected","reason","onFinally","finally","Symbol","toStringTag","Deferred$1","unitConversions","inchesFromCm","cm","uuid","uuidv4","globalThis","crypto","randomUUID","randomValues","Uint8Array","getRandomValues","require","webcrypto","bytesToHex","bytes","reduce","str","byte","toString","padStart","subarray","join","ChannelProxy_1","ChannelProxy","protocol_js_1","uuid_js_1","properties","channel","init","realm","eventManager","channelHandle","createAndGetHandleInRealm","sendMessageHandle","createSendMessageHandle","startListener","startListenerFromWindow","getHandleFromWindow","createChannelProxyEvalStr","String","queueNonEmptyResolver","getMessage","onMessage","sendMessage","createChannelHandleResult","cdpClient","expression","contextId","executionContextId","serializationOptions","serialization","exceptionDetails","objectId","functionDeclaration","arguments","async","awaitPromise","maxDepth","maxObjectDepth","registerEvent","Message","data","cdpToBidiValue","ownership","source","realmId","browsingContextId","channelHandleResult","w","window","channelProxy","getEvalInWindowStr","delegate","channelProxyEval","ChannelProxy$1","Realm_1","Realm","ChannelProxy_js_1","SHARED_ID_DIVIDER","realmStorage","origin","sandbox","addRealm","RealmCreated","realmInfo","cdpValue","resultOwnership","bidiValue","deepSerializedToBiDi","deepSerializedValue","handle","knownHandlesToRealmMap","releaseObject","subtype","internalIdMap","hasOwn","weakLocalObjectReference","has","internalId","sharedId","navigableId","backendNodeId","children","shadowRoot","namespaceURI","includes","findContext","evaluate","userActivation","targetUnblockedOrThrow","cdpEvaluateResult","getSerializationOptions","userGesture","getExceptionResult","serializeCdpObject","cdpRemoteObject","argument","cdpRemoteObjectToCallArgument","remoteObject","unserializableValue","stringifyObject","returnByValue","flattenKeyValuePairs","mappingLocalValue","keyValueArray","key","keyArg","deserializeToCdpArg","valueArg","flattenValueList","listLocalValue","localValue","serializeCdpExceptionDetails","cdpExceptionDetails","lineOffset","callFrames","stackTrace","frame","url","functionName","lineNumber","columnNumber","exception","text","callFunction","thisLocalValue","argumentsLocalValues","callFunctionAndSerializeScript","thisAndArgumentsList","argumentLocalValue","cdpCallFunctionResult","code","rawBackendNodeId","split","parseInt","isNaN","object","Boolean","JSON","stringify","pattern","flags","args","additionalParameters","getAdditionalSerializationParameters","getMaxObjectDepth","maxDomDepth","includeShadowTree","disown","dispose","RealmDestroyed","Realm$1","BrowsingContextImpl_1","BrowsingContextImpl","assert_js_1","Deferred_js_1","unitConversions_js_1","require$$4","Realm_js_1","require$$5","parentId","deferreds","Page","navigatedWithinDocument","lifecycleEvent","DOMContentLoaded","load","frameStartedLoading","loaderId","maybeDefaultRealm","initListeners","addContext","isTopLevelContext","parent","addChild","ContextCreated","serializeToBidiValue","getTimestamp","Date","getTime","deleteAllChildren","deleteRealms","failDeferredsIfNotFinished","ContextDestroyed","deleteContextById","directChildren","allChildren","concat","child","top","topContext","childId","defaultRealm","updateCdpTarget","lifecycleLoaded","targetUnblocked","getOrCreateSandbox","maybeSandboxes","findRealms","frameId","worldName","addParentField","c","onTargetInfoChanged","targetInfo","urlFragment","timestamp","FragmentNavigated","navigation","NavigationStarted","documentChanged","DomContentLoaded","Load","auxData","uniqueId","getOrigin","isDefault","getChannels","accepted","UserPromptClosed","userText","userInput","UserPromptOpened","defaultValue","defaultPrompt","resetDeferredsIfFinished","navigate","wait","URL","cdpNavigateResult","errorText","reload","ignoreCache","setViewport","viewport","devicePixelRatio","width","height","deviceScaleFactor","mobile","dontSetVisibleSize","err","startsWith","handleUserPrompt","accept","promptText","activate","captureScreenshot","formatParameters","quality","format","Math","round","getImageFormatParameters","script","captureBeyondViewport","element","document","documentElement","x","y","scrollWidth","scrollHeight","visualViewport","pageLeft","pageTop","originResult","deserializeDOMRect","rect","clip","first","second","normalizeRect","max","min","getIntersectionRect","parseRect","scale","print","cdpParams","background","printBackground","margin","bottom","marginBottom","left","marginLeft","right","marginRight","marginTop","orientation","landscape","page","paperHeight","paperWidth","pageRanges","range","rangeParts","parseInteger","lowerBound","upperBound","rangeLowerPart","rangeUpperPart","Number","MAX_SAFE_INTEGER","shrinkToFit","preferCSSPageSize","Element","getBoundingClientRect","traverseHistory","delta","history","entries","currentIndex","entryId","find","box","trim","test","logHelper","getRemoteValuesText","logMessageFormatter","specifiers","isFormatSpecifier","some","spec","output","argFormat","argValues","tokens","RegExp","token","arg","stringFromArg","parseFloat","toJson","pair","val","formatText","LogManager_1","LogManager","logHelper_js_1","getBidiStackTrace","cdpStackTrace","stackFrames","callFrame","logManager","initializeEntryAddedEventListener","findRealm","argsPromise","registerPromiseEvent","LogEntryAdded","level","consoleApiType","getExceptionText","LogManager$1","NetworkUtils","cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction","cdpFetchHeadersFromBidiNetworkHeaders","bidiNetworkHeadersFromCdpFetchHeaders","cdpNetworkHeadersFromBidiNetworkHeaders","bidiNetworkHeadersFromCdpNetworkHeaders","computeHeadersSize","headers","requestHeaders","acc","header","TextEncoder","encode","action","NetworkRequest_1","NetworkRequest","NetworkUtils_js_1","requestId","interceptPhase","servedFromCache","redirectCount","networkStorage","request","response","beforeRequestSentDeferred","responseStartedDeferred","responseCompletedDeferred","info","isRedirecting","handleRedirect","queueResponseStartedEvent","queueResponseCompletedEvent","hasExtraInfo","redirectHasExtraInfo","redirectResponse","emitEventsIfReady","wasRedirected","requestExtraInfoCompleted","extraInfo","responseExtraInfoCompleted","onRequestWillBeSentEvent","queueBeforeRequestSentEvent","onRequestWillBeSentExtraInfoEvent","onResponseReceivedExtraInfoEvent","onResponseReceivedEvent","onServedFromCache","onLoadingFailedEvent","FetchError","getBaseEventParams","onRequestPaused","isIgnoredEvent","continueRequest","phase","responseErrorReason","responseStatusCode","responseStatusText","responseHeaders","networkId","addBlockedRequest","protocol","status","statusText","fromCache","mimeType","bytesReceived","headersSize","bodySize","content","size","authChallenge","failRequest","errorReason","cdpFetchRequestId","continueResponse","responseCode","responsePhrase","continueWithAuth","username","password","authChallengeResponse","provideResponse","body","btoa","statusCode","isBlocked","intercepts","getNetworkIntercepts","getNavigationId","getRequestData","wallTime","cookies","getCookies","associatedCookies","unknown","timings","getTimings","timeOrigin","requestTime","redirectStart","redirectEnd","fetchStart","dnsStart","dnsEnd","connectStart","connectEnd","tlsStart","requestStart","responseStart","responseEnd","assign","getBeforeRequestEvent","BeforeRequestSent","initiator","getInitiatorType","getResponseStartedEvent","ResponseStarted","fromDiskCache","fromPrefetchCache","encodedDataLength","getResponseReceivedEvent","ResponseCompleted","endsWith","initiatorType","filter","blockedReasons","Array","isArray","cookie","domain","path","expires","httpOnly","secure","sameSite","getCookiesSameSite","cdpSameSiteValue","NetworkRequest$1","NetworkManager_1","NetworkManager","NetworkRequest_js_1","getOrCreateNetworkRequest","getRequest","addRequest","networkManager","disposeRequestMap","deleteRequest","NetworkManager$1","CdpTarget_1","CdpTarget","LogManager_js_1","NetworkManager_js_1","targetId","preloadScriptStorage","setEventListeners","unblock","fetchEnable","getFetchEnableParams","fetchDisable","enabled","autoAttach","waitForDebuggerOnStart","flatten","initAndEvaluatePreloadScripts","isCloseError","flatMap","channels","global","initInTarget","CdpTarget$1","BrowsingContextProcessor_1","BrowsingContextProcessor","BrowsingContextImpl_js_1","CdpTarget_js_1","BrowsingContextProcessor$1","selfTargetId","getTree","contexts","root","getTopLevelContexts","MAX_VALUE","referenceContext","newWindow","detachedFromTargetPromise","onContextDestroyed","promptUnload","handleAttachedToTargetEvent","handleDetachedFromTargetEvent","handleTargetInfoChangedEvent","handleFrameAttachedEvent","handleFrameDetachedEvent","parentBrowsingContext","parentFrameId","parentSessionCdpClient","targetCdpClient","isValidTarget","debugInfo","maybeContext","preloadScript","target","InputSource","WheelSource","KeySource","NoneSource","pressed","modifiers","alt","setModifier","ctrl","meta","bit","PointerSource","pointerId","buttons","button","ClickContext","count","time","compare","DOUBLE_CLICK_TIME_MS","abs","MAX_DOUBLE_CLICK_RADIUS","clickContexts","setClickCount","storedContext","getClickCount","keyUtils","getKeyLocation","getKeyCode","getNormalizedKey","USKeyboardLayout","KeyToKeyCode","Abort","Help","Backspace","Tab","Numpad5","NumpadEnter","Enter","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","Pause","CapsLock","Escape","Convert","NonConvert","Space","Numpad9","PageUp","Numpad3","PageDown","End","Numpad1","Home","Numpad7","ArrowLeft","Numpad4","Numpad8","ArrowUp","ArrowRight","Numpad6","Numpad2","ArrowDown","Select","Open","PrintScreen","Insert","Numpad0","Delete","NumpadDecimal","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","MetaLeft","MetaRight","ContextMenu","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDivide","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","NumLock","ScrollLock","AudioVolumeMute","AudioVolumeDown","AudioVolumeUp","MediaTrackNext","MediaTrackPrevious","MediaStop","MediaPlayPause","Semicolon","Equal","NumpadEqual","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","AltGraph","Props","Cancel","Clear","Shift","Control","Alt","Accept","ModeChange","Print","Execute","a","b","d","f","g","h","j","l","q","r","s","u","z","Meta","Attn","CrSel","ExSel","EraseEof","Play","ZoomOut","$","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","Camera","EndCall","VolumeDown","VolumeUp","ActionDispatcher_1","ActionDispatcher","InputSource_js_1","keyUtils_js_1","USKeyboardLayout_js_1","CALCULATE_IN_VIEW_CENTER_PT_DECL","getClientRects","innerWidth","innerHeight","IS_MAC_DECL","navigator","platform","toLowerCase","tickStart","tickDuration","inputState","isMacOS","dispatchActions","optionsByTick","run","options","dispatchTickActions","performance","now","duration","promises","option","dispatchAction","keyState","getGlobalKeyState","dispatchKeyDownAction","cancelList","dispatchKeyUpAction","dispatchPointerDownAction","dispatchPointerMoveAction","dispatchPointerUpAction","dispatchScrollAction","pointerType","pressure","twist","tangentialPressure","tiltX","tiltY","getTilt","getCdpButton","clickCount","force","touchPoints","getRadii","startX","startY","offsetX","offsetY","targetX","targetY","getCoordinateFromOrigin","last","ratio","next","posX","posY","getElementCenter","_source","deltaX","targetDeltaX","deltaY","targetDeltaY","currentDeltaX","currentDeltaY","rawKey","repeat","location","unmodifiedText","getKeyEventUnmodifiedText","getKeyEventText","command","windowsVirtualKeyCode","autoRepeat","isSystemKey","isKeypad","commands","toLocaleUpperCase","altitudeAngle","azimuthAngle","tiltXRadians","tiltYRadians","PI","tanAlt","tan","atan","cos","sin","factor","radiusX","radiusY","Mutex_1","Mutex","Mutex$1","locked","acquirers","acquire","state","resolved","release","bind","InputState_1","InputState","Mutex_js_1","InputState$1","sources","mutex","getOrCreate","pointerIds","InputStateManager_1","InputStateManager","InputState_js_1","WeakMap","InputStateManager$1","InputProcessor_1","InputProcessor","ActionDispatcher_js_1","InputStateManager_js_1","InputProcessor$1","inputStateManager","performActions","actionsByTick","getActionsByTick","dispatcher","releaseActions","reverse","actions","parameters","item","Se","ke","getOwnPropertyNames","Ee","Ne","Re","URLPattern","urlpattern","ye","prefix","suffix","modifier","hasCustomName","Te","Ae","we","TypeError","index","substr","delimiter","prefixes","encodePart","replace","ignoreCase","sensitive","strict","end","start","te","substring","re","fe","ue","hostname","pe","pathname","de","ge","search","me","hash","parse","port","xe","baseURL","Ce","he","oe","ae","ie","le","ee","lastIndexOf","ce","se","ne","Ie","Le","exec","inputs","input","groups","compareComponent","urlpatternPolyfill","urlpattern_polyfill_1","NetworkStorage_1","NetworkStorage","UrlPattern_js_1","requestMap","interceptMap","blockedRequestMap","addIntercept","interceptId","urlPatterns","phases","removeIntercept","intercept","hasIntercepts","patterns","requestStage","requestStageFromPhase","urlPatternSpec","urlPattern","cdpFromSpecUrlPattern","handleAuthRequests","param","hasNetworkRequests","hasBlockedRequests","buildUrlPatternString","isSpecialScheme","removeBlockedRequest","getBlockedRequest","interceptIds","matchUrlPattern","NetworkStorage$1","NetworkProcessor_1","NetworkProcessor","NetworkStorage_js_1","unshift","parsedUrlPatterns","parseUrlPatterns","fetchApply","fetchId","parseUrlString","reasonPhrase","credentials","blockedRequest","getAllContexts","match","NetworkProcessor$1","PreloadScriptStorage_1","PreloadScriptStorage","PreloadScriptStorage$1","scripts","targetIds","remove","PreloadScript_1","PreloadScript","PreloadScript$1","cdpPreloadScripts","getEvaluateString","channelsArgStr","initInTargets","cdpTargets","runImmediately","from","addCdpPreloadScriptResult","preloadScriptId","identifier","cdpPreloadScript","cdpPreloadScriptId","cdpTargetId","ScriptProcessor_1","ScriptProcessor","protocol_1","ScriptProcessor$1","addPreloadScript","removePreloadScript","bidiId","getRealm","handles","getRealms","realms","SessionProcessor_1","SessionProcessor","SessionProcessor$1","ready","subscribe","events","unsubscribe","OutgoingMessage_1","OutgoingMessage","createFromPromise","messagePromise","createResolved","OutgoingMessage$1","CommandProcessor_1","CommandProcessor","EventEmitter_js_1","BidiNoOpParser_js_1","BrowserProcessor_js_1","CdpProcessor_js_1","BrowsingContextProcessor_js_1","require$$6","InputProcessor_js_1","require$$7","NetworkProcessor_js_1","require$$8","require$$9","PreloadScriptStorage_js_1","require$$10","ScriptProcessor_js_1","require$$11","SessionProcessor_js_1","require$$12","OutgoingMessage_js_1","require$$13","browserProcessor","browsingContextProcessor","cdpProcessor","inputProcessor","networkProcessor","scriptProcessor","sessionProcessor","parser","processCommand","bidi","CommandProcessor$1","BrowsingContextStorage_1","BrowsingContextStorage","BrowsingContextStorage$1","deleteContext","hasContext","findTopLevelContextId","Buffer_1","Buffer","Buffer$1","capacity","onItemRemoved","DefaultMap_1","DefaultMap","getDefaultValue","DefaultMap$1","IdWrapper_1","IdWrapper","counter","IdWrapper$1","assertSupportedEvent","isCdpEvent","at","SubscriptionManager_1","SubscriptionManager","unrollEvents","events_js_1","cartesianProduct","flat","allEvents","addEvents","SubscriptionManager$1","subscriptionPriority","channelToContextToEventMap","getChannelsSubscribedToEvent","eventMethod","keys","priority","getEventSubscriptionPriorityForChannel","sort","contextToEventMap","maybeTopLevelContextId","priorities","cdpPriority","specificEvent","eventMap","unsubscribeAll","contextIds","checkUnsubscribe","forEach","eventName","EventManager_1","EventManager","Buffer_js_1","DefaultMap_js_1","IdWrapper_js_1","SubscriptionManager_js_1","EventWrapper","idWrapper","eventBufferLength","eventToContextsMap","eventBuffers","lastMessageSent","subscriptionManager","bidiServer","getBrowsingContextStorage","getMapKey","browsingContext","eventWrapper","sortedChannels","bufferEvent","emitOutgoingMessage","markEventSent","eventNames","getBufferedEvents","bufferMapKey","lastSentMapKey","lastSentMessageId","Infinity","wrapper","_contextId","e1","e2","EventManager$1","RealmStorage_1","RealmStorage","RealmStorage$1","realmMap","maybeRealms","maybeRealm","BidiServer_1","BidiServer","ProcessingQueue_js_1","CommandProcessor_js_1","BrowsingContextStorage_js_1","EventManager_js_1","RealmStorage_js_1","messageQueue","transport","commandProcessor","handleIncomingMessage","processOutgoingMessage","messageEntry","bidiTransport","setOnMessage","createAndStart","server","discover","topLevelContextsLoaded","BidiServer$1","BidiServer_js_1","CdpClient_1","CdpClient$1","CdpClient","CloseError","CdpConnection_1","CdpConnection","CdpClient_js_1","mainBrowserCdpClient","sessionCdpClients","commandCallbacks","nextId","createCdpClient","createBrowserSession","cdpMessage","LOGGER_PREFIX_SEND","json","LOGGER_PREFIX_RECV","callbacks","CdpConnection$1","util","getParsedType","ZodParsedType","objectUtil","assertEqual","assertIs","_arg","assertNever","_x","arrayToEnum","items","obj","getValidEnumValues","validKeys","objectKeys","filtered","objectValues","arr","checker","isInteger","isFinite","floor","joinValues","array","separator","jsonStringifyReplacer","mergeShapes","string","nan","number","boolean","function","bigint","symbol","null","date","ZodError_1","ZodError","quotelessJson","util_1","ZodError$1","ZodIssueCode","issues","addIssue","sub","addIssues","subs","actualProto","setPrototypeOf","__proto__","errors","_mapper","mapper","issue","fieldErrors","_errors","processError","unionErrors","returnTypeError","argumentsError","curr","el","isEmpty","formErrors","en","_ctx","invalid_type","received","expected","invalid_literal","unrecognized_keys","invalid_union","invalid_union_discriminator","invalid_enum_value","invalid_arguments","invalid_return_type","invalid_date","invalid_string","validation","position","too_small","exact","inclusive","minimum","too_big","maximum","custom","invalid_intersection_types","not_multiple_of","multipleOf","not_finite","defaultError","getErrorMap","setErrorMap","en_1","defaultErrorMap","overrideErrorMap","isAsync","isValid","isDirty","isAborted","OK","DIRTY","INVALID","ParseStatus","addIssueToContext","EMPTY_PATH","makeIssue","errors_1","errorMaps","issueData","fullPath","fullIssue","errorMessage","maps","ctx","common","contextualErrorMap","schemaErrorMap","dirty","abort","mergeArray","results","arrayValue","mergeObjectAsync","pairs","syncPairs","mergeObjectSync","finalObject","alwaysSet","freeze","typeAliases","errorUtil","errToObj","any","ZodFirstPartyTypeKind","late","ZodSchema","Schema","ZodReadonly","ZodBranded","BRAND","ZodNaN","ZodCatch","ZodDefault","ZodNullable","ZodTransformer","ZodEffects","ZodPromise","ZodNativeEnum","ZodEnum","ZodLiteral","ZodFunction","ZodSet","ZodMap","ZodRecord","ZodTuple","ZodIntersection","ZodUnion","ZodObject","ZodArray","ZodVoid","ZodNever","ZodUnknown","ZodNull","ZodUndefined","ZodSymbol","ZodDate","ZodBoolean","ZodBigInt","ZodString","ZodType","NEVER","union","tuple","strictObject","preprocess","pipeline","ostring","onumber","oboolean","never","nativeEnum","literal","lazy","intersection","instanceof","enum","effect","discriminatedUnion","errorUtil_1","parseUtil_1","ParseInputLazyPath","_cachedPath","_path","_key","handleResult","success","processCreateParams","errorMap","invalid_type_error","required_error","description","iss","def","spa","safeParseAsync","_def","safeParse","parseAsync","refine","refinement","superRefine","optional","nullable","nullish","or","and","transform","brand","describe","pipe","readonly","isNullable","isOptional","_getType","_getOrReturnCtx","parsedType","_processInputParams","_parseSync","_parse","_parseAsync","_a","maybeAsyncResult","check","getIssueProperties","_refinement","setError","refinementData","schema","typeName","ZodOptional","incoming","defaultValueFunc","innerType","catchValueFunc","catchValue","This","ZodPipeline","cuidRegex","cuid2Regex","ulidRegex","uuidRegex","emailRegex","emojiRegex","ipv4Regex","ipv6Regex","coerce","checks","tooBig","tooSmall","regex","lastIndex","toUpperCase","precision","offset","ip","version","_regex","_addCheck","email","emoji","cuid","cuid2","ulid","datetime","minLength","maxLength","len","nonempty","isDatetime","ch","isEmail","isURL","isEmoji","isUUID","isCUID","isCUID2","isULID","isIP","floatSafeRemainder","step","valDecCount","stepDecCount","decCount","toFixed","pow","ZodNumber","gte","lte","setLimit","gt","lt","int","positive","negative","nonpositive","nonnegative","finite","safe","MIN_SAFE_INTEGER","minValue","maxValue","isInt","BigInt","minDate","maxDate","ZodAny","_any","_unknown","void","exactLength","deepPartialify","newShape","shape","fieldSchema","unwrap","_cached","nonstrict","passthrough","augment","extend","_getCached","shapeKeys","extraKeys","catchall","unknownKeys","keyValidator","_b","_c","_d","strip","augmentation","merge","merging","setKey","pick","mask","omit","deepPartial","partial","required","newField","keyof","createZodEnum","strictCreate","lazycreate","childCtx","types","getDiscriminator","ZodLazy","ZodDiscriminatedUnion","discriminator","discriminatorValue","optionsMap","discriminatorValues","mergeValues","aType","bType","valid","bKeys","sharedKeys","newObj","sharedValue","newArray","handleParsed","parsedLeft","parsedRight","merged","rest","itemIndex","schemas","keySchema","keyType","valueSchema","valueType","third","finalMap","minSize","maxSize","finalizeSet","elements","parsedSet","validate","implement","makeArgsIssue","makeReturnsIssue","returns","fn","parsedArgs","Reflect","apply","parsedReturns","returnType","func","strictImplement","getter","expectedValues","enumValues","Values","Enum","extract","exclude","opt","nativeEnumValues","promisified","sourceType","checkCtx","fatal","processed","executeRefinement","inner","base","createWithPreprocess","removeDefault","newCtx","removeCatch","inResult","in","out","handleAsync","_fatal","p2","cls","stringType","numberType","nanType","bigIntType","booleanType","dateType","symbolType","undefinedType","nullType","anyType","unknownType","neverType","voidType","arrayType","objectType","strictObjectType","unionType","discriminatedUnionType","intersectionType","tupleType","recordType","record","mapType","setType","functionType","lazyType","literalType","enumType","nativeEnumType","promiseType","effectsType","transformer","optionalType","nullableType","preprocessType","pipelineType","Input","LogEventSchema","ScriptResultSchema","ScriptEventSchema","NetworkResultSchema","NetworkEventSchema","BrowsingContextResultSchema","BrowsingContextEventSchema","BrowsingContextCommandSchema","BrowserCommandSchema","Session","SessionResultSchema","SessionCommandSchema","JsUintSchema","JsIntSchema","ExtensibleSchema","EmptyResultSchema","MessageSchema","EmptyParamsSchema","ResultDataSchema","CommandDataSchema","CommandResponseSchema","CommandSchema","EventSchema","zod_1","Browser","EventDataSchema","InputCommandSchema","NetworkCommandSchema","ScriptCommandSchema","ErrorResponseSchema","ErrorCodeSchema","EndSchema","NewSchema","StatusSchema","SubscribeSchema","UnsubscribeSchema","NewResultSchema","StatusResultSchema","CapabilitiesRequestSchema","alwaysMatch","CapabilityRequestSchema","firstMatch","acceptInsecureCerts","browserName","browserVersion","platformName","proxy","proxyType","proxyAutoconfigUrl","ftpProxy","httpProxy","noProxy","sslProxy","socksProxy","socksVersion","SubscriptionRequestSchema","BrowsingContextSchema","NewParametersSchema","capabilities","setWindowRect","CloseSchema","ActivateSchema","CaptureScreenshotSchema","CreateSchema","GetTreeSchema","HandleUserPromptSchema","LocateNodesSchema","NavigateSchema","PrintSchema","ReloadSchema","SetViewportSchema","TraverseHistorySchema","ContextCreatedSchema","ContextDestroyedSchema","DomContentLoadedSchema","DownloadWillBeginSchema","FragmentNavigatedSchema","LoadSchema","NavigationAbortedSchema","NavigationFailedSchema","NavigationStartedSchema","UserPromptClosedSchema","UserPromptOpenedSchema","CaptureScreenshotResultSchema","CreateResultSchema","GetTreeResultSchema","LocateNodesResultSchema","NavigateResultSchema","PrintResultSchema","TraverseHistoryResultSchema","InfoListSchema","InfoSchema","LocatorSchema","CssLocatorSchema","InnerTextLocatorSchema","XPathLocatorSchema","matchType","NavigationSchema","NavigationInfoSchema","ReadinessStateSchema","ActivateParametersSchema","CaptureScreenshotParametersSchema","ImageFormatSchema","ClipRectangleSchema","BoxClipRectangleSchema","ElementClipRectangleSchema","SharedReferenceSchema","CloseParametersSchema","CreateParametersSchema","CreateTypeSchema","GetTreeParametersSchema","HandleUserPromptParametersSchema","LocateNodesParametersSchema","locator","maxNodeCount","ResultOwnershipSchema","SerializationOptionsSchema","startNodes","nodes","NodeRemoteValueSchema","NavigateParametersSchema","PrintParametersSchema","PrintMarginParametersSchema","PrintPageParametersSchema","ReloadParametersSchema","SetViewportParametersSchema","ViewportSchema","TraverseHistoryParametersSchema","UserPromptClosedParametersSchema","UserPromptOpenedParametersSchema","AddInterceptSchema","ContinueRequestSchema","ContinueResponseSchema","ContinueWithAuthSchema","FailRequestSchema","ProvideResponseSchema","RemoveInterceptSchema","AuthRequiredSchema","BeforeRequestSentSchema","FetchErrorSchema","ResponseCompletedSchema","ResponseStartedSchema","AddInterceptResultSchema","AuthChallengeSchema","scheme","AuthCredentialsSchema","BaseParametersSchema","RequestDataSchema","InterceptSchema","BytesValueSchema","StringValueSchema","Base64ValueSchema","CookieSchema","expiry","CookieHeaderSchema","FetchTimingInfoSchema","HeaderSchema","InitiatorSchema","StackTraceSchema","RequestSchema","ResponseContentSchema","ResponseDataSchema","SetCookieHeaderSchema","maxAge","UrlPatternSchema","UrlPatternPatternSchema","UrlPatternStringSchema","AddInterceptParametersSchema","InterceptPhaseSchema","ContinueRequestParametersSchema","ContinueResponseParametersSchema","ContinueWithAuthParametersSchema","ContinueWithAuthCredentialsSchema","ContinueWithAuthNoCredentialsSchema","FailRequestParametersSchema","ProvideResponseParametersSchema","RemoveInterceptParametersSchema","RealmCreatedSchema","RealmDestroyedSchema","AuthRequiredParametersSchema","BeforeRequestSentParametersSchema","FetchErrorParametersSchema","ResponseCompletedParametersSchema","ResponseStartedParametersSchema","AddPreloadScriptSchema","CallFunctionSchema","DisownSchema","EvaluateSchema","GetRealmsSchema","RemovePreloadScriptSchema","AddPreloadScriptResultSchema","EvaluateResultSchema","GetRealmsResultSchema","ChannelSchema","EvaluateResultSuccessSchema","RemoteValueSchema","RealmSchema","ExceptionDetailsSchema","ChannelValueSchema","ChannelPropertiesSchema","EvaluateResultExceptionSchema","HandleSchema","InternalIdSchema","ListLocalValueSchema","LocalValueSchema","RemoteReferenceSchema","PrimitiveProtocolValueSchema","ArrayLocalValueSchema","DateLocalValueSchema","MapLocalValueSchema","ObjectLocalValueSchema","RegExpLocalValueSchema","SetLocalValueSchema","MappingLocalValueSchema","RegExpValueSchema","PreloadScriptSchema","UndefinedValueSchema","NullValueSchema","NumberValueSchema","BooleanValueSchema","BigIntValueSchema","SpecialNumberSchema","RealmInfoSchema","WindowRealmInfoSchema","DedicatedWorkerRealmInfoSchema","SharedWorkerRealmInfoSchema","ServiceWorkerRealmInfoSchema","WorkerRealmInfoSchema","PaintWorkletRealmInfoSchema","AudioWorkletRealmInfoSchema","WorkletRealmInfoSchema","BaseRealmInfoSchema","RealmTypeSchema","ListRemoteValueSchema","MappingRemoteValueSchema","SymbolRemoteValueSchema","ArrayRemoteValueSchema","ObjectRemoteValueSchema","FunctionRemoteValueSchema","RegExpRemoteValueSchema","DateRemoteValueSchema","MapRemoteValueSchema","SetRemoteValueSchema","WeakMapRemoteValueSchema","WeakSetRemoteValueSchema","IteratorRemoteValueSchema","GeneratorRemoteValueSchema","ErrorRemoteValueSchema","ProxyRemoteValueSchema","PromiseRemoteValueSchema","TypedArrayRemoteValueSchema","ArrayBufferRemoteValueSchema","NodeListRemoteValueSchema","HtmlCollectionRemoteValueSchema","WindowProxyRemoteValueSchema","RemoteObjectReferenceSchema","SharedIdSchema","NodePropertiesSchema","nodeType","childNodeCount","attributes","localName","mode","nodeValue","WindowProxyPropertiesSchema","StackFrameSchema","SourceSchema","RealmTargetSchema","ContextTargetSchema","TargetSchema","AddPreloadScriptParametersSchema","DisownParametersSchema","CallFunctionParametersSchema","EvaluateParametersSchema","GetRealmsParametersSchema","RemovePreloadScriptParametersSchema","MessageParametersSchema","RealmDestroyedParametersSchema","EntryAddedSchema","LevelSchema","EntrySchema","GenericLogEntrySchema","ConsoleLogEntrySchema","JavascriptLogEntrySchema","BaseLogEntrySchema","PerformActionsSchema","ReleaseActionsSchema","ElementOriginSchema","PerformActionsParametersSchema","SourceActionsSchema","NoneSourceActionsSchema","NoneSourceActionSchema","KeySourceActionsSchema","KeySourceActionSchema","PointerSourceActionsSchema","PointerParametersSchema","PointerSourceActionSchema","WheelSourceActionsSchema","PauseActionSchema","KeyDownActionSchema","KeyUpActionSchema","PointerTypeSchema","WheelSourceActionSchema","PointerDownActionSchema","PointerUpActionSchema","PointerMoveActionSchema","WheelScrollActionSchema","PointerCommonPropertiesSchema","OriginSchema","ReleaseActionsParametersSchema","protocolParser","parseObject","WebDriverBidi","parseResult","parseAddInterceptParameters","parseContinueRequestParameters","parseContinueResponseParameters","parseContinueWithAuthParameters","parseFailRequestParameters","parseProvideResponseParameters","parseRemoveInterceptParameters","parseHandleUserPromptParameters","SendCommandRequestSchema","GetSessionRequestSchema","parseSendCommandRequest","parseGetSessionRequest","BidiParser_1","BidiParser","Parser","BidiParser$1","mapperTabPage","generatePage","findOrCreateTypeLogContainer","logPrefix","logType","containerId","existingContainer","getElementById","debugElement","divider","createElement","className","appendChild","htmlItem","innerHTML","messages","sendDebugMessage","typeLogContainer","lineElement","textContent","Transport","WindowCdpTransport","WindowBidiTransport","mapperTabPage_js_1","onBidiMessage","parseBidiMessage","respondWithError","sendBidiResponse","plainCommandData","errorCode","errorResponse","getErrorResponse","getJsonType","messageId","idType","methodType","paramsType","channelType","onmessage","send","bidiTab","BidiMapper_js_1","CdpConnection_js_1","BidiParser_js_1","Transport_js_1","mapperTabToServerTransport","cdpTransport","runMapperInstance","console","setSelfTargetId","launched"],"mappings":"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O,OATX,IAAK,SACD,MAAO,iBA6BX,QACI,OAAOA,EAEnB,EAyQkBixB,GAAAE,WAvQlB,SAAoB9d,GAChB,OAAQA,GACJ,IAAK,IACL,IAAK,IACD,MAAO,YACX,IAAK,KACL,IAAK,IACD,MAAO,YACX,IAAK,SACD,MAAO,YACX,IAAK,IACL,IAAK,IACD,MAAO,cACX,IAAK,IACL,IAAK,IACD,MAAO,eACX,IAAK,IACL,IAAK,IACD,MAAO,QACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,QACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,OACX,IAAK,IACL,IAAK,IACD,MAAO,QACX,IAAK,IACD,MAAO,SACX,IAAK,IACL,IAAK,IACD,MAAO,QACX,IAAK,IACL,IAAK,IACD,MAAO,YACX,IAAK,IACL,IAAK,IACD,MAAO,QACX,IAAK,SACD,MAAO,UACX,IAAK,SACD,MAAO,WACX,IAAK,SACD,MAAO,cACX,IAAK,SACD,MAAO,eACX,IAAK,SACD,MAAO,QACX,IAAK,SACD,MAAO,WACX,IAAK,SACD,MAAO,YACX,IAAK,SACD,MAAO,YACX,IAAK,SACD,MAAO,aACX,IAAK,IACL,IAAK,SACD,MAAO,QACX,IAAK,SACD,MAAO,MACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,MACX,IAAK,SACD,MAAO,OACX,IAAK,SACD,MAAO,OACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,WACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,YACX,IAAK,SACD,MAAO,YACX,IAAK,SACD,MAAO,aACX,IAAK,SACD,MAAO,UACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,KACX,IAAK,SACD,MAAO,MACX,IAAK,SACD,MAAO,MACX,IAAK,SACD,MAAO,MACX,IAAK,SACL,IAAK,SACD,MAAO,UACX,IAAK,SACL,IAAK,SACD,MAAO,UACX,IAAK,SACL,IAAK,SACD,MAAO,UACX,IAAK,SACL,IAAK,SACD,MAAO,UACX,IAAK,SACL,IAAK,SACD,MAAO,UACX,IAAK,SACD,MAAO,UACX,IAAK,S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","x_google_ignoreList":[0,34,35,57,58,59,60,61,62,63,64,65,66]}